"use strict";(self.webpackChunkportfolioVue=self.webpackChunkportfolioVue||[]).push([[179],{310:()=>{function Vt(n){return"function"==typeof n}function Iu(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const th=Iu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ru(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class mr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Vt(i))try{i()}catch(s){e=s instanceof th?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{PE(s)}catch(o){e=e??[],o instanceof th?e=[...e,...o.errors]:e.push(o)}}if(e)throw new th(e)}}add(e){var t;if(e&&e!==this)if(this.closed)PE(e);else{if(e instanceof mr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ru(t,e)}remove(e){const{_finalizers:t}=this;t&&Ru(t,e),e instanceof mr&&e._removeParent(this)}}mr.EMPTY=(()=>{const n=new mr;return n.closed=!0,n})();const CE=mr.EMPTY;function DE(n){return n instanceof mr||n&&"closed"in n&&Vt(n.remove)&&Vt(n.add)&&Vt(n.unsubscribe)}function PE(n){Vt(n)?n():n.unsubscribe()}const da={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},nh={setTimeout(n,e,...t){const{delegate:i}=nh;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=nh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function IE(n){nh.setTimeout(()=>{const{onUnhandledError:e}=da;if(!e)throw n;e(n)})}function RE(){}const nF=gv("C",void 0,void 0);function gv(n,e,t){return{kind:n,value:e,error:t}}let fa=null;function ih(n){if(da.useDeprecatedSynchronousErrorHandling){const e=!fa;if(e&&(fa={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=fa;if(fa=null,t)throw i}}else n()}class vv extends mr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,DE(e)&&e.add(this)):this.destination=cF}static create(e,t,i){return new Lu(e,t,i)}next(e){this.isStopped?_v(function rF(n){return gv("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?_v(function iF(n){return gv("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_v(nF,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const oF=Function.prototype.bind;function yv(n,e){return oF.call(n,e)}class aF{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){rh(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){rh(i)}else rh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){rh(t)}}}class Lu extends vv{constructor(e,t,i){let r;if(super(),Vt(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&da.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&yv(e.next,s),error:e.error&&yv(e.error,s),complete:e.complete&&yv(e.complete,s)}):r=e}this.destination=new aF(r)}}function rh(n){da.useDeprecatedSynchronousErrorHandling?function sF(n){da.useDeprecatedSynchronousErrorHandling&&fa&&(fa.errorThrown=!0,fa.error=n)}(n):IE(n)}function _v(n,e){const{onStoppedNotification:t}=da;t&&nh.setTimeout(()=>t(n,e))}const cF={closed:!0,next:RE,error:function lF(n){throw n},complete:RE},wv="function"==typeof Symbol&&Symbol.observable||"@@observable";function ha(n){return n}function LE(n){return 0===n.length?ha:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Rn=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function fF(n){return n&&n instanceof vv||function dF(n){return n&&Vt(n.next)&&Vt(n.error)&&Vt(n.complete)}(n)&&DE(n)}(t)?t:new Lu(t,i,r);return ih(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=OE(i))((r,s)=>{const o=new Lu({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[wv](){return this}pipe(...t){return LE(t)(this)}toPromise(t){return new(t=OE(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function OE(n){var e;return null!==(e=n??da.Promise)&&void 0!==e?e:Promise}const hF=Iu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ds=(()=>{class n extends Rn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new NE(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new hF}next(t){ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ih(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?CE:(this.currentObservers=null,s.push(t),new mr(()=>{this.currentObservers=null,Ru(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Rn;return t.source=this,t}}return n.create=(e,t)=>new NE(e,t),n})();class NE extends Ds{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:CE}}function FE(n){return Vt(n?.lift)}function Hn(n){return e=>{if(FE(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vn(n,e,t,i,r){return new pF(n,e,t,i,r)}class pF extends vv{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Et(n,e){return Hn((t,i)=>{let r=0;t.subscribe(Vn(i,s=>{i.next(n.call(e,s,r++))}))})}function So(n){return this instanceof So?(this.v=n,this):new So(n)}function zE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Mv(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const HE=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function VE(n){return Vt(n?.then)}function GE(n){return Vt(n[wv])}function WE(n){return Symbol.asyncIterator&&Vt(n?.[Symbol.asyncIterator])}function jE(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const YE=function FF(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function XE(n){return Vt(n?.[YE])}function qE(n){return function kE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(f){i[f]&&(r[f]=function(h){return new Promise(function(p,m){s.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof So?Promise.resolve(f.value.v).then(c,u):d(s[0][2],f)}(i[f](h))}catch(p){d(s[0][3],p)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield So(t.read());if(r)return yield So(void 0);yield yield So(i)}}finally{t.releaseLock()}})}function QE(n){return Vt(n?.getReader)}function Br(n){if(n instanceof Rn)return n;if(null!=n){if(GE(n))return function UF(n){return new Rn(e=>{const t=n[wv]();if(Vt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(HE(n))return function BF(n){return new Rn(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(VE(n))return function kF(n){return new Rn(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,IE)})}(n);if(WE(n))return KE(n);if(XE(n))return function zF(n){return new Rn(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(QE(n))return function HF(n){return KE(qE(n))}(n)}throw jE(n)}function KE(n){return new Rn(e=>{(function VF(n,e){var t,i,r,s;return function UE(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=zE(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ps(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Xn(n,e,t=1/0){return Vt(e)?Xn((i,r)=>Et((s,o)=>e(i,s,r,o))(Br(n(i,r))),t):("number"==typeof e&&(t=e),Hn((i,r)=>function GF(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&e.complete()},h=m=>c<i?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let g=!1;Br(t(m,u++)).subscribe(Vn(e,v=>{r?.(v),s?h(v):e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const v=l.shift();o?Ps(e,o,()=>p(v)):p(v)}f()}catch(v){e.error(v)}}))};return n.subscribe(Vn(e,h,()=>{d=!0,f()})),()=>{a?.()}}(i,r,n,t)))}function El(n=1/0){return Xn(ha,n)}const is=new Rn(n=>n.complete());function bv(n){return n[n.length-1]}function Ou(n){return function jF(n){return n&&Vt(n.schedule)}(bv(n))?n.pop():void 0}function ZE(n,e=0){return Hn((t,i)=>{t.subscribe(Vn(i,r=>Ps(i,n,()=>i.next(r),e),()=>Ps(i,n,()=>i.complete(),e),r=>Ps(i,n,()=>i.error(r),e)))})}function $E(n,e=0){return Hn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function JE(n,e){if(!n)throw new Error("Iterable cannot be null");return new Rn(t=>{Ps(t,e,()=>{const i=n[Symbol.asyncIterator]();Ps(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Ln(n,e){return e?function JF(n,e){if(null!=n){if(GE(n))return function qF(n,e){return Br(n).pipe($E(e),ZE(e))}(n,e);if(HE(n))return function KF(n,e){return new Rn(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(VE(n))return function QF(n,e){return Br(n).pipe($E(e),ZE(e))}(n,e);if(WE(n))return JE(n,e);if(XE(n))return function ZF(n,e){return new Rn(t=>{let i;return Ps(t,e,()=>{i=n[YE](),Ps(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>Vt(i?.return)&&i.return()})}(n,e);if(QE(n))return function $F(n,e){return JE(qE(n),e)}(n,e)}throw jE(n)}(n,e):Br(n)}function Av(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Lu({next:()=>{i.unsubscribe(),n()}});return Br(e(...t)).subscribe(i)}function kt(n){for(let e in n)if(n[e]===kt)return e;throw Error("Could not find renamed property on target object.")}function Gt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Gt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Cv(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const nU=kt({__forward_ref__:kt});function Dv(n){return n.__forward_ref__=Dv,n.toString=function(){return Gt(this())},n}function Ge(n){return Pv(n)?n():n}function Pv(n){return"function"==typeof n&&n.hasOwnProperty(nU)&&n.__forward_ref__===Dv}function Iv(n){return n&&!!n.\u0275providers}class se extends Error{constructor(e,t){super(sh(e,t)),this.code=e}}function sh(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function et(n){return"string"==typeof n?n:null==n?"":String(n)}function oh(n,e){throw new se(-201,!1)}function gr(n,e){null==n&&function Rt(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function ke(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Is(n){return{providers:n.providers||[],imports:n.imports||[]}}function ah(n){return tM(n,lh)||tM(n,iM)}function tM(n,e){return n.hasOwnProperty(e)?n[e]:null}function nM(n){return n&&(n.hasOwnProperty(Rv)||n.hasOwnProperty(uU))?n[Rv]:null}const lh=kt({\u0275prov:kt}),Rv=kt({\u0275inj:kt}),iM=kt({ngInjectableDef:kt}),uU=kt({ngInjectorDef:kt});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let Lv;function vr(n){const e=Lv;return Lv=n,e}function rM(n,e,t){const i=ah(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&We.Optional?null:void 0!==e?e:void oh(Gt(n))}const Yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nu={},Ov="__NG_DI_FLAG__",ch="ngTempTokenPath",fU="ngTokenPath",hU=/\n/gm,pU="\u0275",sM="__source";let Fu;function Ml(n){const e=Fu;return Fu=n,e}function mU(n,e=We.Default){if(void 0===Fu)throw new se(-203,!1);return null===Fu?rM(n,void 0,e):Fu.get(n,e&We.Optional?null:void 0,e)}function Fe(n,e=We.Default){return(function dU(){return Lv}()||mU)(Ge(n),e)}function Mt(n,e=We.Default){return Fe(n,uh(e))}function uh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Nv(n){const e=[];for(let t=0;t<n.length;t++){const i=Ge(n[t]);if(Array.isArray(i)){if(0===i.length)throw new se(900,!1);let r,s=We.Default;for(let o=0;o<i.length;o++){const a=i[o],l=gU(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(Fe(r,s))}else e.push(Fe(i))}return e}function Uu(n,e){return n[Ov]=e,n.prototype[Ov]=e,n}function gU(n){return n[Ov]}function Rs(n){return{toString:n}.toString()}var rs=(()=>((rs=rs||{})[rs.OnPush=0]="OnPush",rs[rs.Default=1]="Default",rs))(),kr=(()=>{return(n=kr||(kr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",kr;var n})();const Ls={},Pt=[],dh=kt({\u0275cmp:kt}),Fv=kt({\u0275dir:kt}),Uv=kt({\u0275pipe:kt}),aM=kt({\u0275mod:kt}),Os=kt({\u0275fac:kt}),Bu=kt({__NG_ELEMENT_ID__:kt});let _U=0;function ku(n){return Rs(()=>{const e=cM(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===rs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||kr.Emulated,id:"c"+_U++,styles:n.styles||Pt,_:null,schemas:n.schemas||null,tView:null};uM(t);const i=n.dependencies;return t.directiveDefs=fh(i,!1),t.pipeDefs=fh(i,!0),t})}function xU(n){return Lt(n)||$n(n)}function SU(n){return null!==n}function Mo(n){return Rs(()=>({type:n.type,bootstrap:n.bootstrap||Pt,declarations:n.declarations||Pt,imports:n.imports||Pt,exports:n.exports||Pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function lM(n,e){if(null==n)return Ls;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function hi(n){return Rs(()=>{const e=cM(n);return uM(e),e})}function Lt(n){return n[dh]||null}function $n(n){return n[Fv]||null}function Pi(n){return n[Uv]||null}function Xi(n,e){const t=n[aM]||null;if(!t&&!0===e)throw new Error(`Type ${Gt(n)} does not have '\u0275mod' property.`);return t}function cM(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Pt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lM(n.inputs,e),outputs:lM(n.outputs)}}function uM(n){n.features?.forEach(e=>e(n))}function fh(n,e){if(!n)return null;const t=e?Pi:xU;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(SU)}const Ns=0,De=1,ot=2,ln=3,zr=4,pa=5,Jn=6,Al=7,vn=8,hh=9,ph=10,dt=11,Bv=12,zu=13,dM=14,Tl=15,ei=16,Hu=17,Cl=18,ss=19,Vu=20,fM=21,Xt=22,kv=1,hM=2,mh=7,gh=8,Dl=9,pi=10;function qi(n){return Array.isArray(n)&&"object"==typeof n[kv]}function Hr(n){return Array.isArray(n)&&!0===n[kv]}function zv(n){return 0!=(4&n.flags)}function Gu(n){return n.componentOffset>-1}function vh(n){return 1==(1&n.flags)}function Vr(n){return!!n.template}function MU(n){return 0!=(256&n[ot])}function ma(n,e){return n.hasOwnProperty(Os)?n[Os]:null}class TU{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ga(){return gM}function gM(n){return n.type.prototype.ngOnChanges&&(n.setInput=DU),CU}function CU(){const n=yM(this),e=n?.current;if(e){const t=n.previous;if(t===Ls)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function DU(n,e,t,i){const r=this.declaredInputs[t],s=yM(n)||function PU(n,e){return n[vM]=e}(n,{previous:Ls,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new TU(l&&l.currentValue,e,a===Ls),n[i]=e}ga.ngInherit=!0;const vM="__ngSimpleChanges__";function yM(n){return n[vM]||null}const yr=function(n,e,t){},_M="svg";function qn(n){for(;Array.isArray(n);)n=n[Ns];return n}function Qi(n,e){return qn(e[n.index])}function Ii(n,e){const t=e[n];return qi(t)?t:t[Ns]}function _h(n){return 64==(64&n[ot])}function bo(n,e){return null==e?null:n[e]}function SM(n){n[Cl]=0}function Vv(n,e){n[pa]+=e;let t=n,i=n[ln];for(;null!==i&&(1===e&&1===t[pa]||-1===e&&0===t[pa]);)i[pa]+=e,t=i,i=i[ln]}const tt={lFrame:RM(null),bindingsEnabled:!0};function MM(){return tt.bindingsEnabled}function oe(){return tt.lFrame.lView}function Ct(){return tt.lFrame.tView}function Qn(){let n=bM();for(;null!==n&&64===n.type;)n=n.parent;return n}function bM(){return tt.lFrame.currentTNode}function os(n,e){const t=tt.lFrame;t.currentTNode=n,t.isParent=e}function Gv(){return tt.lFrame.isParent}function jU(n,e){const t=tt.lFrame;t.bindingIndex=t.bindingRootIndex=n,jv(e)}function jv(n){tt.lFrame.currentDirectiveIndex=n}function DM(){return tt.lFrame.currentQueryIndex}function Xv(n){tt.lFrame.currentQueryIndex=n}function XU(n){const e=n[De];return 2===e.type?e.declTNode:1===e.type?n[Jn]:null}function PM(n,e,t){if(t&We.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&We.Host||(r=XU(s),null===r||(s=s[Tl],10&r.type))););if(null===r)return!1;e=r,n=s}const i=tt.lFrame=IM();return i.currentTNode=e,i.lView=n,!0}function qv(n){const e=IM(),t=n[De];tt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function IM(){const n=tt.lFrame,e=null===n?null:n.child;return null===e?RM(n):e}function RM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function LM(){const n=tt.lFrame;return tt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const OM=LM;function Qv(){const n=LM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gi(){return tt.lFrame.selectedIndex}function va(n){tt.lFrame.selectedIndex=n}function Wt(){tt.lFrame.currentNamespace=_M}function qt(){!function ZU(){tt.lFrame.currentNamespace=null}()}function wh(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks??(n.contentHooks=[])).push(t,a),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks??(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks??(n.viewHooks=[])).push(t,c),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function xh(n,e,t){NM(n,e,3,t)}function Sh(n,e,t,i){(3&n[ot])===t&&NM(n,e,t,i)}function Kv(n,e){let t=n[ot];(3&t)===e&&(t&=2047,t+=1,n[ot]=t)}function NM(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Cl]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Cl]+=65536),(a<s||-1==s)&&(eB(n,t,e,l),n[Cl]=(4294901760&n[Cl])+l+2),l++}function eB(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[ot]>>11<n[Cl]>>16&&(3&n[ot])===e){n[ot]+=2048,yr(4,a,s);try{s.call(a)}finally{yr(5,a,s)}}}else{yr(4,a,s);try{s.call(a)}finally{yr(5,a,s)}}}const Rl=-1;class ju{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function $v(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];UM(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function FM(n){return 3===n||4===n||6===n}function UM(n){return 64===n.charCodeAt(0)}function Yu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||BM(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function BM(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function kM(n){return n!==Rl}function Eh(n){return 32767&n}function Mh(n,e){let t=function rB(n){return n>>16}(n),i=e;for(;t>0;)i=i[Tl],t--;return i}let Jv=!0;function bh(n){const e=Jv;return Jv=n,e}const zM=255,HM=5;let sB=0;const as={};function Ah(n,e){const t=VM(n,e);if(-1!==t)return t;const i=e[De];i.firstCreatePass&&(n.injectorIndex=e.length,e0(i.data,n),e0(e,null),e0(i.blueprint,null));const r=t0(n,e),s=n.injectorIndex;if(kM(r)){const o=Eh(r),a=Mh(r,e),l=a[De].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function e0(n,e){n.push(0,0,0,0,0,0,0,0,e)}function VM(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function t0(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=KM(r),null===i)return Rl;if(t++,r=r[Tl],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Rl}function n0(n,e,t){!function oB(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Bu)&&(i=t[Bu]),null==i&&(i=t[Bu]=sB++);const r=i&zM;e.data[n+(r>>HM)]|=1<<r}(n,e,t)}function GM(n,e,t){if(t&We.Optional||void 0!==n)return n;oh()}function WM(n,e,t,i){if(t&We.Optional&&void 0===i&&(i=null),!(t&(We.Self|We.Host))){const r=n[hh],s=vr(void 0);try{return r?r.get(e,i,t&We.Optional):rM(e,i,t&We.Optional)}finally{vr(s)}}return GM(i,0,t)}function jM(n,e,t,i=We.Default,r){if(null!==n){if(1024&e[ot]){const o=function dB(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[ot]&&!(256&o[ot]);){const a=YM(s,o,t,i|We.Self,as);if(a!==as)return a;let l=s.parent;if(!l){const c=o[fM];if(c){const u=c.get(t,as,i);if(u!==as)return u}l=KM(o),o=o[Tl]}s=l}return r}(n,e,t,i,as);if(o!==as)return o}const s=YM(n,e,t,i,as);if(s!==as)return s}return WM(e,t,i,r)}function YM(n,e,t,i,r){const s=function cB(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Bu)?n[Bu]:void 0;return"number"==typeof e?e>=0?e&zM:uB:e}(t);if("function"==typeof s){if(!PM(e,n,i))return i&We.Host?GM(r,0,i):WM(e,t,i,r);try{const o=s(i);if(null!=o||i&We.Optional)return o;oh()}finally{OM()}}else if("number"==typeof s){let o=null,a=VM(n,e),l=Rl,c=i&We.Host?e[ei][Jn]:null;for((-1===a||i&We.SkipSelf)&&(l=-1===a?t0(n,e):e[a+8],l!==Rl&&qM(i,!1)?(o=e[De],a=Eh(l),e=Mh(l,e)):a=-1);-1!==a;){const u=e[De];if(XM(s,a,u.data)){const d=lB(a,e,t,o,i,c);if(d!==as)return d}l=e[a+8],l!==Rl&&qM(i,e[De].data[a+8]===c)&&XM(s,a,e)?(o=u,a=Eh(l),e=Mh(l,e)):a=-1}}return r}function lB(n,e,t,i,r,s){const o=e[De],a=o.data[n+8],u=Th(a,o,t,null==i?Gu(a)&&Jv:i!=o&&0!=(3&a.type),r&We.Host&&s===a);return null!==u?ya(e,o,u,a):as}function Th(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,f=r?a+u:n.directiveEnd;for(let h=i?a:a+u;h<f;h++){const p=o[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(r){const h=o[l];if(h&&Vr(h)&&h.type===t)return l}return null}function ya(n,e,t,i){let r=n[t];const s=e.data;if(function tB(n){return n instanceof ju}(r)){const o=r;o.resolving&&function iU(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new se(-200,`Circular dependency in DI detected for ${n}${t}`)}(function It(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():et(n)}(s[t]));const a=bh(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?vr(o.injectImpl):null;PM(n,i,We.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function JU(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=gM(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&vr(l),bh(a),o.resolving=!1,OM()}}return r}function XM(n,e,t){return!!(t[e+(n>>HM)]&1<<n)}function qM(n,e){return!(n&We.Self||n&We.Host&&e)}class Ll{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return jM(this._tNode,this._lView,e,uh(i),t)}}function uB(){return new Ll(Qn(),oe())}function r0(n){return Pv(n)?()=>{const e=r0(Ge(n));return e&&e()}:ma(n)}function KM(n){const e=n[De],t=e.type;return 2===t?e.declTNode:1===t?n[Jn]:null}const Nl="__parameters__";function Ul(n,e,t){return Rs(()=>{const i=function s0(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Nl)?l[Nl]:Object.defineProperty(l,Nl,{value:[]})[Nl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Xe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ke({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _a(n,e){n.forEach(t=>Array.isArray(t)?_a(t,e):e(t))}function $M(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Dh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}const Ku=Uu(Ul("Optional"),8),Zu=Uu(Ul("SkipSelf"),4);var Ri=(()=>((Ri=Ri||{})[Ri.Important=1]="Important",Ri[Ri.DashCase=2]="DashCase",Ri))();const h0=new Map;let UB=0;const m0="__ngContext__";function ti(n,e){qi(e)?(n[m0]=e[Vu],function kB(n){h0.set(n[Vu],n)}(e)):n[m0]=e}let g0;function v0(n,e){return g0(n,e)}function td(n){const e=n[ln];return Hr(e)?e[ln]:e}function y0(n){return _b(n[zu])}function _0(n){return _b(n[zr])}function _b(n){for(;null!==n&&!Hr(n);)n=n[zr];return n}function zl(n,e,t,i,r){if(null!=i){let s,o=!1;Hr(i)?s=i:qi(i)&&(o=!0,i=i[Ns]);const a=qn(i);0===n&&null!==t?null==r?bb(e,t,a):wa(e,t,a,r||null,!0):1===n&&null!==t?wa(e,t,a,r||null,!0):2===n?function A0(n,e,t){const i=Lh(n,e);i&&function s3(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function l3(n,e,t,i,r){const s=t[mh];s!==qn(t)&&zl(e,n,i,s,r);for(let a=pi;a<t.length;a++){const l=t[a];nd(l[De],l,n,e,i,s)}}(e,n,s,t,r)}}function x0(n,e,t){return n.createElement(e,t)}function xb(n,e){const t=n[Dl],i=t.indexOf(e),r=e[ln];512&e[ot]&&(e[ot]&=-513,Vv(r,-1)),t.splice(i,1)}function S0(n,e){if(n.length<=pi)return;const t=pi+e,i=n[t];if(i){const r=i[Hu];null!==r&&r!==n&&xb(r,i),e>0&&(n[t-1][zr]=i[zr]);const s=Dh(n,pi+e);!function ZB(n,e){nd(n,e,e[dt],2,null,null),e[Ns]=null,e[Jn]=null}(i[De],i);const o=s[ss];null!==o&&o.detachView(s[De]),i[ln]=null,i[zr]=null,i[ot]&=-65}return i}function Sb(n,e){if(!(128&e[ot])){const t=e[dt];t.destroyNode&&nd(n,e,t,3,null,null),function e3(n){let e=n[zu];if(!e)return E0(n[De],n);for(;e;){let t=null;if(qi(e))t=e[zu];else{const i=e[pi];i&&(t=i)}if(!t){for(;e&&!e[zr]&&e!==n;)qi(e)&&E0(e[De],e),e=e[ln];null===e&&(e=n),qi(e)&&E0(e[De],e),t=e&&e[zr]}e=t}}(e)}}function E0(n,e){if(!(128&e[ot])){e[ot]&=-65,e[ot]|=128,function r3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof ju)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];yr(4,a,l);try{l.call(a)}finally{yr(5,a,l)}}else{yr(4,r,s);try{s.call(r)}finally{yr(5,r,s)}}}}}(n,e),function i3(n,e){const t=n.cleanup,i=e[Al];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();e[Al]=null}}(n,e),1===e[De].type&&e[dt].destroy();const t=e[Hu];if(null!==t&&Hr(e[ln])){t!==e[ln]&&xb(t,e);const i=e[ss];null!==i&&i.detachView(n)}!function zB(n){h0.delete(n[Vu])}(e)}}function Eb(n,e,t){return function Mb(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Ns];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===kr.None||s===kr.Emulated)return null}return Qi(i,t)}}(n,e.parent,t)}function wa(n,e,t,i,r){n.insertBefore(e,t,i,r)}function bb(n,e,t){n.appendChild(e,t)}function Ab(n,e,t,i,r){null!==i?wa(n,e,t,i,r):bb(n,e,t)}function Lh(n,e){return n.parentNode(e)}let M0,D0,Db=function Cb(n,e,t){return 40&n.type?Qi(n,t):null};function Oh(n,e,t,i){const r=Eb(n,i,e),s=e[dt],a=function Tb(n,e,t){return Db(n,e,t)}(i.parent||e[Jn],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)Ab(s,r,t[l],a,!1);else Ab(s,r,t,a,!1);void 0!==M0&&M0(s,i,e,t,r)}function Nh(n,e){if(null!==e){const t=e.type;if(3&t)return Qi(e,n);if(4&t)return b0(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Nh(n,i);{const r=n[e.index];return Hr(r)?b0(-1,r):qn(r)}}if(32&t)return v0(e,n)()||qn(n[e.index]);{const i=Ib(n,e);return null!==i?Array.isArray(i)?i[0]:Nh(td(n[ei]),i):Nh(n,e.next)}}return null}function Ib(n,e){return null!==e?n[ei][Jn].projection[e.projection]:null}function b0(n,e){const t=pi+n+1;if(t<e.length){const i=e[t],r=i[De].firstChild;if(null!==r)return Nh(i,r)}return e[mh]}function T0(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&ti(qn(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)T0(n,e,t.child,i,r,s,!1),zl(e,n,r,a,s);else if(32&l){const c=v0(t,i);let u;for(;u=c();)zl(e,n,r,u,s);zl(e,n,r,a,s)}else 16&l?Rb(n,e,i,t,r,s):zl(e,n,r,a,s);t=o?t.projectionNext:t.next}}function nd(n,e,t,i,r,s){T0(t,i,n.firstChild,e,r,s,!1)}function Rb(n,e,t,i,r,s){const o=t[ei],l=o[Jn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)zl(e,n,r,l[c],s);else T0(n,e,l,o[ln],r,s,!0)}function Lb(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Ob(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&$v(n,e,i),null!==r&&Lb(n,e,r),null!==s&&function u3(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}const kh=new Xe("ENVIRONMENT_INITIALIZER"),Qb=new Xe("INJECTOR",-1),Kb=new Xe("INJECTOR_DEF_TYPES");class Zb{get(e,t=Nu){if(t===Nu){const i=new Error(`NullInjectorError: No provider for ${Gt(e)}!`);throw i.name="NullInjectorError",i}return t}}function U3(...n){return{\u0275providers:$b(0,n),\u0275fromNgModule:!0}}function $b(n,...e){const t=[],i=new Set;let r;return _a(e,s=>{const o=s;N0(o,t,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&Jb(r,t),t}function Jb(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];F0(r,s=>{e.push(s)})}}function N0(n,e,t,i){if(!(n=Ge(n)))return!1;let r=null,s=nM(n);const o=!s&&Lt(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=nM(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)N0(c,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{_a(s.imports,u=>{N0(u,e,t,i)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&Jb(c,e)}if(!a){const c=ma(r)||(()=>new r);e.push({provide:r,useFactory:c,deps:Pt},{provide:Kb,useValue:r,multi:!0},{provide:kh,useValue:()=>Fe(r),multi:!0})}const l=s.providers;null==l||a||F0(l,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function F0(n,e){for(let t of n)Iv(t)&&(t=t.\u0275providers),Array.isArray(t)?F0(t,e):e(t)}const B3=kt({provide:String,useValue:kt});function U0(n){return null!==n&&"object"==typeof n&&B3 in n}function xa(n){return"function"==typeof n}const B0=new Xe("Set Injector scope."),zh={},z3={};let k0;function Hh(){return void 0===k0&&(k0=new Zb),k0}class ks{}class nA extends ks{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,H0(e,o=>this.processProvider(o)),this.records.set(Qb,Vl(void 0,this)),r.has("environment")&&this.records.set(ks,Vl(void 0,this));const s=this.records.get(B0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Kb.multi,Pt,We.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ml(this),i=vr(void 0);try{return e()}finally{Ml(t),vr(i)}}get(e,t=Nu,i=We.Default){this.assertNotDestroyed(),i=uh(i);const r=Ml(this),s=vr(void 0);try{if(!(i&We.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function j3(n){return"function"==typeof n||"object"==typeof n&&n instanceof Xe}(e)&&ah(e);a=l&&this.injectableDefInScope(l)?Vl(z0(e),zh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&We.Self?Hh():this.parent).get(e,t=i&We.Optional&&t===Nu?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ch]=o[ch]||[]).unshift(Gt(e)),r)throw o;return function vU(n,e,t,i){const r=n[ch];throw e[sM]&&r.unshift(e[sM]),n.message=function yU(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==pU?n.slice(2):n;let r=Gt(e);if(Array.isArray(e))r=e.map(Gt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Gt(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(hU,"\n  ")}`}("\n"+n.message,r,t,i),n[fU]=r,n[ch]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{vr(s),Ml(r)}}resolveInjectorInitializers(){const e=Ml(this),t=vr(void 0);try{const i=this.get(kh.multi,Pt,We.Self);for(const r of i)r()}finally{Ml(e),vr(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Gt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(e){let t=xa(e=Ge(e))?e:Ge(e&&e.provide);const i=function V3(n){return U0(n)?Vl(void 0,n.useValue):Vl(function iA(n,e,t){let i;if(xa(n)){const r=Ge(n);return ma(r)||z0(r)}if(U0(n))i=()=>Ge(n.useValue);else if(function tA(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Nv(n.deps||[]));else if(function eA(n){return!(!n||!n.useExisting)}(n))i=()=>Fe(Ge(n.useExisting));else{const r=Ge(n&&(n.useClass||n.provide));if(!function G3(n){return!!n.deps}(n))return ma(r)||z0(r);i=()=>new r(...Nv(n.deps))}return i}(n),zh)}(e);if(xa(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Vl(void 0,zh,!0),r.factory=()=>Nv(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===zh&&(t.value=z3,t.value=t.factory()),"object"==typeof t.value&&t.value&&function W3(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ge(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function z0(n){const e=ah(n),t=null!==e?e.factory:ma(n);if(null!==t)return t;if(n instanceof Xe)throw new se(204,!1);if(n instanceof Function)return function H3(n){const e=n.length;if(e>0)throw function Qu(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(e,"?"),new se(204,!1);const t=function cU(n){return n&&(n[lh]||n[iM])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new se(204,!1)}function Vl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function H0(n,e){for(const t of n)Array.isArray(t)?H0(t,e):t&&Iv(t)?H0(t.\u0275providers,e):e(t)}class Y3{}class rA{}class q3{resolveComponentFactory(e){throw function X3(n){const e=Error(`No component factory found for ${Gt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let od=(()=>{class n{}return n.NULL=new q3,n})();function Q3(){return Gl(Qn(),oe())}function Gl(n,e){return new To(Qi(n,e))}let To=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Q3,n})();function K3(n){return n instanceof To?n.nativeElement:n}class ad{}let $3=(()=>{class n{}return n.\u0275prov=ke({token:n,providedIn:"root",factory:()=>null}),n})();class Gh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const J3=new Gh("15.2.9"),V0={},G0="ngOriginalError";function W0(n){return n[G0]}class Wl{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&W0(e);for(;t&&W0(t);)t=W0(t);return t||null}}function zs(n){return n instanceof Function?n():n}function aA(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const lA="ng-template";function uk(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(t&&"class"===s&&-1!==aA(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function cA(n){return 4===n.type&&n.value!==lA}function dk(n,e,t){return e===(4!==n.type||t?n.value:lA)}function fk(n,e,t){let i=4;const r=n.attrs||[],s=function mk(n){for(let e=0;e<n.length;e++)if(FM(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!dk(n,l,t)||""===l&&1===e.length){if(Gr(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!uk(n.attrs,c,t)){if(Gr(i))return!1;o=!0}continue}const d=hk(8&i?"class":l,r,cA(n),t);if(-1===d){if(Gr(i))return!1;o=!0;continue}if(""!==c){let f;f=d>s?"":r[d+1].toLowerCase();const h=8&i?f:null;if(h&&-1!==aA(h,c,0)||2&i&&c!==f){if(Gr(i))return!1;o=!0}}}}else{if(!o&&!Gr(i)&&!Gr(l))return!1;if(o&&Gr(l))continue;o=!1,i=l|1&i}}return Gr(i)||o}function Gr(n){return 0==(1&n)}function hk(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function gk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function uA(n,e,t=!1){for(let i=0;i<e.length;i++)if(fk(n,e[i],t))return!0;return!1}function dA(n,e){return n?":not("+e.trim()+")":e}function yk(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Gr(o)&&(e+=dA(s,r),r=""),i=o,s=s||!Gr(i);t++}return""!==r&&(e+=dA(s,r)),e}const nt={};function hA(n,e,t,i){if(!i)if(3==(3&e[ot])){const s=n.preOrderCheckHooks;null!==s&&xh(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Sh(e,s,0,t)}va(t)}function vA(n,e=null,t=null,i){const r=yA(n,e,t,i);return r.resolveInjectorInitializers(),r}function yA(n,e=null,t=null,i,r=new Set){const s=[t||Pt,U3(n)];return i=i||("object"==typeof n?void 0:Gt(n)),new nA(s,e||Hh(),i||null,r)}let Hs=(()=>{class n{static create(t,i){if(Array.isArray(t))return vA({name:""},i,t,"");{const r=t.name??"";return vA({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=Nu,n.NULL=new Zb,n.\u0275prov=ke({token:n,providedIn:"any",factory:()=>Fe(Qb)}),n.__NG_ELEMENT_ID__=-1,n})();function qe(n,e=We.Default){const t=oe();return null===t?Fe(n,e):jM(Qn(),t,Ge(n),e)}function AA(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=n.data[s];Xv(t[i]),o.contentQueries(2,e[s],s)}}}function jh(n,e,t,i,r,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Ns]=r,d[ot]=76|i,(null!==u||n&&1024&n[ot])&&(d[ot]|=1024),SM(d),d[ln]=d[Tl]=n,d[vn]=t,d[ph]=o||n&&n[ph],d[dt]=a||n&&n[dt],d[Bv]=l||n&&n[Bv]||null,d[hh]=c||n&&n[hh]||null,d[Jn]=s,d[Vu]=function BB(){return UB++}(),d[fM]=u,d[ei]=2==e.type?n[ei]:d,d}function Xl(n,e,t,i,r){let s=n.data[e];if(null===s)s=function Q0(n,e,t,i,r){const s=bM(),o=Gv(),l=n.data[e]=function Wk(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,i,r),function WU(){return tt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function Wu(){const n=tt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return os(s,!0),s}function ld(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function K0(n,e,t){qv(e);try{const i=n.viewQuery;null!==i&&sy(1,i,t);const r=n.template;null!==r&&TA(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&AA(n,e),n.staticViewQueries&&sy(2,n.viewQuery,t);const s=n.components;null!==s&&function Hk(n,e){for(let t=0;t<e.length;t++)uz(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ot]&=-5,Qv()}}function Yh(n,e,t,i){const r=e[ot];if(128!=(128&r)){qv(e);try{SM(e),function TM(n){return tt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&TA(n,e,t,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&xh(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Sh(e,c,0,null),Kv(e,0)}if(function lz(n){for(let e=y0(n);null!==e;e=_0(e)){if(!e[hM])continue;const t=e[Dl];for(let i=0;i<t.length;i++){const r=t[i];512&r[ot]||Vv(r[ln],1),r[ot]|=512}}}(e),function az(n){for(let e=y0(n);null!==e;e=_0(e))for(let t=pi;t<e.length;t++){const i=e[t],r=i[De];_h(i)&&Yh(r,i,r.template,i[vn])}}(e),null!==n.contentQueries&&AA(n,e),o){const c=n.contentCheckHooks;null!==c&&xh(e,c)}else{const c=n.contentHooks;null!==c&&Sh(e,c,1),Kv(e,1)}!function kk(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)va(~r);else{const s=r,o=t[++i],a=t[++i];jU(o,s),a(2,e[s])}}}finally{va(-1)}}(n,e);const a=n.components;null!==a&&function zk(n,e){for(let t=0;t<e.length;t++)cz(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&sy(2,l,i),o){const c=n.viewCheckHooks;null!==c&&xh(e,c)}else{const c=n.viewHooks;null!==c&&Sh(e,c,2),Kv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ot]&=-41,512&e[ot]&&(e[ot]&=-513,Vv(e[ln],-1))}finally{Qv()}}}function TA(n,e,t,i,r){const s=gi(),o=2&i;try{va(-1),o&&e.length>Xt&&hA(n,e,Xt,!1),yr(o?2:0,r),t(i,r)}finally{va(s),yr(o?3:1,r)}}function Z0(n,e,t){if(zv(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function CA(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ey(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ey(n,e,t,i,r,s,o,a,l,c){const u=Xt+i,d=u+r,f=function Vk(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:nt);return t}(u,d),h="function"==typeof c?c():c;return f[De]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function DA(n,e,t,i){const r=NA(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&FA(n).push(i,r.length-1))}function PA(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?IA(t,e,r,s):i.hasOwnProperty(r)&&IA(t,e,i[r],s)}return t}function IA(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function RA(n,e,t,i,r,s){for(let c=0;c<i.length;c++)n0(Ah(t,e),n,i[c].type);!function nz(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=ld(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Yu(t.mergedAttrs,u.hostAttrs),iz(n,t,e,l,u),tz(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),a=!0),l++}!function jk(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=s[u],f=t?t.get(d):null,p=f?f.outputs:null;l=PA(d.inputs,u,l,f?f.inputs:null),c=PA(d.outputs,u,c,p);const m=null===l||null===o||cA(e)?null:oz(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function LA(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function YU(){return tt.lFrame.currentDirectiveIndex}();try{va(s);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];jv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&$k(l,c)}}finally{va(-1),jv(o)}}function $k(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ny(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function tz(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Vr(e)&&(t[""]=n)}}function iz(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=ma(r.type)),o=new ju(s,Vr(r),qe);n.blueprint[i]=o,t[i]=o,function Qk(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function Kk(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,ld(n,t,r.hostVars,nt),r)}function sz(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function oz(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function cz(n,e){const t=Ii(e,n);if(_h(t)){const i=t[De];48&t[ot]?Yh(i,t,i.template,t[vn]):t[pa]>0&&ry(t)}}function ry(n){for(let i=y0(n);null!==i;i=_0(i))for(let r=pi;r<i.length;r++){const s=i[r];if(_h(s))if(512&s[ot]){const o=s[De];Yh(o,s,o.template,s[vn])}else s[pa]>0&&ry(s)}const t=n[De].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Ii(t[i],n);_h(r)&&r[pa]>0&&ry(r)}}function uz(n,e){const t=Ii(e,n),i=t[De];(function dz(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),K0(i,t,t[vn])}function Xh(n,e){return n[zu]?n[dM][zr]=e:n[zu]=e,n[dM]=e,e}function qh(n){for(;n;){n[ot]|=32;const e=td(n);if(MU(n)&&!e)return n;n=e}return null}function Qh(n,e,t,i=!0){const r=e[ph];r.begin&&r.begin();try{Yh(n,e,n.template,t)}catch(o){throw i&&BA(e,o),o}finally{r.end&&r.end()}}function sy(n,e,t){Xv(0),e(n,t)}function NA(n){return n[Al]||(n[Al]=[])}function FA(n){return n.cleanup||(n.cleanup=[])}function BA(n,e){const t=n[hh],i=t?t.get(Wl,null):null;i&&i.handleError(e)}function oy(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Vs(n,e,t){const i=function yh(n,e){return qn(e[n])}(e,n);!function wb(n,e,t){n.setValue(e,t)}(n[dt],i,t)}function Kh(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=Cv(r,a):2==s&&(i=Cv(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Zh(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(qn(s)),Hr(s))for(let a=pi;a<s.length;a++){const l=s[a],c=l[De].firstChild;null!==c&&Zh(l[De],l,c,i)}const o=t.type;if(8&o)Zh(n,e,t.child,i);else if(32&o){const a=v0(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Ib(e,t);if(Array.isArray(a))i.push(...a);else{const l=td(e[ei]);Zh(l[De],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class cd{get rootNodes(){const e=this._lView,t=e[De];return Zh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vn]}set context(e){this._lView[vn]=e}get destroyed(){return 128==(128&this._lView[ot])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ln];if(Hr(e)){const t=e[gh],i=t?t.indexOf(this):-1;i>-1&&(S0(e,i),Dh(t,i))}this._attachedToViewContainer=!1}Sb(this._lView[De],this._lView)}onDestroy(e){DA(this._lView[De],this._lView,null,e)}markForCheck(){qh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ot]&=-65}reattach(){this._lView[ot]|=64}detectChanges(){Qh(this._lView[De],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JB(n,e){nd(n,e,e[dt],2,null,null)}(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=e}}class fz extends cd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Qh(e[De],e,e[vn],!1)}checkNoChanges(){}get context(){return null}}class kA extends od{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Lt(e);return new ud(t,this.ngModule)}}function zA(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class pz{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=uh(i);const r=this.injector.get(e,V0,i);return r!==V0||t===V0?r:this.parentInjector.get(e,t,i)}}class ud extends rA{get inputs(){return zA(this.componentDef.inputs)}get outputs(){return zA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function _k(n){return n.map(yk).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof ks?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new pz(e,s):e,a=o.get(ad,null);if(null===a)throw new se(407,!1);const l=o.get($3,null),c=a.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function Gk(n,e,t){return n.selectRootElement(e,t===kr.ShadowDom)}(c,i,this.componentDef.encapsulation):x0(c,u,function hz(n){const e=n.toLowerCase();return"svg"===e?_M:"math"===e?"math":null}(u)),f=this.componentDef.onPush?288:272,h=ey(0,null,null,1,0,null,null,null,null,null),p=jh(null,h,null,f,null,null,a,c,l,o,null);let m,g;qv(p);try{const v=this.componentDef;let _,y=null;v.findHostDirectiveDefs?(_=[],y=new Map,v.findHostDirectiveDefs(v,_,y),_.push(v)):_=[v];const w=function gz(n,e){const t=n[De],i=Xt;return n[i]=e,Xl(t,i,2,"#host",null)}(p,d),S=function vz(n,e,t,i,r,s,o,a){const l=r[De];!function yz(n,e,t,i){for(const r of n)e.mergedAttrs=Yu(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Kh(e,e.mergedAttrs,!0),null!==t&&Ob(i,t,e))}(i,n,e,o);const c=s.createRenderer(e,t),u=jh(r,CA(t),null,t.onPush?32:16,r[n.index],n,s,c,a||null,null,null);return l.firstCreatePass&&ny(l,n,i.length-1),Xh(r,u),r[n.index]=u}(w,d,v,_,p,a,c);g=function xM(n,e){return n.data[e]}(h,Xt),d&&function wz(n,e,t,i){if(i)$v(n,t,["ng-version",J3.full]);else{const{attrs:r,classes:s}=function wk(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Gr(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&$v(n,t,r),s&&s.length>0&&Lb(n,t,s.join(" "))}}(c,v,d,i),void 0!==t&&function xz(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(g,this.ngContentSelectors,t),m=function _z(n,e,t,i,r,s){const o=Qn(),a=r[De],l=Qi(o,r);RA(a,r,o,t,null,i);for(let u=0;u<t.length;u++)ti(ya(r,a,o.directiveStart+u,o),r);LA(a,r,o),l&&ti(l,r);const c=ya(r,a,o.directiveStart+o.componentOffset,o);if(n[vn]=r[vn]=c,null!==s)for(const u of s)u(c,e);return Z0(a,o,n),c}(S,v,_,y,p,[Sz]),K0(h,p,null)}finally{Qv()}return new mz(this.componentType,m,Gl(g,p),p,g)}}class mz extends Y3{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new fz(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const s=this._rootLView;oy(s[De],s,r,e,t),qh(Ii(this._tNode.index,s))}}get injector(){return new Ll(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Sz(){const n=Qn();wh(oe()[De],n)}function Ql(n,e,t,i){return function ni(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}(n,function Il(){return tt.lFrame.bindingIndex++}(),t)?e+et(t)+i:nt}function uy(n,e,t,i,r){const o=r?"class":"style";oy(n,t,e.inputs[o],o,i)}function q(n,e,t,i){const r=oe(),s=Ct(),o=Xt+n,a=r[dt],l=s.firstCreatePass?function zz(n,e,t,i,r,s){const o=e.consts,l=Xl(e,n,2,i,bo(o,r));return function ty(n,e,t,i){if(MM()){const r=null===i?null:{"":-1},s=function Jk(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(uA(e,o.selectors,!1))if(i||(i=[]),Vr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),ny(n,e,a.length)}else i.unshift(o),ny(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&RA(n,e,t,o,r,a),r&&function ez(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new se(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=Yu(t.mergedAttrs,t.attrs)}(e,t,l,bo(o,s)),null!==l.attrs&&Kh(l,l.attrs,!1),null!==l.mergedAttrs&&Kh(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,r,e,t,i):s.data[o],c=r[o]=x0(a,e,function $U(){return tt.lFrame.currentNamespace}()),u=vh(l);return os(l,!0),Ob(a,c,l),32!=(32&l.flags)&&Oh(s,r,c,l),0===function FU(){return tt.lFrame.elementDepthCount}()&&ti(c,r),function UU(){tt.lFrame.elementDepthCount++}(),u&&(function $0(n,e,t){MM()&&(function Zk(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;Gu(t)&&function rz(n,e,t){const i=Qi(e,n),r=CA(t),s=n[ph],o=Xh(n,jh(n,r,null,t.onPush?32:16,i,e,s,s.createRenderer(i,t),null,null,null));n[e.index]=o}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ah(t,e),ti(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=ya(e,n,a,t);ti(c,e),null!==o&&sz(0,a-r,c,l,0,o),Vr(l)&&(Ii(t.index,e)[vn]=ya(e,n,a,t))}}(n,e,t,Qi(t,e)),64==(64&t.flags)&&LA(n,e,t))}(s,r,l),Z0(s,l,r)),null!==i&&function J0(n,e,t=Qi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}(r,l),q}function re(){let n=Qn();Gv()?function Wv(){tt.lFrame.isParent=!1}():(n=n.parent,os(n,!1));const e=n;!function BU(){tt.lFrame.elementDepthCount--}();const t=Ct();return t.firstCreatePass&&(wh(t,n),zv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function nB(n){return 0!=(8&n.flags)}(e)&&uy(t,e,oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iB(n){return 0!=(16&n.flags)}(e)&&uy(t,e,oe(),e.stylesWithoutHost,!1),re}function Re(n,e,t,i){return q(n,e,t,i),re(),Re}function ep(n){return!!n&&"function"==typeof n.then}const r1=function i1(n){return!!n&&"function"==typeof n.subscribe};function Ea(n,e,t,i){const r=oe(),s=Ct(),o=Qn();return function o1(n,e,t,i,r,s,o){const a=vh(i),c=n.firstCreatePass&&FA(n),u=e[vn],d=NA(e);let f=!0;if(3&i.type||o){const m=Qi(i,e),g=o?o(m):m,v=d.length,_=o?w=>o(qn(w[i.index])):i.index;let y=null;if(!o&&a&&(y=function Gz(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[Al],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,f=!1;else{s=l1(i,e,u,s,!1);const w=t.listen(g,r,s);d.push(s,w),c&&c.push(r,_,v,v+1)}}else s=l1(i,e,u,s,!1);const h=i.outputs;let p;if(f&&null!==h&&(p=h[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const S=e[p[g]][p[g+1]].subscribe(s),E=d.length;d.push(s,S),c&&c.push(r,i.index,E,-(E+1))}}}(s,r,r[dt],o,n,e,i),Ea}function a1(n,e,t,i){try{return yr(6,e,t),!1!==t(i)}catch(r){return BA(n,r),!1}finally{yr(7,e,t)}}function l1(n,e,t,i,r){return function s(o){if(o===Function)return i;qh(n.componentOffset>-1?Ii(n.index,e):e);let l=a1(e,t,i,o),c=s.__ngNextListenerFn__;for(;c;)l=a1(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function fe(n,e=""){const t=oe(),i=Ct(),r=n+Xt,s=i.firstCreatePass?Xl(i,r,1,e,null):i.data[r],o=t[r]=function w0(n,e){return n.createText(e)}(t[dt],e);Oh(i,t,o,s),os(s,!1)}function yy(n){return _y("",n,""),yy}function _y(n,e,t){const i=oe(),r=Ql(i,n,e,t);return r!==nt&&Vs(i,gi(),r),_y}const sc="en-US";let eT=sc;class oc{}class AT{}class TT extends oc{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kA(this);const i=Xi(e);this._bootstrapComponents=zs(i.bootstrap),this._r3Injector=yA(e,t,[{provide:oc,useValue:this},{provide:od,useValue:this.componentFactoryResolver}],Gt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ay extends AT{constructor(e){super(),this.moduleType=e}create(e){return new TT(this.moduleType,e)}}class FH extends oc{constructor(e,t,i){super(),this.componentFactoryResolver=new kA(this),this.instance=null;const r=new nA([...e,{provide:oc,useValue:this},{provide:od,useValue:this.componentFactoryResolver}],t||Hh(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function ap(n,e,t=null){return new FH(n,e,t).injector}let UH=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=$b(0,t.type),r=i.length>0?ap([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ke({token:n,providedIn:"environment",factory:()=>new n(Fe(ks))}),n})();function CT(n){n.getStandaloneInjector=e=>e.get(UH).getOrCreateStandaloneInjector(n)}function Cy(n){return e=>{setTimeout(n,void 0,e)}}const yi=class cV extends Ds{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Cy(s),r&&(r=Cy(r)),o&&(o=Cy(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof mr&&e.add(a),a}};function uV(){return this._results[Symbol.iterator]()}class Dy{get changes(){return this._changes||(this._changes=new yi)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Dy.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=uV)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function _r(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function hB(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gs=(()=>{class n{}return n.__NG_ELEMENT_ID__=hV,n})();const dV=Gs,fV=class extends dV{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tView,r=jh(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[Hu]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[ss];return null!==o&&(r[ss]=o.createEmbeddedView(i)),K0(i,r,e),new cd(r)}};function hV(){return lp(Qn(),oe())}function lp(n,e){return 4&n.type?new fV(e,n,Gl(n,e)):null}let Yr=(()=>{class n{}return n.__NG_ELEMENT_ID__=pV,n})();function pV(){return VT(Qn(),oe())}const mV=Yr,zT=class extends mV{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Gl(this._hostTNode,this._hostLView)}get injector(){return new Ll(this._hostTNode,this._hostLView)}get parentInjector(){const e=t0(this._hostTNode,this._hostLView);if(kM(e)){const t=Mh(e,this._hostLView),i=Eh(e);return new Ll(t[De].data[i+8],t)}return new Ll(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=HT(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-pi}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,r),o}createComponent(e,t,i,r,s){const o=e&&!function qu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new ud(Lt(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const f=(o?c:this.parentInjector).get(ks,null);f&&(s=f)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[De];if(function NU(n){return Hr(n[ln])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[ln],f=new zT(d,d[Jn],d[ln]);f.detach(f.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function t3(n,e,t,i){const r=pi+i,s=t.length;i>0&&(t[r-1][zr]=e),i<s-pi?(e[zr]=t[r],$M(t,pi+i,e)):(t.push(e),e[zr]=null),e[ln]=t;const o=e[Hu];null!==o&&t!==o&&function n3(n,e){const t=n[Dl];e[ei]!==e[ln][ln][ei]&&(n[hM]=!0),null===t?n[Dl]=[e]:t.push(e)}(o,e);const a=e[ss];null!==a&&a.insertView(n),e[ot]|=64}(r,i,o,s);const a=b0(s,o),l=i[dt],c=Lh(l,o[mh]);return null!==c&&function $B(n,e,t,i,r,s){i[Ns]=r,i[Jn]=e,nd(n,i,t,1,r,s)}(r,o[Jn],l,i,c,a),e.attachToViewContainerRef(),$M(Py(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=HT(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=S0(this._lContainer,t);i&&(Dh(Py(this._lContainer),t),Sb(i[De],i))}detach(e){const t=this._adjustIndex(e,-1),i=S0(this._lContainer,t);return i&&null!=Dh(Py(this._lContainer),t)?new cd(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function HT(n){return n[gh]}function Py(n){return n[gh]||(n[gh]=[])}function VT(n,e){let t;const i=e[n.index];if(Hr(i))t=i;else{let r;if(8&n.type)r=qn(i);else{const s=e[dt];r=s.createComment("");const o=Qi(n,e);wa(s,Lh(s,o),r,function o3(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=function OA(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}(i,e,r,n),Xh(e,t)}return new zT(t,n,e)}class Iy{constructor(e){this.queryList=e,this.matches=null}clone(){return new Iy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ry{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Ry(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==qT(e,t).matches&&this.queries[t].setDirty()}}class GT{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Ly{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Ly(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Oy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Oy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,gV(t,s)),this.matchTNodeWithReadOption(e,t,Th(t,e,s,!1,!1))}else i===Gs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Th(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===To||r===Yr||r===Gs&&4&t.type)this.addMatch(t.index,-2);else{const s=Th(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function gV(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function yV(n,e,t,i){return-1===t?function vV(n,e){return 11&n.type?Gl(n,e):4&n.type?lp(n,e):null}(e,n):-2===t?function _V(n,e,t){return t===To?Gl(e,n):t===Gs?lp(e,n):t===Yr?VT(e,n):void 0}(n,e,i):ya(n,n[De],t,e)}function WT(n,e,t,i){const r=e[ss].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:yV(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function Ny(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=WT(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=pi;d<u.length;d++){const f=u[d];f[Hu]===f[ln]&&Ny(f[De],f,c,i)}if(null!==u[Dl]){const d=u[Dl];for(let f=0;f<d.length;f++){const h=d[f];Ny(h[De],h,c,i)}}}}}return i}function wd(n){const e=oe(),t=Ct(),i=DM();Xv(i+1);const r=qT(t,i);if(n.dirty&&function OU(n){return 4==(4&n[ot])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?Ny(t,e,i,[]):WT(t,e,r,i);n.reset(s,K3),n.notifyOnChanges()}return!0}return!1}function cp(n,e,t){const i=Ct();i.firstCreatePass&&(function XT(n,e,t){null===n.queries&&(n.queries=new Ly),n.queries.track(new Oy(e,t))}(i,new GT(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function YT(n,e,t){const i=new Dy(4==(4&t));DA(n,e,i,i.destroy),null===e[ss]&&(e[ss]=new Ry),e[ss].queries.push(new Iy(i))}(i,oe(),e)}function xd(){return function wV(n,e){return n[ss].queries[e].queryList}(oe(),DM())}function qT(n,e){return n.queries.getByIndex(e)}function dp(...n){}const fp=new Xe("Application Initializer");let hp=(()=>{class n{constructor(t){this.appInits=t,this.resolve=dp,this.reject=dp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(ep(s))t.push(s);else if(r1(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Fe(fp,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ed=new Xe("AppId",{providedIn:"root",factory:function fC(){return`${Hy()}${Hy()}${Hy()}`}});function Hy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hC=new Xe("Platform Initializer"),pC=new Xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mC=new Xe("AnimationModuleType");let VV=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ws=new Xe("LocaleId",{providedIn:"root",factory:()=>Mt(Ws,We.Optional|We.SkipSelf)||function GV(){return typeof $localize<"u"&&$localize.locale||sc}()});class jV{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let gC=(()=>{class n{compileModuleSync(t){return new Ay(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=zs(Xi(t).declarations).reduce((o,a)=>{const l=Lt(a);return l&&o.push(new ud(l)),o},[]);return new jV(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qV=(()=>Promise.resolve(0))();function Vy(n){typeof Zone>"u"?qV.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class nn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yi(!1),this.onMicrotaskEmpty=new yi(!1),this.onStable=new yi(!1),this.onError=new yi(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function QV(){let n=Yt.requestAnimationFrame,e=Yt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function $V(n){const e=()=>{!function ZV(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Yt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Wy(n),n.isCheckStableRunning=!0,Gy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Wy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return _C(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),wC(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return _C(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),wC(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Wy(n),Gy(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nn.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if(nn.isInAngularZone())throw new se(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,KV,dp,dp);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const KV={};function Gy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Wy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function _C(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wC(n){n._nesting--,Gy(n)}class JV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yi,this.onMicrotaskEmpty=new yi,this.onStable=new yi,this.onError=new yi}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const xC=new Xe(""),pp=new Xe("");let Xy,jy=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Xy||(function e5(n){Xy=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nn.assertNotInAngularZone(),Vy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(Fe(nn),Fe(Yy),Fe(pp))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),Yy=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Xy?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const js=!1;let Do=null;const SC=new Xe("AllowMultipleToken"),qy=new Xe("PlatformDestroyListeners"),EC=new Xe("appBootstrapListener");class MC{constructor(e,t){this.name=e,this.token=t}}function AC(n,e,t=[]){const i=`Platform: ${e}`,r=new Xe(i);return(s=[])=>{let o=Qy();if(!o||o.injector.get(SC,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function i5(n){if(Do&&!Do.get(SC,!1))throw new se(400,!1);Do=n;const e=n.get(CC);(function bC(n){const e=n.get(hC,null);e&&e.forEach(t=>t())})(n)}(function TC(n=[],e){return Hs.create({name:e,providers:[{provide:B0,useValue:"platform"},{provide:qy,useValue:new Set([()=>Do=null])},...n]})}(a,i))}return function s5(n){const e=Qy();if(!e)throw new se(401,!1);return e}()}}function Qy(){return Do?.get(CC)??null}let CC=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function PC(n,e){let t;return t="noop"===n?new JV:("zone.js"===n?void 0:n)||new nn(e),t}(i?.ngZone,function DC(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:nn,useValue:r}];return r.run(()=>{const o=Hs.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),l=a.injector.get(Wl,null);if(!l)throw new se(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{mp(this._modules,a),c.unsubscribe()})}),function IC(n,e,t){try{const i=t();return ep(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(l,r,()=>{const c=a.injector.get(hp);return c.runInitializers(),c.donePromise.then(()=>(function tT(n){gr(n,"Expected localeId to be defined"),"string"==typeof n&&(eT=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ws,sc)||sc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,i=[]){const r=RC({},i);return function t5(n,e,t){const i=new Ay(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Md);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new se(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(qy,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Fe(Hs))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function RC(n,e){return Array.isArray(e)?e.reduce(RC,n):{...n,...e}}let Md=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Rn(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Rn(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{nn.assertNotInAngularZone(),Vy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{nn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function eU(...n){const e=Ou(n),t=function XF(n,e){return"number"==typeof bv(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Br(i[0]):El(t)(Ln(i,e)):is}(s,o.pipe(function tU(n={}){const{connector:e=(()=>new Ds),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,u=d=!1},p=()=>{const m=o;h(),m?.unsubscribe()};return Hn((m,g)=>{c++,!d&&!u&&f();const v=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(a=Av(p,r))}),v.subscribe(g),!o&&c>0&&(o=new Lu({next:_=>v.next(_),error:_=>{d=!0,f(),a=Av(h,t,_),v.error(_)},complete:()=>{u=!0,f(),a=Av(h,i),v.complete()}}),Br(m).subscribe(o))})(s)}}()))}bootstrap(t,i){const r=t instanceof rA;if(!this._injector.get(hp).done){!r&&function bl(n){const e=Lt(n)||$n(n)||Pi(n);return null!==e&&e.standalone}(t);throw new se(405,js)}let o;o=r?t:this._injector.get(od).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function n5(n){return n.isBoundToModule}(o)?void 0:this._injector.get(oc),c=o.create(Hs.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(xC,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),mp(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;mp(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(EC,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>mp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new se(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Fe(nn),Fe(ks),Fe(Wl))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Ky=(()=>{class n{}return n.__NG_ELEMENT_ID__=a5,n})();function a5(n){return function l5(n,e,t){if(Gu(n)&&!t){const i=Ii(n.index,e);return new cd(i,i)}return 47&n.type?new cd(e[ei],e):null}(Qn(),oe(),16==(16&n))}const x5=AC(null,"core",[]);let S5=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Fe(Md))},n.\u0275mod=Mo({type:n}),n.\u0275inj=Is({}),n})(),n_=null;function Ta(){return n_}class b5{}const ii=new Xe("DocumentToken");let i_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:function(){return function A5(){return Fe(GC)}()},providedIn:"platform"}),n})();const T5=new Xe("Location Initialized");let GC=(()=>{class n extends i_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ta().getBaseHref(this._doc)}onPopState(t){const i=Ta().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Ta().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){WC()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){WC()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Fe(ii))},n.\u0275prov=ke({token:n,factory:function(){return function C5(){return new GC(Fe(ii))}()},providedIn:"platform"}),n})();function WC(){return!!window.history.pushState}function r_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function jC(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ys(n){return n&&"?"!==n[0]?"?"+n:n}let Ca=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:function(){return Mt(XC)},providedIn:"root"}),n})();const YC=new Xe("appBaseHref");let XC=(()=>{class n extends Ca{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Mt(ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return r_(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ys(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Ys(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Ys(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Fe(i_),Fe(YC,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D5=(()=>{class n extends Ca{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=r_(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Ys(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Ys(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Fe(i_),Fe(YC,8))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),s_=(()=>{class n{constructor(t){this._subject=new yi,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function R5(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(jC(qC(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ys(i))}normalize(t){return n.stripTrailingSlash(function I5(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,qC(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ys(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ys(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ys,n.joinWithSlash=r_,n.stripTrailingSlash=jC,n.\u0275fac=function(t){return new(t||n)(Fe(Ca))},n.\u0275prov=ke({token:n,factory:function(){return function P5(){return new s_(Fe(Ca))}()},providedIn:"root"}),n})();function qC(n){return n.replace(/\/index.html$/,"")}let XG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mo({type:n}),n.\u0275inj=Is({}),n})();let ZG=(()=>{class n{}return n.\u0275prov=ke({token:n,providedIn:"root",factory:()=>new $G(Fe(ii),window)}),n})();class $G{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function JG(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=dD(this.window.history)||dD(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function dD(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class T8 extends b5{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class S_ extends T8{static makeCurrent(){!function M5(n){n_||(n_=n)}(new S_)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function C8(){return Dd=Dd||document.querySelector("base"),Dd?Dd.getAttribute("href"):null}();return null==t?null:function D8(n){Pp=Pp||document.createElement("a"),Pp.setAttribute("href",n);const e=Pp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Dd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function mG(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Pp,Dd=null;const gD=new Xe("TRANSITION_ID"),I8=[{provide:fp,useFactory:function P8(n,e,t){return()=>{t.get(hp).donePromise.then(()=>{const i=Ta(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[gD,ii,Hs],multi:!0}];let L8=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const Ip=new Xe("EventManagerPlugins");let Rp=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Fe(Ip),Fe(nn))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class vD{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Ta().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let yD=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),Pd=(()=>{class n extends yD{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(Fe(ii))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const E_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M_=/%COMP%/g,xD=new Xe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function SD(n,e){return e.flat(100).map(t=>t.replace(M_,n))}function ED(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Lp=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new b_(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof AD?r.applyToHost(t):r instanceof A_&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(i.encapsulation){case kr.Emulated:s=new AD(o,a,i,this.appId,l);break;case kr.ShadowDom:return new z8(o,a,t,i);default:s=new A_(o,a,i,l)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Fe(Rp),Fe(Pd),Fe(Ed),Fe(xD))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class b_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(E_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(bD(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(bD(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=E_[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=E_[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ri.DashCase|Ri.Important)?e.style.setProperty(t,i,r&Ri.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ri.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ED(i)):this.eventManager.addEventListener(e,t,ED(i))}}function bD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class z8 extends b_{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=SD(r.id,r.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class A_ extends b_{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=SD(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class AD extends A_{constructor(e,t,i,r,s){const o=r+"-"+i.id;super(e,t,i,s,o),this.contentAttr=function U8(n){return"_ngcontent-%COMP%".replace(M_,n)}(o),this.hostAttr=function B8(n){return"_nghost-%COMP%".replace(M_,n)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let H8=(()=>{class n extends vD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(Fe(ii))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const TD=["alt","control","meta","shift"],V8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G8={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let W8=(()=>{class n extends vD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ta().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),TD.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=V8[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),TD.forEach(o=>{o!==r&&(0,G8[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Fe(ii))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const DD=[{provide:pC,useValue:"browser"},{provide:hC,useValue:function j8(){S_.makeCurrent()},multi:!0},{provide:ii,useFactory:function X8(){return function p3(n){D0=n}(document),document},deps:[]}],q8=AC(x5,"browser",DD),PD=new Xe(""),ID=[{provide:pp,useClass:class R8{addToWindow(e){Yt.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Yt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Yt.getAllAngularRootElements=()=>e.getAllRootElements(),Yt.frameworkStabilizers||(Yt.frameworkStabilizers=[]),Yt.frameworkStabilizers.push(i=>{const r=Yt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Ta().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:xC,useClass:jy,deps:[nn,Yy,pp]},{provide:jy,useClass:jy,deps:[nn,Yy,pp]}],RD=[{provide:B0,useValue:"root"},{provide:Wl,useFactory:function Y8(){return new Wl},deps:[]},{provide:Ip,useClass:H8,multi:!0,deps:[ii,nn,pC]},{provide:Ip,useClass:W8,multi:!0,deps:[ii]},{provide:Lp,useClass:Lp,deps:[Rp,Pd,Ed,xD]},{provide:ad,useExisting:Lp},{provide:yD,useExisting:Pd},{provide:Pd,useClass:Pd,deps:[ii]},{provide:Rp,useClass:Rp,deps:[Ip,nn]},{provide:class e8{},useClass:L8,deps:[]},[]];let LD=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Ed,useValue:t.appId},{provide:gD,useExisting:Ed},I8]}}}return n.\u0275fac=function(t){return new(t||n)(Fe(PD,12))},n.\u0275mod=Mo({type:n}),n.\u0275inj=Is({providers:[...RD,...ID],imports:[XG,S5]}),n})(),OD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Fe(ii))},n.\u0275prov=ke({token:n,factory:function(t){let i=null;return i=t?new t:function K8(){return new OD(Fe(ii))}(),i},providedIn:"root"}),n})();function Ve(...n){return Ln(n,Ou(n))}typeof window<"u"&&window;class Kr extends Ds{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const Op=Iu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:n6}=Array,{getPrototypeOf:i6,prototype:r6,keys:s6}=Object;const{isArray:l6}=Array;function UD(...n){const e=Ou(n),t=function YF(n){return Vt(bv(n))?n.pop():void 0}(n),{args:i,keys:r}=function o6(n){if(1===n.length){const e=n[0];if(n6(e))return{args:e,keys:null};if(function a6(n){return n&&"object"==typeof n&&i6(n)===r6}(e)){const t=s6(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return Ln([],e);const s=new Rn(function f6(n,e,t=ha){return i=>{BD(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)BD(e,()=>{const c=Ln(n[l],e);let u=!1;c.subscribe(Vn(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>function d6(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,o):ha));return t?s.pipe(function u6(n){return Et(e=>function c6(n,e){return l6(e)?n(...e):n(e)}(n,e))}(t)):s}function BD(n,e,t){n?Ps(t,n,e):e()}function D_(...n){return function h6(){return El(1)}()(Ln(n,Ou(n)))}function kD(n){return new Rn(e=>{Br(n()).subscribe(e)})}function Id(n,e){const t=Vt(n)?n:()=>n,i=r=>r.error(t());return new Rn(e?r=>e.schedule(i,0,r):i)}function P_(){return Hn((n,e)=>{let t=null;n._refCount++;const i=Vn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class zD extends Rn{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,FE(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mr;const t=this.getSubject();e.add(this.source.subscribe(Vn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mr.EMPTY)}return e}refCount(){return P_()(this)}}function fs(n,e){return Hn((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(Vn(i,l=>{r?.unsubscribe();let c=0;const u=s++;Br(n(l,u)).subscribe(r=Vn(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function cc(n){return n<=0?()=>is:Hn((e,t)=>{let i=0;e.subscribe(Vn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Io(n,e){return Hn((t,i)=>{let r=0;t.subscribe(Vn(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Np(n){return Hn((e,t)=>{let i=!1;e.subscribe(Vn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function HD(n=m6){return Hn((e,t)=>{let i=!1;e.subscribe(Vn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function m6(){return new Op}function Ro(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Io((r,s)=>n(r,s,i)):ha,cc(1),t?Np(e):HD(()=>new Op))}function Da(n,e){return Vt(e)?Xn(n,e,1):Xn(n,1)}function ri(n,e,t){const i=Vt(n)||e||t?{next:n,error:e,complete:t}:n;return i?Hn((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Vn(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ha}function Lo(n){return Hn((e,t)=>{let s,i=null,r=!1;i=e.subscribe(Vn(t,void 0,void 0,o=>{s=Br(n(o,Lo(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function VD(n,e){return Hn(function g6(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Vn(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function I_(n){return n<=0?()=>is:Hn((e,t)=>{let i=[];e.subscribe(Vn(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function GD(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Io((r,s)=>n(r,s,i)):ha,I_(1),t?Np(e):HD(()=>new Op))}function R_(n){return Hn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const rt="primary",Rd=Symbol("RouteTitle");class _6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function uc(n){return new _6(n)}function w6(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function hs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!WD(n[r],e[r]))return!1;return!0}function WD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function jD(n){return Array.prototype.concat.apply([],n)}function YD(n){return n.length>0?n[n.length-1]:null}function Kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Oo(n){return r1(n)?n:ep(n)?Ln(Promise.resolve(n)):Ve(n)}const Fp=!1,S6={exact:function QD(n,e,t){if(!Pa(n.segments,e.segments)||!Up(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!QD(n.children[i],e.children[i],t))return!1;return!0},subset:KD},XD={exact:function E6(n,e){return hs(n,e)},subset:function M6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>WD(n[t],e[t]))},ignored:()=>!0};function qD(n,e,t){return S6[t.paths](n.root,e.root,t.matrixParams)&&XD[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function KD(n,e,t){return ZD(n,e,e.segments,t)}function ZD(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Pa(r,t)||e.hasChildren()||!Up(r,t,i))}if(n.segments.length===t.length){if(!Pa(n.segments,t)||!Up(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!KD(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Pa(n.segments,r)&&Up(n.segments,r,i)&&n.children[rt])&&ZD(n.children[rt],e,s,i)}}function Up(n,e,t){return e.every((i,r)=>XD[t](n[r].parameters,i.parameters))}class No{constructor(e=new mt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return T6.serialize(this)}}class mt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bp(this)}}class Ld{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=uc(this.parameters)),this._parameterMap}toString(){return eP(this)}}function Pa(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Od=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:function(){return new L_},providedIn:"root"}),n})();class L_{parse(e){const t=new F6(e);return new No(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nd(e.root,!0)}`,i=function P6(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${kp(t)}=${kp(r)}`).join("&"):`${kp(t)}=${kp(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function C6(n){return encodeURI(n)}(e.fragment)}`:""}`}}const T6=new L_;function Bp(n){return n.segments.map(e=>eP(e)).join("/")}function Nd(n,e){if(!n.hasChildren())return Bp(n);if(e){const t=n.children[rt]?Nd(n.children[rt],!1):"",i=[];return Kn(n.children,(r,s)=>{s!==rt&&i.push(`${s}:${Nd(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function A6(n,e){let t=[];return Kn(n.children,(i,r)=>{r===rt&&(t=t.concat(e(i,r)))}),Kn(n.children,(i,r)=>{r!==rt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===rt?[Nd(n.children[rt],!1)]:[`${r}:${Nd(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[rt]?`${Bp(n)}/${t[0]}`:`${Bp(n)}/(${t.join("//")})`}}function $D(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kp(n){return $D(n).replace(/%3B/gi,";")}function O_(n){return $D(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zp(n){return decodeURIComponent(n)}function JD(n){return zp(n.replace(/\+/g,"%20"))}function eP(n){return`${O_(n.path)}${function D6(n){return Object.keys(n).map(e=>`;${O_(e)}=${O_(n[e])}`).join("")}(n.parameters)}`}const I6=/^[^\/()?;=#]+/;function Hp(n){const e=n.match(I6);return e?e[0]:""}const R6=/^[^=?&#]+/,O6=/^[^&#]+/;class F6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mt([],{}):new mt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[rt]=new mt(e,t)),i}parseSegment(){const e=Hp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new se(4009,Fp);return this.capture(e),new Ld(zp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Hp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Hp(this.remaining);r&&(i=r,this.capture(i))}e[zp(t)]=zp(i)}parseQueryParam(e){const t=function L6(n){const e=n.match(R6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function N6(n){const e=n.match(O6);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=JD(t),s=JD(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Hp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new se(4010,Fp);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=rt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[rt]:new mt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new se(4011,Fp)}}function N_(n){return n.segments.length>0?new mt([],{[rt]:n}):n}function Vp(n){const e={};for(const i of Object.keys(n.children)){const s=Vp(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function U6(n){if(1===n.numberOfChildren&&n.children[rt]){const e=n.children[rt];return new mt(n.segments.concat(e.segments),e.children)}return n}(new mt(n.segments,e))}function Ia(n){return n instanceof No}const F_=!1;function B6(n,e,t,i,r){if(0===t.length)return dc(e.root,e.root,e.root,i,r);const s=function sP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new rP(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Kn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new rP(t,e,i)}(t);return s.toRoot()?dc(e.root,e.root,new mt([],{}),i,r):function o(l){const c=function z6(n,e,t,i){if(n.isAbsolute)return new fc(e.root,!0,0);if(-1===i)return new fc(t,t===e.root,0);return function oP(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new se(4005,F_&&"Invalid number of '../'");r=i.segments.length}return new fc(i,!1,r-s)}(t,i+(Fd(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,l),u=c.processChildren?hc(c.segmentGroup,c.index,s.commands):U_(c.segmentGroup,c.index,s.commands);return dc(e.root,c.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function Fd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ud(n){return"object"==typeof n&&null!=n&&n.outlets}function dc(n,e,t,i,r){let o,s={};i&&Kn(i,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:iP(n,e,t);const a=N_(Vp(o));return new No(a,s,r)}function iP(n,e,t){const i={};return Kn(n.children,(r,s)=>{i[s]=r===e?t:iP(r,e,t)}),new mt(n.segments,i)}class rP{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Fd(i[0]))throw new se(4003,F_&&"Root segment cannot have matrix parameters");const r=i.find(Ud);if(r&&r!==YD(i))throw new se(4004,F_&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function U_(n,e,t){if(n||(n=new mt([],{})),0===n.segments.length&&n.hasChildren())return hc(n,e,t);const i=function V6(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Ud(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!lP(l,c,o))return s;i+=2}else{if(!lP(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new mt(n.segments.slice(0,i.pathIndex),{});return s.children[rt]=new mt(n.segments.slice(i.pathIndex),n.children),hc(s,0,r)}return i.match&&0===r.length?new mt(n.segments,{}):i.match&&!n.hasChildren()?B_(n,e,t):i.match?hc(n,0,r):B_(n,e,t)}function hc(n,e,t){if(0===t.length)return new mt(n.segments,{});{const i=function H6(n){return Ud(n[0])?n[0].outlets:{[rt]:n}}(t),r={};if(!i[rt]&&n.children[rt]&&1===n.numberOfChildren&&0===n.children[rt].segments.length){const s=hc(n.children[rt],e,t);return new mt(n.segments,s.children)}return Kn(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=U_(n.children[o],e,s))}),Kn(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new mt(n.segments,r)}}function B_(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Ud(s)){const l=G6(s.outlets);return new mt(i,l)}if(0===r&&Fd(t[0])){i.push(new Ld(n.segments[e].path,aP(t[0]))),r++;continue}const o=Ud(s)?s.outlets[rt]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Fd(a)?(i.push(new Ld(o,aP(a))),r+=2):(i.push(new Ld(o,{})),r++)}return new mt(i,{})}function G6(n){const e={};return Kn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=B_(new mt([],{}),0,t))}),e}function aP(n){const e={};return Kn(n,(t,i)=>e[i]=`${t}`),e}function lP(n,e,t){return n==t.path&&hs(e,t.parameters)}const Bd="imperative";class ps{constructor(e,t){this.id=e,this.url=t}}class k_ extends ps{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ra extends ps{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gp extends ps{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wp extends ps{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class z_ extends ps{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class W6 extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j6 extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y6 extends ps{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class X6 extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q6 extends ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q6{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class K6{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Z6{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $6{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J6{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eW{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cP{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let iW=(()=>{class n{createUrlTree(t,i,r,s,o,a){return B6(t||i.root,r,s,o,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),sW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:function(e){return iW.\u0275fac(e)},providedIn:"root"}),n})();class uP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=H_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=H_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=V_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return V_(e,this._root).map(t=>t.value)}}function H_(n,e){if(n===e.value)return e;for(const t of e.children){const i=H_(n,t);if(i)return i}return null}function V_(n,e){if(n===e.value)return[e];for(const t of e.children){const i=V_(n,t);if(i.length)return i.unshift(e),i}return[]}class qs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class dP extends uP{constructor(e,t){super(e),this.snapshot=t,G_(this,e)}toString(){return this.snapshot.toString()}}function fP(n,e){const t=function oW(n,e){const o=new jp([],{},{},"",{},rt,e,null,n.root,-1,{});return new pP("",new qs(o,[]))}(n,e),i=new Kr([new Ld("",{})]),r=new Kr({}),s=new Kr({}),o=new Kr({}),a=new Kr(""),l=new mc(i,r,o,a,s,rt,e,t.root);return l.snapshot=t.root,new dP(new qs(l,[]),t)}class mc{constructor(e,t,i,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(Et(c=>c[Rd]))??Ve(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Et(e=>uc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Et(e=>uc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hP(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function aW(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class jp{get title(){return this.data?.[Rd]}constructor(e,t,i,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pP extends uP{constructor(e,t){super(t),this.url=e,G_(this,t)}toString(){return mP(this._root)}}function G_(n,e){e.value._routerState=n,e.children.forEach(t=>G_(n,t))}function mP(n){const e=n.children.length>0?` { ${n.children.map(mP).join(", ")} } `:"";return`${n.value}${e}`}function W_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,hs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),hs(e.params,t.params)||n.params.next(t.params),function x6(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!hs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),hs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function j_(n,e){const t=hs(n.params,e.params)&&function b6(n,e){return Pa(n,e)&&n.every((t,i)=>hs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||j_(n.parent,e.parent))}function kd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function cW(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return kd(n,i,r);return kd(n,i)})}(n,e,t);return new qs(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>kd(n,a)),o}}const i=function uW(n){return new mc(new Kr(n.url),new Kr(n.params),new Kr(n.queryParams),new Kr(n.fragment),new Kr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>kd(n,s));return new qs(i,r)}}const Y_="ngNavigationCancelingError";function gP(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Ia(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=vP(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function vP(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Y_]=!0,i.cancellationCode=e,t&&(i.url=t),i}function yP(n){return _P(n)&&Ia(n.url)}function _P(n){return n&&n[Y_]}class dW{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zd,this.attachRef=null}}let zd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new dW,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yp=!1;let wP=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=rt,this.activateEvents=new yi,this.deactivateEvents=new yi,this.attachEvents=new yi,this.detachEvents=new yi,this.parentContexts=Mt(zd),this.location=Mt(Yr),this.changeDetector=Mt(Ky),this.environmentInjector=Mt(ks)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new se(4012,Yp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new se(4012,Yp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new se(4012,Yp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new se(4013,Yp);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new fW(t,a,r.injector);if(i&&function hW(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(o);this.activated=r.createComponent(c,r.length,l)}else this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=hi({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ga]}),n})();class fW{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===mc?this.route:e===zd?this.childContexts:this.parent.get(e,t)}}let X_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ku({type:n,selectors:[["ng-component"]],standalone:!0,features:[CT],decls:1,vars:0,template:function(t,i){1&t&&Re(0,"router-outlet")},dependencies:[wP],encapsulation:2}),n})();function xP(n,e){return n.providers&&!n._injector&&(n._injector=ap(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Q_(n){const e=n.children&&n.children.map(Q_),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==rt&&(t.component=X_),t}function Er(n){return n.outlet||rt}function SP(n,e){const t=n.filter(i=>Er(i)===e);return t.push(...n.filter(i=>Er(i)!==e)),t}function Hd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yW{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),W_(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=pc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Kn(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=pc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=pc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=pc(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new eW(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $6(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(W_(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),W_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Hd(r.snapshot),l=a?.get(od)??null;o.attachRef=null,o.route=r,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class EP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xp{constructor(e,t){this.component=e,this.route=t}}function _W(n,e,t){const i=n._root;return Vd(i,e?e._root:null,t,[i.value])}function gc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function lU(n){return null!==ah(n)}(n)?e.get(n):n:i}function Vd(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=pc(e);return n.children.forEach(o=>{(function xW(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function SW(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Pa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pa(n.url,e.url)||!hs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!j_(n,e)||!hs(n.queryParams,e.queryParams);default:return!j_(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new EP(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Vd(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Xp(a.outlet.component,o))}else o&&Gd(e,a,r),r.canActivateChecks.push(new EP(i)),Vd(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Kn(s,(o,a)=>Gd(o,t.getContext(a),r)),r}function Gd(n,e,t){const i=pc(n),r=n.value;Kn(i,(s,o)=>{Gd(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Xp(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Wd(n){return"function"==typeof n}function K_(n){return n instanceof Op||"EmptyError"===n?.name}const qp=Symbol("INITIAL_VALUE");function vc(){return fs(n=>UD(n.map(e=>e.pipe(cc(1),function p6(...n){const e=Ou(n);return Hn((t,i)=>{(e?D_(n,t,e):D_(n,t)).subscribe(i)})}(qp)))).pipe(Et(e=>{for(const t of e)if(!0!==t){if(t===qp)return qp;if(!1===t||t instanceof No)return t}return!0}),Io(e=>e!==qp),cc(1)))}function MP(n){return function uF(...n){return LE(n)}(ri(e=>{if(Ia(e))throw gP(0,e)}),Et(e=>!0===e))}const Z_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bP(n,e,t,i,r){const s=$_(n,e,t);return s.matched?function kW(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Ve(r.map(o=>{const a=gc(o,n);return Oo(function CW(n){return n&&Wd(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(vc(),MP()):Ve(!0)}(i=xP(e,i),e,t).pipe(Et(o=>!0===o?s:{...Z_})):Ve(s)}function $_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Z_}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||w6)(t,n,e);if(!r)return{...Z_};const s={};Kn(r.posParams,(a,l)=>{s[l]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Qp(n,e,t,i){if(t.length>0&&function VW(n,e,t){return t.some(i=>Kp(n,e,i)&&Er(i)!==rt)}(n,t,i)){const s=new mt(e,function HW(n,e,t,i){const r={};r[rt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Er(s)!==rt){const o=new mt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[Er(s)]=o}return r}(n,e,i,new mt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function GW(n,e,t){return t.some(i=>Kp(n,e,i))}(n,t,i)){const s=new mt(n.segments,function zW(n,e,t,i,r){const s={};for(const o of i)if(Kp(n,t,o)&&!r[Er(o)]){const a=new mt([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,s[Er(o)]=a}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new mt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Kp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function AP(n,e,t,i){return!!(Er(n)===i||i!==rt&&Kp(e,t,n))&&("**"===n.path||$_(e,n,t).matched)}function TP(n,e,t){return 0===e.length&&!n.children[t]}const Zp=!1;class $p{constructor(e){this.segmentGroup=e||null}}class CP{constructor(e){this.urlTree=e}}function jd(n){return Id(new $p(n))}function DP(n){return Id(new CP(n))}class XW{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=Qp(this.urlTree.root,[],[],this.config).segmentGroup,t=new mt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,rt).pipe(Et(s=>this.createUrlTree(Vp(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lo(s=>{if(s instanceof CP)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof $p?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,rt).pipe(Et(r=>this.createUrlTree(Vp(r),e.queryParams,e.fragment))).pipe(Lo(r=>{throw r instanceof $p?this.noMatchError(r):r}))}noMatchError(e){return new se(4002,Zp)}createUrlTree(e,t,i){const r=N_(e);return new No(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(Et(s=>new mt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Ln(r).pipe(Da(s=>{const o=i.children[s],a=SP(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(Et(l=>({segment:l,outlet:s})))}),VD((s,o)=>(s[o.outlet]=o.segment,s),{}),GD())}expandSegment(e,t,i,r,s,o){return Ln(i).pipe(Da(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,s,o).pipe(Lo(c=>{if(c instanceof $p)return Ve(null);throw c}))),Ro(a=>!!a),Lo((a,l)=>{if(K_(a))return TP(t,r,s)?Ve(new mt([],{})):jd(t);throw a}))}expandSegmentAgainstRoute(e,t,i,r,s,o,a){return AP(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):jd(t):jd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?DP(s):this.lineralizeSegments(i,s).pipe(Xn(o=>{const a=new mt(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=$_(t,r,s);if(!a)return jd(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?DP(d):this.lineralizeSegments(r,d).pipe(Xn(f=>this.expandSegment(e,t,i,f.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=xP(i,e),i.loadChildren?(i._loadedRoutes?Ve({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(Et(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new mt(r,{})))):Ve(new mt(r,{}))):bP(t,i,r,e).pipe(fs(({matched:o,consumedSegments:a,remainingSegments:l})=>o?this.getChildConfig(e=i._injector??e,i,r).pipe(Xn(u=>{const d=u.injector??e,f=u.routes,{segmentGroup:h,slicedSegments:p}=Qp(t,a,l,f),m=new mt(h.segments,h.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,f,m).pipe(Et(y=>new mt(a,y)));if(0===f.length&&0===p.length)return Ve(new mt(a,{}));const g=Er(i)===s;return this.expandSegment(d,m,f,p,g?rt:s,!0).pipe(Et(_=>new mt(a.concat(_.segments),_.children)))})):jd(t)))}getChildConfig(e,t,i){return t.children?Ve({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ve({routes:t._loadedRoutes,injector:t._loadedInjector}):function BW(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Ve(!0):Ve(r.map(o=>{const a=gc(o,n);return Oo(function MW(n){return n&&Wd(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(vc(),MP())}(e,t,i).pipe(Xn(r=>r?this.configLoader.loadChildren(e,t).pipe(ri(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function jW(n){return Id(vP(Zp,3))}())):Ve({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ve(i);if(r.numberOfChildren>1||!r.children[rt])return e.redirectTo,Id(new se(4e3,Zp));r=r.children[rt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new No(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Kn(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Kn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,r)}),new mt(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new se(4001,Zp);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class QW{}class $W{constructor(e,t,i,r,s,o,a){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Qp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,rt).pipe(Et(t=>{if(null===t)return null;const i=new jp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qs(i,t),s=new pP(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=hP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return Ln(Object.keys(i.children)).pipe(Da(r=>{const s=i.children[r],o=SP(t,r);return this.processSegmentGroup(e,o,s,r)}),VD((r,s)=>r&&s?(r.push(...s),r):null),function v6(n,e=!1){return Hn((t,i)=>{let r=0;t.subscribe(Vn(i,s=>{const o=n(s,r++);(o||e)&&i.next(s),!o&&i.complete()}))})}(r=>null!==r),Np(null),GD(),Et(r=>{if(null===r)return null;const s=IP(r);return function JW(n){n.sort((e,t)=>e.value.outlet===rt?-1:t.value.outlet===rt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return Ln(t).pipe(Da(o=>this.processSegmentAgainstRoute(o._injector??e,o,i,r,s)),Ro(o=>!!o),Lo(o=>{if(K_(o))return TP(i,r,s)?Ve([]):Ve(null);throw o}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!AP(t,i,r,s))return Ve(null);let o;if("**"===t.path){const a=r.length>0?YD(r).parameters:{},l=LP(i)+r.length;o=Ve({snapshot:new jp(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OP(t),Er(t),t.component??t._loadedComponent??null,t,RP(i),l,NP(t)),consumedSegments:[],remainingSegments:[]})}else o=bP(i,t,r,e).pipe(Et(({matched:a,consumedSegments:l,remainingSegments:c,parameters:u})=>{if(!a)return null;const d=LP(i)+l.length;return{snapshot:new jp(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OP(t),Er(t),t.component??t._loadedComponent??null,t,RP(i),d,NP(t)),consumedSegments:l,remainingSegments:c}}));return o.pipe(fs(a=>{if(null===a)return Ve(null);const{snapshot:l,consumedSegments:c,remainingSegments:u}=a;e=t._injector??e;const d=t._loadedInjector??e,f=function e9(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:h,slicedSegments:p}=Qp(i,c,u,f.filter(g=>void 0===g.redirectTo));if(0===p.length&&h.hasChildren())return this.processChildren(d,f,h).pipe(Et(g=>null===g?null:[new qs(l,g)]));if(0===f.length&&0===p.length)return Ve([new qs(l,[])]);const m=Er(t)===s;return this.processSegment(d,f,h,p,m?rt:s).pipe(Et(g=>null===g?null:[new qs(l,g)]))}))}}function t9(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function IP(n){const e=[],t=new Set;for(const i of n){if(!t9(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=IP(i.children);e.push(new qs(i.value,r))}return e.filter(i=>!t.has(i))}function RP(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function LP(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function OP(n){return n.data||{}}function NP(n){return n.resolve||{}}function FP(n){return"string"==typeof n.title||null===n.title}function J_(n){return fs(e=>{const t=n(e);return t?Ln(t).pipe(Et(()=>e)):Ve(e)})}const yc=new Xe("ROUTES");let ew=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Mt(gC)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ve(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Oo(t.loadComponent()).pipe(Et(BP),ri(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),R_(()=>{this.componentLoaders.delete(t)})),r=new zD(i,()=>new Ds).pipe(P_());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Et(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(t).injector,c=jD(l.get(yc,[],We.Self|We.Optional)));return{routes:c.map(Q_),injector:l}}),R_(()=>{this.childrenLoaders.delete(i)})),o=new zD(s,()=>new Ds).pipe(P_());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return Oo(t()).pipe(Et(BP),Xn(i=>i instanceof AT||Array.isArray(i)?Ve(i):Ln(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BP(n){return function c9(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let em=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ds,this.configLoader=Mt(ew),this.environmentInjector=Mt(ks),this.urlSerializer=Mt(Od),this.rootContexts=Mt(zd),this.navigationId=0,this.afterPreactivation=()=>Ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new K6(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Q6(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Kr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bd,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Io(i=>0!==i.id),Et(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),fs(i=>{let r=!1,s=!1;return Ve(i).pipe(ri(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fs(o=>{const a=t.browserUrlTree.toString(),l=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new Wp(o.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),is}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return kP(o.source)&&(t.browserUrlTree=o.extractedUrl),Ve(o).pipe(fs(u=>{const d=this.transitions?.getValue();return this.events.next(new k_(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?is:Promise.resolve(u)}),function qW(n,e,t,i){return fs(r=>function YW(n,e,t,i,r){return new XW(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(Et(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),ri(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function i9(n,e,t,i,r){return Xn(s=>function ZW(n,e,t,i,r,s,o="emptyOnly"){return new $W(n,e,t,i,r,o,s).recognize().pipe(fs(a=>null===a?function KW(n){return new Rn(e=>e.error(n))}(new QW):Ve(a)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(Et(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),ri(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const f=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(f,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new W6(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:f,restoredState:h,extras:p}=o,m=new k_(u,this.urlSerializer.serialize(d),f,h);this.events.next(m);const g=fP(d,this.rootComponentType).snapshot;return Ve(i={...o,targetSnapshot:g,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new Wp(o.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),is}}),ri(o=>{const a=new j6(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Et(o=>i={...o,guards:_W(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function PW(n,e){return Xn(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Ve({...t,guardsResult:!0}):function IW(n,e,t,i){return Ln(n).pipe(Xn(r=>function UW(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Ve(!0);const o=s.map(a=>{const l=Hd(e)??r,c=gc(a,l);return Oo(function TW(n){return n&&Wd(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(Ro())});return Ve(o).pipe(vc())}(r.component,r.route,t,e,i)),Ro(r=>!0!==r,!0))}(o,i,r,n).pipe(Xn(a=>a&&function EW(n){return"boolean"==typeof n}(a)?function RW(n,e,t,i){return Ln(e).pipe(Da(r=>D_(function OW(n,e){return null!==n&&e&&e(new Z6(n)),Ve(!0)}(r.route.parent,i),function LW(n,e){return null!==n&&e&&e(new J6(n)),Ve(!0)}(r.route,i),function FW(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function wW(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>kD(()=>Ve(o.guards.map(l=>{const c=Hd(o.node)??t,u=gc(l,c);return Oo(function AW(n){return n&&Wd(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Ro())})).pipe(vc())));return Ve(s).pipe(vc())}(n,r.path,t),function NW(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ve(!0);const r=i.map(s=>kD(()=>{const o=Hd(e)??t,a=gc(s,o);return Oo(function bW(n){return n&&Wd(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Ro())}));return Ve(r).pipe(vc())}(n,r.route,t))),Ro(r=>!0!==r,!0))}(i,s,n,e):Ve(a)),Et(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),ri(o=>{if(i.guardsResult=o.guardsResult,Ia(o.guardsResult))throw gP(0,o.guardsResult);const a=new Y6(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Io(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),J_(o=>{if(o.guards.canActivateChecks.length)return Ve(o).pipe(ri(a=>{const l=new X6(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),fs(a=>{let l=!1;return Ve(a).pipe(function r9(n,e){return Xn(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ve(t);let s=0;return Ln(r).pipe(Da(o=>function s9(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!FP(r)&&(s[Rd]=r.title),function o9(n,e,t,i){const r=function a9(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Ve({});const s={};return Ln(r).pipe(Xn(o=>function l9(n,e,t,i){const r=Hd(e)??i,s=gc(n,r);return Oo(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(Ro(),ri(a=>{s[o]=a}))),I_(1),function y6(n){return Et(()=>n)}(s),Lo(o=>K_(o)?is:Id(o)))}(s,n,e,i).pipe(Et(o=>(n._resolvedData=o,n.data=hP(n,t).resolve,r&&FP(r)&&(n.data[Rd]=r.title),null)))}(o.route,i,n,e)),ri(()=>s++),I_(1),Xn(o=>s===r.length?Ve(t):is))})}(t.paramsInheritanceStrategy,this.environmentInjector),ri({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),ri(a=>{const l=new q6(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),J_(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(ri(u=>{l.component=u}),Et(()=>{})));for(const u of l.children)c.push(...a(u));return c};return UD(a(o.targetSnapshot.root)).pipe(Np(),cc(1))}),J_(()=>this.afterPreactivation()),Et(o=>{const a=function lW(n,e,t){const i=kd(n,e._root,t?t._root:void 0);return new dP(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),ri(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>Et(i=>(new yW(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o)),cc(1),ri({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ra(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),R_(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Lo(o=>{if(s=!0,_P(o)){yP(o)||(t.navigated=!0,t.restoreHistory(i,!0));const a=new Gp(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),yP(o)){const l=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||kP(i.source)};t.scheduleNavigation(l,Bd,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const a=new z_(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(t.errorHandler(o))}catch(l){i.reject(l)}}return is}))}))}cancelNavigationTransition(t,i,r){const s=new Gp(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kP(n){return n!==Bd}let zP=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===rt);return i}getResolvedTitleForRoute(t){return t.data[Rd]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:function(){return Mt(u9)},providedIn:"root"}),n})(),u9=(()=>{class n extends zP{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(Fe(OD))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:function(){return Mt(h9)},providedIn:"root"}),n})();class f9{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let h9=(()=>{class n extends f9{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=function QM(n){return Rs(()=>{const e=n.prototype.constructor,t=e[Os]||r0(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Os]||r0(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(n)))(i||n)}}(),n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tm=new Xe("",{providedIn:"root",factory:()=>({})});let m9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:function(){return Mt(g9)},providedIn:"root"}),n})(),g9=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v9(n){throw n}function y9(n,e,t){return e.parse("/")}const _9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Mt(VV),this.isNgZoneEnabled=!1,this.options=Mt(tm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||v9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||y9,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Mt(m9),this.routeReuseStrategy=Mt(d9),this.urlCreationStrategy=Mt(sW),this.titleStrategy=Mt(zP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=jD(Mt(yc,{optional:!0})??[]),this.navigationTransitions=Mt(em),this.urlSerializer=Mt(Od),this.location=Mt(s_),this.isNgZoneEnabled=Mt(nn)instanceof nn&&nn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new No,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bd,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Q_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Ia(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Bd,null,i)}navigate(t,i={skipLocationChange:!1}){return function x9(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new se(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{..._9}:!1===i?{...w9}:i,Ia(t))return qD(this.currentUrlTree,t,r);const s=this.parseUrl(t);return qD(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;return o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,f)=>{a=d,l=f}),u="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class HP{}let M9=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Io(t=>t instanceof Ra),Da(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=ap(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ln(r).pipe(El())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ve(null);const s=r.pipe(Xn(o=>null===o?Ve(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?Ln([s,this.loader.loadComponent(i)]).pipe(El()):s})}}return n.\u0275fac=function(t){return new(t||n)(Fe($i),Fe(gC),Fe(ks),Fe(HP),Fe(ew))},n.\u0275prov=ke({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iw=new Xe("");let VP=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof k_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ra&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function bA(){throw new Error("invalid")}()},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();var Ji=(()=>((Ji=Ji||{})[Ji.COMPLETE=0]="COMPLETE",Ji[Ji.FAILED=1]="FAILED",Ji[Ji.REDIRECTING=2]="REDIRECTING",Ji))();const _c=!1;function Fo(n,e){return{\u0275kind:n,\u0275providers:e}}const rw=new Xe("",{providedIn:"root",factory:()=>!1});function WP(){const n=Mt(Hs);return e=>{const t=n.get(Md);if(e!==t.components[0])return;const i=n.get($i),r=n.get(jP);1===n.get(sw)&&i.initialNavigation(),n.get(YP,null,We.Optional)?.setUpPreloading(),n.get(iw,null,We.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const jP=new Xe(_c?"bootstrap done indicator":"",{factory:()=>new Ds}),sw=new Xe(_c?"initial navigation":"",{providedIn:"root",factory:()=>1});function D9(){let n=[];return n=_c?[{provide:kh,multi:!0,useFactory:()=>{const e=Mt($i);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function tW(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Fo(1,n)}const YP=new Xe(_c?"router preloader":"");function P9(n){return Fo(0,[{provide:YP,useExisting:M9},{provide:HP,useExisting:n}])}const Yd=!1,XP=new Xe(Yd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),I9=[s_,{provide:Od,useClass:L_},$i,zd,{provide:mc,useFactory:function GP(n){return n.routerState.root},deps:[$i]},ew,Yd?{provide:rw,useValue:!0}:[]];function R9(){return new MC("Router",$i)}let qP=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[I9,Yd&&i?.enableTracing?D9().\u0275providers:[],{provide:yc,multi:!0,useValue:t},{provide:XP,useFactory:F9,deps:[[$i,new Ku,new Zu]]},{provide:tm,useValue:i||{}},i?.useHash?{provide:Ca,useClass:D5}:{provide:Ca,useClass:XC},{provide:iw,useFactory:()=>{const n=Mt(ZG),e=Mt(nn),t=Mt(tm),i=Mt(em),r=Mt(Od);return t.scrollOffset&&n.setOffset(t.scrollOffset),new VP(r,i,n,e,t)}},i?.preloadingStrategy?P9(i.preloadingStrategy).\u0275providers:[],{provide:MC,multi:!0,useFactory:R9},i?.initialNavigation?U9(i):[],[{provide:QP,useFactory:WP},{provide:EC,multi:!0,useExisting:QP}]]}}static forChild(t){return{ngModule:n,providers:[{provide:yc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(Fe(XP,8))},n.\u0275mod=Mo({type:n}),n.\u0275inj=Is({imports:[X_]}),n})();function F9(n){if(Yd&&n)throw new se(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function U9(n){return["disabled"===n.initialNavigation?Fo(3,[{provide:fp,multi:!0,useFactory:()=>{const e=Mt($i);return()=>{e.setUpLocationChangeListener()}}},{provide:sw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fo(2,[{provide:sw,useValue:0},{provide:fp,multi:!0,deps:[Hs],useFactory:e=>{const t=e.get(T5,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get($i),s=e.get(jP);(function b9(n,e){n.events.pipe(Io(t=>t instanceof Ra||t instanceof Gp||t instanceof z_||t instanceof Wp),Et(t=>t instanceof Ra||t instanceof Wp?Ji.COMPLETE:t instanceof Gp&&(0===t.code||1===t.code)?Ji.REDIRECTING:Ji.FAILED),Io(t=>t!==Ji.REDIRECTING),cc(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(em).afterPreactivation=()=>(i(!0),s.closed?Ve(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const QP=new Xe(Yd?"Router Initializer":""),k9=[];let z9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mo({type:n}),n.\u0275inj=Is({imports:[qP.forRoot(k9),qP]}),n})();function Qs(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function KP(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var ow,si,un,sn,br,fw,hw,nI,sI,bc,ef,l,c,u,d,f,h,n,e,t,i,r,s,o,a,p,er={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},wc={duration:.5,overwrite:!1,delay:0},Mr=1e8,zt=1/Mr,aw=2*Math.PI,H9=aw/4,V9=0,ZP=Math.sqrt,G9=Math.cos,W9=Math.sin,Gn=function(e){return"string"==typeof e},dn=function(e){return"function"==typeof e},Ks=function(e){return"number"==typeof e},lw=function(e){return typeof e>"u"},ms=function(e){return"object"==typeof e},Ni=function(e){return!1!==e},cw=function(){return typeof window<"u"},nm=function(e){return dn(e)||Gn(e)},$P="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},oi=Array.isArray,uw=/(?:-?\.?\d|\.)+/gi,JP=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,xc=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,dw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,eI=/[+-]=-?[.\d]+/,tI=/[^,'"\[\]\s]+/gi,j9=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,tr={},im={},iI=function(e){return(im=Oa(e,tr))&&ki},pw=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},rm=function(e,t){return!t&&console.warn(e)},rI=function(e,t){return e&&(tr[e]=t)&&im&&(im[e]=t)||tr},Xd=function(){return 0},Y9={suppressEvents:!0,isStart:!0,kill:!1},sm={suppressEvents:!0,kill:!1},X9={suppressEvents:!0},mw={},Uo=[],gw={},nr={},vw={},oI=30,om=[],yw="",_w=function(e){var i,r,t=e[0];if(ms(t)||dn(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=om.length;r--&&!om[r].targetTest(t););i=om[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new NI(e[r],i)))||e.splice(r,1);return e},La=function(e){return e._gsap||_w(Cr(e))[0]._gsap},aI=function(e,t,i){return(i=e[t])&&dn(i)?e[t]():lw(i)&&e.getAttribute&&e.getAttribute(t)||i},Fi=function(e,t){return(e=e.split(",")).forEach(t)||e},wn=function(e){return Math.round(1e5*e)/1e5||0},Zn=function(e){return Math.round(1e7*e)/1e7||0},Sc=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===i?e+r:"-"===i?e-r:"*"===i?e*r:e/r},q9=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},am=function(){var i,r,e=Uo.length,t=Uo.slice(0);for(gw={},Uo.length=0,i=0;i<e;i++)(r=t[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},lI=function(e,t,i,r){Uo.length&&!si&&am(),e.render(t,i,r||si&&t<0&&(e._initted||e._startAt)),Uo.length&&!si&&am()},cI=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(tI).length<2?t:Gn(e)?e.trim():e},uI=function(e){return e},Ar=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Oa=function(e,t){for(var i in t)e[i]=t[i];return e},dI=function n(e,t){for(var i in t)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(e[i]=ms(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},lm=function(e,t){var r,i={};for(r in e)r in t||(i[r]=e[r]);return i},qd=function(e){var t=e.parent||sn,i=e.keyframes?function(e){return function(t,i){for(var r in i)r in t||"duration"===r&&e||"ease"===r||(t[r]=i[r])}}(oi(e.keyframes)):Ar;if(Ni(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},fI=function(e,t,i,r,s){void 0===i&&(i="_first"),void 0===r&&(r="_last");var a,o=e[r];if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},cm=function(e,t,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Bo=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Na=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Z9=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},ww=function(e,t,i,r){return e._startAt&&(si?e._startAt.revert(sm):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},$9=function n(e){return!e||e._ts&&n(e.parent)},hI=function(e){return e._repeat?Ec(e._tTime,e=e.duration()+e._rDelay)*e:0},Ec=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},um=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},dm=function(e){return e._end=Zn(e._start+(e._tDur/Math.abs(e._ts||e._rts||zt)||0))},fm=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Zn(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),dm(e),i._dirty||Na(i,e)),e},pI=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=um(e.rawTime(),t),(!t._dur||Kd(0,t.totalDuration(),i)-t._tTime>zt)&&t.render(i,!0)),Na(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-zt}},gs=function(e,t,i,r){return t.parent&&Bo(t),t._start=Zn((Ks(i)?i:i||e!==sn?Tr(e,i,t):e._time)+t._delay),t._end=Zn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),fI(e,t,"_first","_last",e._sort?"_start":0),xw(t)||(e._recent=t),r||pI(e,t),e._ts<0&&fm(e,e._tTime),e},mI=function(e,t){return(tr.ScrollTrigger||pw("scrollTrigger",t))&&tr.ScrollTrigger.create(t,e)},gI=function(e,t,i,r,s){return Pw(e,t,s),e._initted?!i&&e._pt&&!si&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&sI!==ir.frame?(Uo.push(e),e._lazy=[s,r],1):void 0:1},J9=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},xw=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Mc=function(e,t,i,r){var s=e._repeat,o=Zn(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Zn(o*(s+1)+e._rDelay*s):o,a>0&&!r&&fm(e,e._tTime=e._tDur*a),e.parent&&dm(e),i||Na(e.parent,e),e},vI=function(e){return e instanceof Ui?Na(e):Mc(e,e._dur)},n7={_start:0,endTime:Xd,totalDuration:Xd},Tr=function n(e,t,i){var a,l,c,r=e.labels,s=e._recent||n7,o=e.duration()>=Mr?s.endTime(!1):e._dur;return Gn(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c="%"===t.substr(-1),a=t.indexOf("="),"<"===l||">"===l?(a>=0&&(t=t.replace(/=/,"")),("<"===l?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&i&&(l=l/100*(oi(i)?i[0]:i).totalDuration()),a>1?n(e,t.substr(0,a-1),i)+l:o+l)):null==t?o:+t},Qd=function(e,t,i){var a,l,r=Ks(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s];if(r&&(o.duration=t[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Ni(l.vars.inherit)&&l.parent;o.immediateRender=Ni(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new An(t[0],o,t[s+1])},ko=function(e,t){return e||0===e?t(e):t},Kd=function(e,t,i){return i<e?e:i>t?t:i},ai=function(e,t){return Gn(e)&&(t=j9.exec(e))?t[1]:""},Sw=[].slice,yI=function(e,t){return e&&ms(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ms(e[0]))&&!e.nodeType&&e!==br},Cr=function(e,t,i){return un&&!t&&un.selector?un.selector(e):!Gn(e)||i||!fw&&Ac()?oi(e)?function(e,t,i){return void 0===i&&(i=[]),e.forEach(function(r){var s;return Gn(r)&&!t||yI(r,1)?(s=i).push.apply(s,Cr(r)):i.push(r)})||i}(e,i):yI(e)?Sw.call(e,0):e?[e]:[]:Sw.call((t||hw).querySelectorAll(e),0)},Ew=function(e){return e=Cr(e)[0]||rm("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Cr(t,i.querySelectorAll?i:i===e?rm("Invalid scope")||hw.createElement("div"):e)}},_I=function(e){return e.sort(function(){return.5-Math.random()})},wI=function(e){if(dn(e))return e;var t=ms(e)?e:{each:e},i=Fa(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=t.axis,u=r,d=r;return Gn(r)?u=d={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],d=r[1]),function(f,h,p){var v,_,y,w,S,E,M,b,x,m=(p||t).length,g=o[m];if(!g){if(!(x="auto"===t.grid?0:(t.grid||[1,Mr])[1])){for(M=-Mr;M<(M=p[x++].getBoundingClientRect().left)&&x<m;);x--}for(g=o[m]=[],v=l?Math.min(x,m)*u-.5:r%x,_=x===Mr?0:l?m*d/x-.5:r/x|0,M=0,b=Mr,E=0;E<m;E++)y=E%x-v,w=_-(E/x|0),g[E]=S=c?Math.abs("y"===c?w:y):ZP(y*y+w*w),S>M&&(M=S),S<b&&(b=S);"random"===r&&_I(g),g.max=M-b,g.min=b,g.v=m=(parseFloat(t.amount)||parseFloat(t.each)*(x>m?m-1:c?"y"===c?m/x:x:Math.max(x,m/x))||0)*("edges"===r?-1:1),g.b=m<0?s-m:s,g.u=ai(t.amount||t.each)||0,i=i&&m<0?RI(i):i}return m=(g[f]-g.min)/g.max||0,Zn(g.b+(i?i(m):m)*g.v)+g.u}},Mw=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Zn(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(Ks(i)?0:ai(i))}},xI=function(e,t){var r,s,i=oi(e);return!i&&ms(e)&&(r=i=e.radius||Mr,e.values?(e=Cr(e.values),(s=!Ks(e[0]))&&(r*=r)):e=Mw(e.increment)),ko(t,i?dn(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var f,h,a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Mr,u=0,d=e.length;d--;)(f=s?(f=e[d].x-a)*f+(h=e[d].y-l)*h:Math.abs(e[d]-a))<c&&(c=f,u=d);return u=!r||c<=r?e[u]:o,s||u===o||Ks(o)?u:u+ai(o)}:Mw(e))},SI=function(e,t,i,r){return ko(oi(e)?!t:!0===i?!!(i=0):!r,function(){return oi(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+.99*i))/i)*i*r)/r})},EI=function(e,t,i){return ko(i,function(r){return e[~~t(r)]})},Zd=function(e){for(var r,s,o,a,t=0,i="";~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a="["===e.charAt(r+7),s=e.substr(r+7,o-r-7).match(a?tI:uw),i+=e.substr(t,r-t)+SI(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return i+e.substr(t,e.length-t)},MI=function(e,t,i,r,s){var o=t-e,a=r-i;return ko(s,function(l){return i+((l-e)/o*a||0)})},bI=function(e,t,i){var o,a,l,r=e.labels,s=Mr;for(o in r)(a=r[o]-t)<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Dr=function(e,t,i){var l,c,u,r=e.vars,s=r[t],o=un,a=e._ctx;if(s)return l=r[t+"Params"],c=r.callbackScope||e,i&&Uo.length&&am(),a&&(un=a),u=l?s.apply(c,l):s.call(c),un=o,u},$d=function(e){return Bo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!si),e.progress()<1&&Dr(e,"onInterrupt"),e},AI=[],TI=function(e){if(cw()&&e){var t=(e=!e.name&&e.default||e).name,i=dn(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Xd,render:Lw,add:Cw,kill:A7,modifier:b7,rawVars:0},o={targetTest:0,get:0,getSetter:Rw,aliases:{},register:0};if(Ac(),e!==r){if(nr[t])return;Ar(r,Ar(lm(e,s),o)),Oa(r.prototype,Oa(s,lm(e,o))),nr[r.prop=t]=r,e.targetTest&&(om.push(r),mw[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}rI(t,r),e.register&&e.register(ki,r,Bi)}else e&&AI.push(e)},Ht=255,Jd={aqua:[0,Ht,Ht],lime:[0,Ht,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ht],navy:[0,0,128],white:[Ht,Ht,Ht],olive:[128,128,0],yellow:[Ht,Ht,0],orange:[Ht,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ht,0,0],pink:[Ht,192,203],cyan:[0,Ht,Ht],transparent:[Ht,Ht,Ht,0]},bw=function(e,t,i){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)*Ht+.5|0},CI=function(e,t,i){var s,o,a,l,c,u,d,f,h,p,r=e?Ks(e)?[e>>16,e>>8&Ht,e&Ht]:0:Jd.black;if(!r){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),Jd[e])r=Jd[e];else if("#"===e.charAt(0)){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(r=parseInt(e.substr(1,6),16))>>16,r>>8&Ht,r&Ht,parseInt(e.substr(7),16)/255];r=[(e=parseInt(e.substr(1),16))>>16,e>>8&Ht,e&Ht]}else if("hsl"===e.substr(0,3))if(r=p=e.match(uw),t){if(~e.indexOf("="))return r=e.match(JP),i&&r.length<4&&(r[3]=1),r}else l=+r[0]%360/360,c=+r[1]/100,s=2*(u=+r[2]/100)-(o=u<=.5?u*(c+1):u+c-u*c),r.length>3&&(r[3]*=1),r[0]=bw(l+1/3,s,o),r[1]=bw(l,s,o),r[2]=bw(l-1/3,s,o);else r=e.match(uw)||Jd.transparent;r=r.map(Number)}return t&&!p&&(s=r[0]/Ht,o=r[1]/Ht,a=r[2]/Ht,u=((d=Math.max(s,o,a))+(f=Math.min(s,o,a)))/2,d===f?l=c=0:(h=d-f,c=u>.5?h/(2-d-f):h/(d+f),l=d===s?(o-a)/h+(o<a?6:0):d===o?(a-s)/h+2:(s-o)/h+4,l*=60),r[0]=~~(l+.5),r[1]=~~(100*c+.5),r[2]=~~(100*u+.5)),i&&r.length<4&&(r[3]=1),r},DI=function(e){var t=[],i=[],r=-1;return e.split(zo).forEach(function(s){var o=s.match(xc)||[];t.push.apply(t,o),i.push(r+=o.length+1)}),t.c=i,t},PI=function(e,t,i){var l,c,u,d,r="",s=(e+r).match(zo),o=t?"hsla(":"rgba(",a=0;if(!s)return e;if(s=s.map(function(f){return(f=CI(f,t,1))&&o+(t?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(u=DI(e),(l=i.c).join(r)!==u.c.join(r)))for(d=(c=e.replace(zo,"1").split(xc)).length-1;a<d;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!c)for(d=(c=e.split(zo)).length-1;a<d;a++)r+=c[a]+s[a];return r+c[d]},zo=function(){var e,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in Jd)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),d7=/hsl[a]?\(/,II=function(e){var i,t=e.join(" ");if(zo.lastIndex=0,zo.test(t))return i=d7.test(t),e[1]=PI(e[1],i),e[0]=PI(e[0],i,DI(e[1])),!0},ir=(n=Date.now,e=500,t=33,i=n(),r=i,o=s=1e3/240,p=function m(g){var y,w,S,E,v=n()-r,_=!0===g;if(v>e&&(i+=v-t),((y=(S=(r+=v)-i)-o)>0||_)&&(E=++d.frame,f=S-1e3*d.time,d.time=S/=1e3,o+=y+(y>=s?4:s-y),w=1),_||(l=c(m)),w)for(h=0;h<a.length;h++)a[h](S,f,E,g)},d={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(g){return f/(1e3/(g||60))},wake:function(){nI&&(!fw&&cw()&&(br=fw=window,hw=br.document||{},tr.gsap=ki,(br.gsapVersions||(br.gsapVersions=[])).push(ki.version),iI(im||br.GreenSockGlobals||!br.gsap&&br||{}),u=br.requestAnimationFrame,AI.forEach(TI)),l&&d.sleep(),c=u||function(g){return setTimeout(g,o-1e3*d.time+1|0)},ef=1,p(2))},sleep:function(){(u?br.cancelAnimationFrame:clearTimeout)(l),ef=0,c=Xd},lagSmoothing:function(g,v){e=g||1/0,t=Math.min(v||33,e)},fps:function(g){o=1e3*d.time+(s=1e3/(g||240))},add:function(g,v,_){var y=v?function(w,S,E,M){g(w,S,E,M),d.remove(y)}:g;return d.remove(g),a[_?"unshift":"push"](y),Ac(),y},remove:function(g,v){~(v=a.indexOf(g))&&a.splice(v,1)&&h>=v&&h--},_listeners:a=[]}),Ac=function(){return!ef&&ir.wake()},bt={},f7=/^[\d.\-M][\d.\-,\s]/,h7=/["']/g,p7=function(e){for(var a,l,c,t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,o=i.length;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[r]=isNaN(c)?c.replace(h7,"").trim():+c,r=l.substr(a+1).trim();return t},RI=function(e){return function(t){return 1-e(1-t)}},LI=function n(e,t){for(var r,i=e._first;i;)i instanceof Ui?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Fa=function(e,t){return e&&(dn(e)?e:bt[e]||function(e){var t=(e+"").split("("),i=bt[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[p7(t[1])]:function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)}(e).split(",").map(cI)):bt._CE&&f7.test(e)?bt._CE("",e):i}(e))||t},Ua=function(e,t,i,r){void 0===i&&(i=function(l){return 1-t(1-l)}),void 0===r&&(r=function(l){return l<.5?t(2*l)/2:1-t(2*(1-l))/2});var o,s={easeIn:t,easeOut:i,easeInOut:r};return Fi(e,function(a){for(var l in bt[a]=tr[a]=s,bt[o=a.toLowerCase()]=i,s)bt[o+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=bt[a+"."+l]=s[l]}),s},OI=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Aw=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),o=s/aw*(Math.asin(1/r)||0),a=function(u){return 1===u?1:r*Math.pow(2,-10*u)*W9((u-o)*s)+1},l="out"===e?a:"in"===e?function(c){return 1-a(1-c)}:OI(a);return s=aw/s,l.config=function(c,u){return n(e,c,u)},l},Tw=function n(e,t){void 0===t&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},r="out"===e?i:"in"===e?function(s){return 1-i(1-s)}:OI(i);return r.config=function(s){return n(e,s)},r};Fi("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Ua(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(2*i,t)/2:1-Math.pow(2*(1-i),t)/2})}),bt.Linear.easeNone=bt.none=bt.Linear.easeIn,Ua("Elastic",Aw("in"),Aw("out"),Aw()),function(n,e){var s=function(a){return a<.36363636363636365?n*a*a:a<.7272727272727273?n*Math.pow(a-1.5/e,2)+.75:a<.9090909090909092?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Ua("Bounce",function(o){return 1-s(1-o)},s)}(7.5625,2.75),Ua("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Ua("Circ",function(n){return-(ZP(1-n*n)-1)}),Ua("Sine",function(n){return 1===n?1:1-G9(n*H9)}),Ua("Back",Tw("in"),Tw("out"),Tw()),bt.SteppedEase=bt.steps=tr.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,o=1-zt;return function(a){return((r*Kd(0,o,a)|0)+s)*i}}},wc.ease=bt["quad.out"],Fi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return yw+=n+","+n+"Params,"});var NI=function(e,t){this.id=V9++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:aI,this.set=t?t.getSetter:Rw},tf=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Mc(this,+t.duration,1,1),this.data=t.data,un&&(this._ctx=un,un.data.push(this)),ef||ir.wake()}var e=n.prototype;return e.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Mc(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(Ac(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(fm(this,i),!s._dp||s.parent||pI(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&gs(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===zt||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),lI(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+hI(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+hI(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?Ec(this._tTime,s)+1:1},e.timeScale=function(i){if(!arguments.length)return this._rts===-zt?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?um(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-zt?0:this._rts,this.totalTime(Kd(-Math.abs(this._delay),this._tDur,r),!0),dm(this),Z9(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ac(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==zt&&(this._tTime-=zt)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&gs(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Ni(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?um(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){void 0===i&&(i=X9);var r=si;return si=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),"nested"!==this.data&&!1!==i.kill&&this.kill(),si=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(r._ts||1),r=r._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,vI(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,vI(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Tr(this,i),Ni(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Ni(r))},e.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-zt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-zt,this},e.isActive=function(){var s,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-zt))},e.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),"onUpdate"===i&&(this._onUpdate=r)):delete o[i],this):o[i]},e.then=function(i){var r=this;return new Promise(function(s){var o=dn(i)?i:uI,a=function(){var c=r.then;r.then=null,dn(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){$d(this)},n}();Ar(tf.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-zt,_prom:0,_ps:!1,_rts:1});var Ui=function(n){function e(i,r){var s;return void 0===i&&(i={}),(s=n.call(this,i)||this).labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Ni(i.sortChildren),sn&&gs(i.parent||sn,Qs(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&mI(Qs(s),i.scrollTrigger),s}KP(e,n);var t=e.prototype;return t.to=function(r,s,o){return Qd(0,arguments,this),this},t.from=function(r,s,o){return Qd(1,arguments,this),this},t.fromTo=function(r,s,o,a){return Qd(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,qd(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new An(r,s,Tr(this,o),1),this},t.call=function(r,s,o){return gs(this,An.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new An(r,o,Tr(this,l)),this},t.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,qd(o).immediateRender=Ni(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},t.staggerFromTo=function(r,s,o,a,l,c,u,d){return a.startAt=o,qd(a).immediateRender=Ni(a.immediateRender),this.staggerTo(r,s,a,l,c,u,d)},t.render=function(r,s,o){var f,h,p,m,g,v,_,y,w,S,E,M,a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:Zn(r),d=this._zTime<0!=r<0&&(this._initted||!c);if(this!==sn&&u>l&&r>=0&&(u=l),u!==this._tTime||o||d){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),f=u,w=this._start,v=!(y=this._ts),d&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(E=this._yoyo,g=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*g+r,s,o);if(f=Zn(u%g),u===l?(m=this._repeat,f=c):((m=~~(u/g))&&m===u/g&&(f=c,m--),f>c&&(f=c)),S=Ec(this._tTime,g),!a&&this._tTime&&S!==m&&this._tTime-S*g-this._dur<=0&&(S=m),E&&1&m&&(f=c-f,M=1),m!==S&&!this._lock){var b=E&&1&S,x=b===(E&&1&m);if(m<S&&(b=!b),a=b?0:u%c?c:u,this._lock=1,this.render(a||(M?0:Zn(m*g)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&Dr(this,"onRepeat"),this.vars.repeatRefresh&&!M&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,x&&(this._lock=2,this.render(a=b?c:-1e-4,!0),this.vars.repeatRefresh&&!M&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;LI(this,M)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Zn(a),Zn(f)),_&&(u-=f-(f=_._start))),this._tTime=u,this._time=f,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&f&&!s&&!m&&(Dr(this,"onStart"),this._tTime!==u))return this;if(f>=a&&r>=0)for(h=this._first;h;){if(p=h._next,(h._act||f>=h._start)&&h._ts&&_!==h){if(h.parent!==this)return this.render(r,s,o);if(h.render(h._ts>0?(f-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(f-h._start)*h._ts,s,o),f!==this._time||!this._ts&&!v){_=0,p&&(u+=this._zTime=-zt);break}}h=p}else{h=this._last;for(var A=r<0?r:f;h;){if(p=h._prev,(h._act||A<=h._end)&&h._ts&&_!==h){if(h.parent!==this)return this.render(r,s,o);if(h.render(h._ts>0?(A-h._start)*h._ts:(h._dirty?h.totalDuration():h._tDur)+(A-h._start)*h._ts,s,o||si&&(h._initted||h._startAt)),f!==this._time||!this._ts&&!v){_=0,p&&(u+=this._zTime=A?-zt:zt);break}}h=p}}if(_&&!s&&(this.pause(),_.render(f>=a?0:-zt)._zTime=f>=a?1:-1,this._ts))return this._start=w,dm(this),this.render(r,s,o);this._onUpdate&&!s&&Dr(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(w===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Bo(this,1),!s&&(!(r<0)||a)&&(u||a||!l)&&(Dr(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(Ks(s)||(s=Tr(this,s,r)),!(r instanceof tf)){if(oi(r))return r.forEach(function(a){return o.add(a,s)}),this;if(Gn(r))return this.addLabel(r,s);if(!dn(r))return this;r=An.delayedCall(0,r)}return this!==r?gs(this,r,s):this},t.getChildren=function(r,s,o,a){void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=-Mr);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof An?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return Gn(r)?this.removeLabel(r):dn(r)?this.killTweensOf(r):(cm(this,r),r===this._recent&&(this._recent=this._last),Na(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Zn(ir.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Tr(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=An.delayedCall(0,s||Xd,o);return a.data="isPause",this._hasPause=1,gs(this,a,Tr(this,r))},t.removePause=function(r){var s=this._first;for(r=Tr(this,r);s;)s._start===r&&"isPause"===s.data&&Bo(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)Ho!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var u,o=[],a=Cr(r),l=this._first,c=Ks(s);l;)l instanceof An?q9(l._targets,a)&&(c?(!Ho||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var h,o=this,a=Tr(o,r),c=s.startAt,u=s.onStart,d=s.onStartParams,f=s.immediateRender,p=An.to(o,Ar({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||zt,onStart:function(){if(o.pause(),!h){var g=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());p._dur!==g&&Mc(p,g,0,1).render(p._time,!0,!0),h=1}u&&u.apply(p,d||[])}},s));return f?p.render(0):p},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,Ar({startAt:{time:Tr(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return void 0===r&&(r=this._time),bI(this,Tr(this,r))},t.previousLabel=function(r){return void 0===r&&(r=this._time),bI(this,Tr(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+zt)},t.shiftChildren=function(r,s,o){void 0===o&&(o=0);for(var c,a=this._first,l=this.labels;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return Na(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){void 0===r&&(r=!0);for(var o,s=this._first;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Na(this)},t.totalDuration=function(r){var c,u,d,s=0,o=this,a=o._last,l=Mr;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(d=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),(u=a._start)>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,gs(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Mc(o,o===sn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(sn._ts&&(lI(sn,um(r,sn)),sI=ir.frame),ir.frame>=oI){oI+=er.autoSleep||120;var s=sn._first;if((!s||!s._ts)&&er.autoSleep&&ir._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||ir.sleep()}}},e}(tf);Ar(Ui.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ho,Dw,v7=function(e,t,i,r,s,o,a){var d,f,h,p,m,g,v,_,l=new Bi(this._pt,e,t,0,1,HI,null,s),c=0,u=0;for(l.b=i,l.e=r,i+="",(v=~(r+="").indexOf("random("))&&(r=Zd(r)),o&&(o(_=[i,r],e,t),i=_[0],r=_[1]),f=i.match(dw)||[];d=dw.exec(r);)p=d[0],m=r.substring(c,d.index),h?h=(h+1)%5:"rgba("===m.substr(-5)&&(h=1),p!==f[u++]&&(g=parseFloat(f[u-1])||0,l._pt={_next:l._pt,p:m||1===u?m:",",s:g,c:"="===p.charAt(1)?Sc(g,p)-g:parseFloat(p)-g,m:h&&h<4?Math.round:0},c=dw.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(eI.test(r)||v)&&(l.e=0),this._pt=l,l},Cw=function(e,t,i,r,s,o,a,l,c,u){dn(r)&&(r=r(s||0,e,o));var p,d=e[t],f="get"!==i?i:dn(d)?c?e[t.indexOf("set")||!dn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():d,h=dn(d)?c?S7:kI:Iw;if(Gn(r)&&(~r.indexOf("random(")&&(r=Zd(r)),"="===r.charAt(1)&&((p=Sc(f,r)+(ai(f)||0))||0===p)&&(r=p)),!u||f!==r||Dw)return isNaN(f*r)||""===r?(!d&&!(t in e)&&pw(t,r),v7.call(this,e,t,f,r,h,l||er.stringFilter,c)):(p=new Bi(this._pt,e,t,+f||0,r-(f||0),"boolean"==typeof d?M7:zI,0,h),c&&(p.fp=c),a&&p.modifier(a,this,e),this._pt=p)},FI=function(e,t,i,r,s,o){var a,l,c,u;if(nr[e]&&!1!==(a=new nr[e]).init(s,a.rawVars?t[e]:function(e,t,i,r,s){if(dn(e)&&(e=nf(e,s,t,i,r)),!ms(e)||e.style&&e.nodeType||oi(e)||$P(e))return Gn(e)?nf(e,s,t,i,r):e;var a,o={};for(a in e)o[a]=nf(e[a],s,t,i,r);return o}(t[e],r,s,o,i),i,r,o)&&(i._pt=l=new Bi(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==bc))for(c=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Pw=function n(e,t,i){var M,b,x,A,R,N,C,T,I,O,D,F,B,r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.onUpdateParams,d=r.callbackScope,f=r.runBackwards,h=r.yoyoEase,p=r.keyframes,m=r.autoRevert,g=e._dur,v=e._startAt,_=e._targets,y=e.parent,w=y&&"nested"===y.data?y.vars.targets:_,S="auto"===e._overwrite&&!ow,E=e.timeline;if(E&&(!p||!s)&&(s="none"),e._ease=Fa(s,wc.ease),e._yEase=h?RI(Fa(!0===h?s:h,wc.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!E&&!!r.runBackwards,!E||p&&!r.stagger){if(F=(T=_[0]?La(_[0]).harness:0)&&r[T.prop],M=lm(r,mw),v&&(v._zTime<0&&v.progress(1),t<0&&f&&a&&!m?v.render(-1,!0):v.revert(f&&g?sm:Y9),v._lazy=0),o){if(Bo(e._startAt=An.set(_,Ar({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!v&&Ni(l),startAt:null,delay:0,onUpdate:c,onUpdateParams:u,callbackScope:d,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(si||!a&&!m)&&e._startAt.revert(sm),a&&g&&t<=0&&i<=0)return void(t&&(e._zTime=t))}else if(f&&g&&!v)if(t&&(a=!1),x=Ar({overwrite:!1,data:"isFromStart",lazy:a&&!v&&Ni(l),immediateRender:a,stagger:0,parent:y},M),F&&(x[T.prop]=F),Bo(e._startAt=An.set(_,x)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(si?e._startAt.revert(sm):e._startAt.render(-1,!0)),e._zTime=t,a){if(!t)return}else n(e._startAt,zt,zt);for(e._pt=e._ptCache=0,l=g&&Ni(l)||l&&!g,b=0;b<_.length;b++){if(C=(R=_[b])._gsap||_w(_)[b]._gsap,e._ptLookup[b]=O={},gw[C.id]&&Uo.length&&am(),D=w===_?b:w.indexOf(R),T&&!1!==(I=new T).init(R,F||M,e,D,w)&&(e._pt=A=new Bi(e._pt,R,I.name,0,1,I.render,I,0,I.priority),I._props.forEach(function(W){O[W]=A}),I.priority&&(N=1)),!T||F)for(x in M)nr[x]&&(I=FI(x,M,e,D,R,w))?I.priority&&(N=1):O[x]=A=Cw.call(e,R,x,"get",M[x],D,w,0,r.stringFilter);e._op&&e._op[b]&&e.kill(R,e._op[b]),S&&e._pt&&(Ho=e,sn.killTweensOf(R,O,e.globalTime(t)),B=!e.parent,Ho=0),e._pt&&l&&(gw[C.id]=1)}N&&VI(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!B,p&&t<=0&&E.render(Mr,!0,!0)},x7=function(e,t,i,r){var o,a,s=t.ease||r||"power1.inOut";if(oi(t))a=i[e]||(i[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=i[o]||(i[o]=[]),"ease"===o||a.push({t:parseFloat(e),v:t[o],e:s})},nf=function(e,t,i,r,s){return dn(e)?e.call(t,i,r,s):Gn(e)&&~e.indexOf("random(")?Zd(e):e},UI=yw+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",BI={};Fi(UI+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return BI[n]=1});var An=function(n){function e(i,r,s,o){var a;"number"==typeof r&&(s.duration=r,r=s,s=null);var w,S,E,M,b,x,A,R,l=(a=n.call(this,o?r:qd(r))||this).vars,c=l.duration,u=l.delay,d=l.immediateRender,f=l.stagger,h=l.overwrite,p=l.keyframes,m=l.defaults,g=l.scrollTrigger,v=l.yoyoEase,_=r.parent||sn,y=(oi(i)||$P(i)?Ks(i[0]):"length"in r)?[i]:Cr(i);if(a._targets=y.length?_w(y):rm("GSAP target "+i+" not found. https://greensock.com",!er.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=h,p||f||nm(c)||nm(u)){if(r=a.vars,(w=a.timeline=new Ui({data:"nested",defaults:m||{},targets:_&&"nested"===_.data?_.vars.targets:y})).kill(),w.parent=w._dp=Qs(a),w._start=0,f||nm(c)||nm(u)){if(M=y.length,A=f&&wI(f),ms(f))for(b in f)~UI.indexOf(b)&&(R||(R={}),R[b]=f[b]);for(S=0;S<M;S++)(E=lm(r,BI)).stagger=0,v&&(E.yoyoEase=v),R&&Oa(E,R),x=y[S],E.duration=+nf(c,Qs(a),S,x,y),E.delay=(+nf(u,Qs(a),S,x,y)||0)-a._delay,!f&&1===M&&E.delay&&(a._delay=u=E.delay,a._start+=u,E.delay=0),w.to(x,E,A?A(S,x,y):0),w._ease=bt.none;w.duration()?c=u=0:a.timeline=0}else if(p){qd(Ar(w.vars.defaults,{ease:"none"})),w._ease=Fa(p.ease||r.ease||"none");var C,T,I,N=0;if(oi(p))p.forEach(function(O){return w.to(y,O,">")}),w.duration();else{for(b in E={},p)"ease"===b||"easeEach"===b||x7(b,p[b],E,p.easeEach);for(b in E)for(C=E[b].sort(function(O,D){return O.t-D.t}),N=0,S=0;S<C.length;S++)(I={ease:(T=C[S]).e,duration:(T.t-(S?C[S-1].t:0))/100*c})[b]=T.v,w.to(y,I,N),N+=I.duration;w.duration()<c&&w.to({},{duration:c-w.duration()})}}c||a.duration(c=w.duration())}else a.timeline=0;return!0===h&&!ow&&(Ho=Qs(a),sn.killTweensOf(y),Ho=0),gs(_,Qs(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(d||!c&&!p&&a._start===Zn(_._time)&&Ni(d)&&$9(Qs(a))&&"nested"!==_.data)&&(a._tTime=-zt,a.render(Math.max(0,-u)||0)),g&&mI(Qs(a),g),a}KP(e,n);var t=e.prototype;return t.render=function(r,s,o){var f,h,p,m,g,v,_,y,w,a=this._time,l=this._tDur,c=this._dur,u=r<0,d=r>l-zt&&!u?l:r<zt?0:r;if(c){if(d!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(f=d,y=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(100*m+r,s,o);if(f=Zn(d%m),d===l?(p=this._repeat,f=c):((p=~~(d/m))&&p===d/m&&(f=c,p--),f>c&&(f=c)),(v=this._yoyo&&1&p)&&(w=this._yEase,f=c-f),g=Ec(this._tTime,m),f===a&&!o&&this._initted)return this._tTime=d,this;p!==g&&(y&&this._yEase&&LI(y,v),this.vars.repeatRefresh&&!v&&!this._lock&&(this._lock=o=1,this.render(Zn(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(gI(this,u?r:f,o,s,d))return this._tTime=0,this;if(a!==this._time)return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=d,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(w||this._ease)(f/c),this._from&&(this.ratio=_=1-_),f&&!a&&!s&&!p&&(Dr(this,"onStart"),this._tTime!==d))return this;for(h=this._pt;h;)h.r(_,h.d),h=h._next;y&&y.render(r<0?r:!f&&v?-zt:y._dur*y._ease(f/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&ww(this,r,0,o),Dr(this,"onUpdate")),this._repeat&&p!==g&&this.vars.onRepeat&&!s&&this.parent&&Dr(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(u&&!this._onUpdate&&ww(this,r,0,!0),(r||!c)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&Bo(this,1),!s&&(!u||a)&&(d||a||v)&&(Dr(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,i,r){var c,u,d,s=e.ratio,o=t<0||!t&&(!e._start&&J9(e)&&(e._initted||!xw(e))||(e._ts<0||e._dp._ts<0)&&!xw(e))?0:1,a=e._rDelay,l=0;if(a&&e._repeat&&(l=Kd(0,e._tDur,t),u=Ec(l,a),e._yoyo&&1&u&&(o=1-o),u!==Ec(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||si||r||e._zTime===zt||!t&&e._zTime){if(!e._initted&&gI(e,t,r,i,l))return;for(d=e._zTime,e._zTime=t||(i?zt:0),i||(i=t&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&ww(e,t,0,!0),e._onUpdate&&!i&&Dr(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&Dr(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Bo(e,1),!i&&!si&&(Dr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,r,s,o);return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a){ef||ir.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Pw(this,l),function(e,t,i,r,s,o,a){var c,u,d,f,l=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!l)for(l=e._ptCache[t]=[],d=e._ptLookup,f=e._targets.length;f--;){if((c=d[f][t])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return Dw=1,e.vars[t]="+=0",Pw(e,a),Dw=0,1;l.push(c)}for(f=l.length;f--;)(c=(u=l[f])._pt||u).s=!r&&0!==r||s?c.s+(r||0)+o*c.c:r,c.c=i-c.s,u.e&&(u.e=wn(i)+ai(u.e)),u.b&&(u.b=c.s+ai(u.b))}(this,r,s,o,a,this._ease(l/this._dur),l)?this.resetTo(r,s,o,a):(fm(this,0),this.parent||fI(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(void 0===s&&(s="all"),!(r||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?$d(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Ho&&!0!==Ho.vars.overwrite)._first||$d(this),this.parent&&o!==this.timeline.totalDuration()&&Mc(this,this._dur*this.timeline._tDur/o,0,1),this}var d,f,h,p,m,g,v,a=this._targets,l=r?Cr(r):a,c=this._ptLookup,u=this._pt;if((!s||"all"===s)&&function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0}(a,l))return"all"===s&&(this._pt=0),$d(this);for(d=this._op=this._op||[],"all"!==s&&(Gn(s)&&(m={},Fi(s,function(_){return m[_]=1}),s=m),s=function(e,t){var s,o,a,l,i=e[0]?La(e[0]).harness:0,r=i&&i.aliases;if(!r)return t;for(o in s=Oa({},t),r)if(o in s)for(a=(l=r[o].split(",")).length;a--;)s[l[a]]=s[o];return s}(a,s)),v=a.length;v--;)if(~l.indexOf(a[v]))for(m in f=c[v],"all"===s?(d[v]=s,p=f,h={}):(h=d[v]=d[v]||{},p=s),p)(g=f&&f[m])&&((!("kill"in g.d)||!0===g.d.kill(m))&&cm(this,g,"_pt"),delete f[m]),"all"!==h&&(h[m]=1);return this._initted&&!this._pt&&u&&$d(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return Qd(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return Qd(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return sn.killTweensOf(r,s,o)},e}(tf);Ar(An.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Fi("staggerTo,staggerFrom,staggerFromTo",function(n){An[n]=function(){var e=new Ui,t=Sw.call(arguments,0);return t.splice("staggerFromTo"===n?5:4,0,0),e[n].apply(e,t)}});var Iw=function(e,t,i){return e[t]=i},kI=function(e,t,i){return e[t](i)},S7=function(e,t,i,r){return e[t](r.fp,i)},E7=function(e,t,i){return e.setAttribute(t,i)},Rw=function(e,t){return dn(e[t])?kI:lw(e[t])&&e.setAttribute?E7:Iw},zI=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},M7=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},HI=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},Lw=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},b7=function(e,t,i,r){for(var o,s=this._pt;s;)o=s._next,s.p===r&&s.modifier(e,t,i),s=o},A7=function(e){for(var i,r,t=this._pt;t;)r=t._next,t.p===e&&!t.op||t.op===e?cm(this,t,"_pt"):t.dep||(i=1),t=r;return!i},T7=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},VI=function(e){for(var i,r,s,o,t=e._pt;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=i}e._pt=s},Bi=function(){function n(t,i,r,s,o,a,l,c,u){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||zI,this.d=l||this,this.set=c||Iw,this.pr=u||0,this._next=t,t&&(t._prev=this)}return n.prototype.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=T7,this.m=i,this.mt=s,this.tween=r},n}();Fi(yw+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return mw[n]=1}),tr.TweenMax=tr.TweenLite=An,tr.TimelineLite=tr.TimelineMax=Ui,sn=new Ui({sortChildren:!1,defaults:wc,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),er.stringFilter=II;var Ba=[],hm={},C7=[],GI=0,D7=0,Ow=function(e){return(hm[e]||C7).map(function(t){return t()})},Nw=function(){var e=Date.now(),t=[];e-GI>2&&(Ow("matchMediaInit"),Ba.forEach(function(i){var o,a,l,c,r=i.queries,s=i.conditions;for(a in r)(o=br.matchMedia(r[a]).matches)&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&t.push(i))}),Ow("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i)}),GI=e,Ow("matchMedia"))},WI=function(){function n(t,i){this.selector=i&&Ew(i),this.data=[],this._r=[],this.isReverted=!1,this.id=D7++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){dn(i)&&(s=r,r=i,i=dn);var o=this,a=function(){var d,c=un,u=o.selector;return c&&c!==o&&c.data.push(o),s&&(o.selector=Ew(s)),un=o,d=r.apply(o,arguments),dn(d)&&o._r.push(d),un=c,o.selector=u,o.isReverted=!1,d};return o.last=a,i===dn?a(o):i?o[i]=a:a},e.ignore=function(i){var r=un;un=null,i(this),un=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof An&&!(r.parent&&"nested"===r.parent.data)&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i){var o=this.getTweens();this.data.forEach(function(l){"isFlip"===l.data&&(l.revert(),l.getChildren(!0,!0,!1).forEach(function(c){return o.splice(o.indexOf(c),1)}))}),o.map(function(l){return{g:l.globalTime(0),t:l}}).sort(function(l,c){return c.g-l.g||-1/0}).forEach(function(l){return l.t.revert(i)}),this.data.forEach(function(l){return!(l instanceof An)&&l.revert&&l.revert(i)}),this._r.forEach(function(l){return l(i,s)}),this.isReverted=!0}else this.data.forEach(function(l){return l.kill&&l.kill()});if(this.clear(),r)for(var a=Ba.length;a--;)Ba[a].id===this.id&&Ba.splice(a,1)},e.revert=function(i){this.kill(i||{})},n}(),P7=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(i,r,s){ms(i)||(i={matches:i});var l,c,u,o=new WI(0,s||this.scope),a=o.conditions={};for(c in un&&!o.selector&&(o.selector=un.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i,i)"all"===c?u=1:(l=br.matchMedia(i[c]))&&(Ba.indexOf(o)<0&&Ba.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(Nw):l.addEventListener("change",Nw));return u&&r(o),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),pm={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return TI(r)})},timeline:function(e){return new Ui(e)},getTweensOf:function(e,t){return sn.getTweensOf(e,t)},getProperty:function(e,t,i,r){Gn(e)&&(e=Cr(e)[0]);var s=La(e||{}).get,o=i?uI:cI;return"native"===i&&(i=""),e&&(t?o((nr[t]&&nr[t].get||s)(e,t,i,r)):function(a,l,c){return o((nr[a]&&nr[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,i){if((e=Cr(e)).length>1){var r=e.map(function(u){return ki.quickSetter(u,t,i)}),s=r.length;return function(u){for(var d=s;d--;)r[d](u)}}var o=nr[t],a=La(e=e[0]||{}),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var d=new o;bc._pt=0,d.init(e,i?u+i:u,bc,0,[e]),d.render(1,d),bc._pt&&Lw(1,bc)}:a.set(e,l);return o?c:function(u){return c(e,l,i?u+i:u,a,1)}},quickTo:function(e,t,i){var r,s=ki.to(e,Oa(((r={})[t]="+=0.1",r.paused=!0,r),i||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return sn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Fa(e.ease,wc.ease)),dI(wc,e||{})},config:function(e){return dI(er,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,s=e.defaults,o=e.extendTimeline;(e.plugins||"").split(",").forEach(function(a){return a&&!nr[a]&&!tr[a]&&rm(t+" effect requires "+a+" plugin.")}),vw[t]=function(a,l,c){return i(Cr(a),Ar(l||{},s),c)},o&&(Ui.prototype[t]=function(a,l,c){return this.add(vw[t](a,ms(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){bt[e]=Fa(t)},parseEase:function(e,t){return arguments.length?Fa(e,t):bt},getById:function(e){return sn.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,s,i=new Ui(e);for(i.smoothChildTiming=Ni(e.smoothChildTiming),sn.remove(i),i._dp=0,i._time=i._tTime=sn._time,r=sn._first;r;)s=r._next,(t||!(!r._dur&&r instanceof An&&r.vars.onComplete===r._targets[0]))&&gs(i,r,r._start-r._delay),r=s;return gs(sn,i,0),i},context:function(e,t){return e?new WI(e,t):un},matchMedia:function(e){return new P7(e)},matchMediaRefresh:function(){return Ba.forEach(function(e){var i,r,t=e.conditions;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||Nw()},addEventListener:function(e,t){var i=hm[e]||(hm[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=hm[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:function n(e,t,i){var r=t-e;return oi(e)?EI(e,n(0,e.length),t):ko(i,function(s){return(r+(s-e)%r)%r+e})},wrapYoyo:function n(e,t,i){var r=t-e,s=2*r;return oi(e)?EI(e,n(0,e.length-1),t):ko(i,function(o){return e+((o=(s+(o-e)%s)%s||0)>r?s-o:o)})},distribute:wI,random:SI,snap:xI,normalize:function(e,t,i){return MI(e,t,0,1,i)},getUnit:ai,clamp:function(e,t,i){return ko(i,function(r){return Kd(e,t,r)})},splitColor:CI,toArray:Cr,selector:Ew,mapRange:MI,pipe:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,o){return o(s)},r)}},unitize:function(e,t){return function(i){return e(parseFloat(i))+(t||ai(i))}},interpolate:function n(e,t,i,r){var s=isNaN(e+t)?0:function(h){return(1-h)*e+h*t};if(!s){var l,c,u,d,f,o=Gn(e),a={};if(!0===i&&(r=1)&&(i=null),o)e={p:e},t={p:t};else if(oi(e)&&!oi(t)){for(u=[],f=(d=e.length)-2,c=1;c<d;c++)u.push(n(e[c-1],e[c]));d--,s=function(p){p*=d;var m=Math.min(f,~~p);return u[m](p-m)},i=t}else r||(e=Oa(oi(e)?[]:{},e));if(!u){for(l in t)Cw.call(a,e,l,"get",t[l]);s=function(p){return Lw(p,a)||(o?e.p:e)}}}return ko(i,s)},shuffle:_I},install:iI,effects:vw,ticker:ir,updateRoot:Ui.updateRoot,plugins:nr,globalTimeline:sn,core:{PropTween:Bi,globals:rI,Tween:An,Timeline:Ui,Animation:tf,getCache:La,_removeLinkedListItem:cm,reverting:function(){return si},context:function(e){return e&&un&&(un.data.push(e),e._ctx=un),un},suppressOverwrites:function(e){return ow=e}}};Fi("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return pm[n]=An[n]}),ir.add(Ui.updateRoot),bc=pm.to({},{duration:0});var I7=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Fw=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(Gn(s)&&(l={},Fi(s,function(u){return l[u]=1}),s=l),t){for(c in l={},s)l[c]=t(s[c]);s=l}!function(e,t){var r,s,o,i=e._targets;for(r in t)for(s=i.length;s--;)(o=e._ptLookup[s][r])&&(o=o.d)&&(o._pt&&(o=I7(o,r)),o&&o.modifier&&o.modifier(t[r],e,i[s],r))}(a,s)}}}},ki=pm.registerPlugin({name:"attr",init:function(e,t,i,r,s){var o,a,l;for(o in this.tween=i,t)l=e.getAttribute(o)||"",(a=this.add(e,"setAttribute",(l||0)+"",t[o],r,s,0,0,o)).op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)si?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},Fw("roundProps",Mw),Fw("modifiers"),Fw("snap",xI))||pm;An.version=Ui.version=ki.version="3.12.2",nI=1,cw()&&Ac();var jI,Vo,Tc,Uw,ka,YI,Bw,$I,Zs={},za=180/Math.PI,Cc=Math.PI/180,Dc=Math.atan2,XI=1e8,kw=/([A-Z])/g,N7=/(left|right|width|margin|padding|x)/i,F7=/[\s,\(]\S/,vs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},zw=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},U7=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},B7=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},k7=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},qI=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},QI=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},z7=function(e,t,i){return e.style[t]=i},H7=function(e,t,i){return e.style.setProperty(t,i)},V7=function(e,t,i){return e._gsap[t]=i},G7=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},W7=function(e,t,i,r,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},j7=function(e,t,i,r,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},on="transform",Zr=on+"Origin",Y7=function n(e,t){var i=this,r=this.target,s=r.style;if(e in Zs&&s){if(this.tfm=this.tfm||{},"transform"===e)return vs.transform.split(",").forEach(function(o){return n.call(i,o,t)});if(~(e=vs[e]||e).indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=$s(r,o)}):this.tfm[e]=r._gsap.x?r._gsap[e]:$s(r,e),this.props.indexOf(on)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Zr,t,"")),e=on}(s||t)&&this.props.push(e,t,s[e])},KI=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},X7=function(){var s,o,e=this.props,t=this.target,i=t.style,r=t._gsap;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty("--"===e[s].substr(0,2)?e[s]:e[s].replace(kw,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),(!(s=Bw())||!s.isStart)&&!i[on]&&(KI(i),r.uncache=1)}},ZI=function(e,t){var i={target:e,props:[],revert:X7,save:Y7};return e._gsap||ki.core.getCache(e),t&&t.split(",").forEach(function(r){return i.save(r)}),i},Hw=function(e,t){var i=Vo.createElementNS?Vo.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Vo.createElement(e);return i.style?i:Vo.createElement(e)},ys=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(kw,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,Pc(t)||t,1)||""},JI="O,Moz,ms,Ms,Webkit".split(","),Pc=function(e,t,i){var s=(t||ka).style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(JI[o]+e in s););return o<0?null:(3===o?"ms":o>=0?JI[o]:"")+e},Vw=function(){typeof window<"u"&&window.document&&(jI=window,Tc=(Vo=jI.document).documentElement,ka=Hw("div")||{style:{}},Hw("div"),on=Pc(on),Zr=on+"Origin",ka.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",$I=!!Pc("perspective"),Bw=ki.core.reverting,Uw=1)},Gw=function n(e){var o,t=Hw("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(Tc.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),Tc.removeChild(t),this.style.cssText=s,o},e2=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},t2=function(e){var t;try{t=e.getBBox()}catch{t=Gw.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Gw||(t=Gw.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+e2(e,["x","cx","x1"])||0,y:+e2(e,["y","cy","y1"])||0,width:0,height:0}},n2=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!t2(e))},rf=function(e,t){if(t){var i=e.style;t in Zs&&t!==Zr&&(t=on),i.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),i.removeProperty(t.replace(kw,"-$1").toLowerCase())):i.removeAttribute(t)}},Go=function(e,t,i,r,s,o){var a=new Bi(e._pt,t,i,0,1,o?QI:qI);return e._pt=a,a.b=r,a.e=s,e._props.push(i),a},i2={deg:1,rad:1,turn:1},q7={grid:1,flex:1},Wo=function n(e,t,i,r){var p,m,g,v,s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=ka.style,l=N7.test(t),c="svg"===e.tagName.toLowerCase(),u=(c?"client":"offset")+(l?"Width":"Height"),d=100,f="px"===r,h="%"===r;return r===o||!s||i2[r]||i2[o]?s:("px"!==o&&!f&&(s=n(e,t,i,"px")),v=e.getCTM&&n2(e),!h&&"%"!==o||!Zs[t]&&!~t.indexOf("adius")?(a[l?"width":"height"]=d+(f?o:r),m=~t.indexOf("adius")||"em"===r&&e.appendChild&&!c?e:e.parentNode,v&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Vo||!m.appendChild)&&(m=Vo.body),(g=m._gsap)&&h&&g.width&&l&&g.time===ir.time&&!g.uncache?wn(s/g.width*d):((h||"%"===o)&&!q7[ys(m,"display")]&&(a.position=ys(e,"position")),m===e&&(a.position="static"),m.appendChild(ka),p=ka[u],m.removeChild(ka),a.position="absolute",l&&h&&((g=La(m)).time=ir.time,g.width=m[u]),wn(f?p*s/d:p&&s?d/p*s:0))):(p=v?e.getBBox()[l?"width":"height"]:e[u],wn(h?s/p*d:s/100*p)))},$s=function(e,t,i,r){var s;return Uw||Vw(),t in vs&&"transform"!==t&&~(t=vs[t]).indexOf(",")&&(t=t.split(",")[0]),Zs[t]&&"transform"!==t?(s=af(e,r),s="transformOrigin"!==t?s[t]:s.svg?s.origin:gm(ys(e,Zr))+" "+s.zOrigin+"px"):(!(s=e.style[t])||"auto"===s||r||~(s+"").indexOf("calc("))&&(s=mm[t]&&mm[t](e,t,i)||ys(e,t)||aI(e,t)||("opacity"===t?1:0)),i&&!~(s+"").trim().indexOf(" ")?Wo(e,t,s,i)+i:s},Q7=function(e,t,i,r){if(!i||"none"===i){var s=Pc(t,e,1),o=s&&ys(e,s,1);o&&o!==i?(t=s,i=o):"borderColor"===t&&(i=ys(e,"borderTopColor"))}var u,d,f,h,p,m,g,v,_,y,w,a=new Bi(this._pt,e.style,t,0,1,HI),l=0,c=0;if(a.b=i,a.e=r,i+="","auto"==(r+="")&&(e.style[t]=r,r=ys(e,t)||r,e.style[t]=i),II(u=[i,r]),r=u[1],f=(i=u[0]).match(xc)||[],(r.match(xc)||[]).length){for(;d=xc.exec(r);)g=d[0],_=r.substring(l,d.index),p?p=(p+1)%5:("rgba("===_.substr(-5)||"hsla("===_.substr(-5))&&(p=1),g!==(m=f[c++]||"")&&(h=parseFloat(m)||0,w=m.substr((h+"").length),"="===g.charAt(1)&&(g=Sc(h,g)+w),v=parseFloat(g),y=g.substr((v+"").length),l=xc.lastIndex-y.length,y||(y=y||er.units[t]||w,l===r.length&&(r+=y,a.e+=y)),w!==y&&(h=Wo(e,t,m,y)||0),a._pt={_next:a._pt,p:_||1===c?_:",",s:h,c:v-h,m:p&&p<4||"zIndex"===t?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r="display"===t&&"none"===r?QI:qI;return eI.test(r)&&(a.e=0),this._pt=a,a},r2={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},K7=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(e=i,i=r,r=e),t[0]=r2[i]||i,t[1]=r2[r]||r,t.join(" ")},Z7=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var a,l,c,i=t.t,r=i.style,s=t.u,o=i._gsap;if("all"===s||!0===s)r.cssText="",l=1;else for(c=(s=s.split(",")).length;--c>-1;)Zs[a=s[c]]&&(l=1,a="transformOrigin"===a?Zr:on),rf(i,a);l&&(rf(i,on),o&&(o.svg&&i.removeAttribute("transform"),af(i,1),o.uncache=1,KI(r)))}},mm={clearProps:function(e,t,i,r,s){if("isFromStart"!==s.data){var o=e._pt=new Bi(e._pt,t,i,0,0,Z7);return o.u=r,o.pr=-10,o.tween=s,e._props.push(i),1}}},sf=[1,0,0,1,0,0],s2={},o2=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},a2=function(e){var t=ys(e,on);return o2(t)?sf:t.substr(7).match(JP).map(wn)},Ww=function(e,t){var o,a,l,c,i=e._gsap||La(e),r=e.style,s=a2(e);return i.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(l=e.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?sf:s:(s===sf&&!e.offsetParent&&e!==Tc&&!i.svg&&(l=r.display,r.display="block",(!(o=e.parentNode)||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Tc.appendChild(e)),s=a2(e),l?r.display=l:rf(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Tc.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},jw=function(e,t,i,r,s,o){var E,M,x,a=e._gsap,l=s||Ww(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,f=a.yOffset||0,h=l[0],p=l[1],m=l[2],g=l[3],v=l[4],_=l[5],y=t.split(" "),w=parseFloat(y[0])||0,S=parseFloat(y[1])||0;i?l!==sf&&(M=h*g-p*m)&&(x=w*(-p/M)+S*(h/M)-(h*_-p*v)/M,w=w*(g/M)+S*(-m/M)+(m*_-g*v)/M,S=x):(w=(E=t2(e)).x+(~y[0].indexOf("%")?w/100*E.width:w),S=E.y+(~(y[1]||y[0]).indexOf("%")?S/100*E.height:S)),r||!1!==r&&a.smooth?(a.xOffset=d+((v=w-c)*h+(_=S-u)*m)-v,a.yOffset=f+(v*p+_*g)-_):a.xOffset=a.yOffset=0,a.xOrigin=w,a.yOrigin=S,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!i,e.style[Zr]="0px 0px",o&&(Go(o,a,"xOrigin",c,w),Go(o,a,"yOrigin",u,S),Go(o,a,"xOffset",d,a.xOffset),Go(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",w+" "+S)},af=function(e,t){var i=e._gsap||new NI(e);if("x"in i&&!t&&!i.uncache)return i;var u,d,f,h,p,m,g,v,_,y,w,S,E,M,b,x,A,R,N,C,T,I,O,D,F,B,W,V,Y,$,J,ue,r=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=ys(e,Zr)||"0";return u=d=f=m=g=v=_=y=w=0,h=p=1,i.svg=!(!e.getCTM||!n2(e)),l.translate&&(("none"!==l.translate||"none"!==l.scale||"none"!==l.rotate)&&(r[on]=("none"!==l.translate?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==l.rotate?"rotate("+l.rotate+") ":"")+("none"!==l.scale?"scale("+l.scale.split(" ").join(",")+") ":"")+("none"!==l[on]?l[on]:"")),r.scale=r.rotate=r.translate="none"),M=Ww(e,i.svg),i.svg&&(i.uncache?(F=e.getBBox(),c=i.xOrigin-F.x+"px "+(i.yOrigin-F.y)+"px",D=""):D=!t&&e.getAttribute("data-svg-origin"),jw(e,D||c,!!D||i.originIsAbsolute,!1!==i.smooth,M)),S=i.xOrigin||0,E=i.yOrigin||0,M!==sf&&(R=M[0],N=M[1],C=M[2],T=M[3],u=I=M[4],d=O=M[5],6===M.length?(h=Math.sqrt(R*R+N*N),p=Math.sqrt(T*T+C*C),m=R||N?Dc(N,R)*za:0,(_=C||T?Dc(C,T)*za+m:0)&&(p*=Math.abs(Math.cos(_*Cc))),i.svg&&(u-=S-(S*R+E*C),d-=E-(S*N+E*T))):($=M[7],W=M[8],V=M[9],J=M[11],u=M[12],d=M[13],f=M[14],g=(b=Dc(ue=M[6],Y=M[10]))*za,b&&(D=I*(x=Math.cos(-b))+W*(A=Math.sin(-b)),F=O*x+V*A,B=ue*x+Y*A,W=I*-A+W*x,V=O*-A+V*x,Y=ue*-A+Y*x,J=$*-A+J*x,I=D,O=F,ue=B),v=(b=Dc(-C,Y))*za,b&&(x=Math.cos(-b),J=T*(A=Math.sin(-b))+J*x,R=D=R*x-W*A,N=F=N*x-V*A,C=B=C*x-Y*A),m=(b=Dc(N,R))*za,b&&(D=R*(x=Math.cos(b))+N*(A=Math.sin(b)),F=I*x+O*A,N=N*x-R*A,O=O*x-I*A,R=D,I=F),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,v=180-v),h=wn(Math.sqrt(R*R+N*N+C*C)),p=wn(Math.sqrt(O*O+ue*ue)),b=Dc(I,O),_=Math.abs(b)>2e-4?b*za:0,w=J?1/(J<0?-J:J):0),i.svg&&(D=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!o2(ys(e,on)),D&&e.setAttribute("transform",D))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(h*=-1,_+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,_+=_<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=d-((i.yPercent=d&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=f+o,i.scaleX=wn(h),i.scaleY=wn(p),i.rotation=wn(m)+a,i.rotationX=wn(g)+a,i.rotationY=wn(v)+a,i.skewX=_+a,i.skewY=y+a,i.transformPerspective=w+o,(i.zOrigin=parseFloat(c.split(" ")[2])||0)&&(r[Zr]=gm(c)),i.xOffset=i.yOffset=0,i.force3D=er.force3D,i.renderTransform=i.svg?J7:$I?l2:$7,i.uncache=0,i},gm=function(e){return(e=e.split(" "))[0]+" "+e[1]},Yw=function(e,t,i){var r=ai(t);return wn(parseFloat(t)+parseFloat(Wo(e,"x",i+"px",r)))+r},$7=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,l2(e,t)},Ha="0deg",lf="0px",Va=") ",l2=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,d=i.rotationX,f=i.skewX,h=i.skewY,p=i.scaleX,m=i.scaleY,g=i.transformPerspective,v=i.force3D,_=i.target,y=i.zOrigin,w="",S="auto"===v&&e&&1!==e||!0===v;if(y&&(d!==Ha||u!==Ha)){var x,E=parseFloat(u)*Cc,M=Math.sin(E),b=Math.cos(E);E=parseFloat(d)*Cc,x=Math.cos(E),o=Yw(_,o,M*x*-y),a=Yw(_,a,-Math.sin(E)*-y),l=Yw(_,l,b*x*-y+y)}g!==lf&&(w+="perspective("+g+Va),(r||s)&&(w+="translate("+r+"%, "+s+"%) "),(S||o!==lf||a!==lf||l!==lf)&&(w+=l!==lf||S?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Va),c!==Ha&&(w+="rotate("+c+Va),u!==Ha&&(w+="rotateY("+u+Va),d!==Ha&&(w+="rotateX("+d+Va),(f!==Ha||h!==Ha)&&(w+="skew("+f+", "+h+Va),(1!==p||1!==m)&&(w+="scale("+p+", "+m+Va),_.style[on]=w||"translate(0, 0)"},J7=function(e,t){var S,E,M,b,x,i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,d=i.scaleX,f=i.scaleY,h=i.target,p=i.xOrigin,m=i.yOrigin,g=i.xOffset,v=i.yOffset,_=i.forceCSS,y=parseFloat(o),w=parseFloat(a);l=parseFloat(l),c=parseFloat(c),(u=parseFloat(u))&&(c+=u=parseFloat(u),l+=u),l||c?(l*=Cc,c*=Cc,S=Math.cos(l)*d,E=Math.sin(l)*d,M=Math.sin(l-c)*-f,b=Math.cos(l-c)*f,c&&(u*=Cc,x=Math.tan(c-u),M*=x=Math.sqrt(1+x*x),b*=x,u&&(x=Math.tan(u),S*=x=Math.sqrt(1+x*x),E*=x)),S=wn(S),E=wn(E),M=wn(M),b=wn(b)):(S=d,b=f,E=M=0),(y&&!~(o+"").indexOf("px")||w&&!~(a+"").indexOf("px"))&&(y=Wo(h,"x",o,"px"),w=Wo(h,"y",a,"px")),(p||m||g||v)&&(y=wn(y+p-(p*S+m*M)+g),w=wn(w+m-(p*E+m*b)+v)),(r||s)&&(x=h.getBBox(),y=wn(y+r/100*x.width),w=wn(w+s/100*x.height)),h.setAttribute("transform",x="matrix("+S+","+E+","+M+","+b+","+y+","+w+")"),_&&(h.style[on]=x)},ej=function(e,t,i,r,s){var d,f,o=360,a=Gn(s),c=parseFloat(s)*(a&&~s.indexOf("rad")?za:1)-r,u=r+c+"deg";return a&&("short"===(d=s.split("_")[1])&&(c%=o)!=c%180&&(c+=c<0?o:-o),"cw"===d&&c<0?c=(c+o*XI)%o-~~(c/o)*o:"ccw"===d&&c>0&&(c=(c-o*XI)%o-~~(c/o)*o)),e._pt=f=new Bi(e._pt,t,i,r,c,U7),f.e=u,f.u="deg",e._props.push(i),f},c2=function(e,t){for(var i in t)e[i]=t[i];return e},tj=function(e,t,i){var a,l,c,u,d,f,p,r=c2({},i._gsap),o=i.style;for(l in r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[on]=t,a=af(i,1),rf(i,on),i.setAttribute("transform",c)):(c=getComputedStyle(i)[on],o[on]=t,a=af(i,1),o[on]=c),Zs)(c=r[l])!==(u=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(d=ai(c)!==(p=ai(u))?Wo(i,l,c,p):parseFloat(c),f=parseFloat(u),e._pt=new Bi(e._pt,a,l,d,f-d,zw),e._pt.u=p||0,e._props.push(l));c2(a,r)};Fi("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",o=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(a){return e<2?n+a:"border"+a+n});mm[e>1?"border"+n:n]=function(a,l,c,u,d){var f,h;if(arguments.length<4)return f=o.map(function(p){return $s(a,p,c)}),5===(h=f.join(" ")).split(f[0]).length?f[0]:h;f=(u+"").split(" "),h={},o.forEach(function(p,m){return h[p]=f[m]=f[m]||f[(m-1)/2|0]}),a.init(l,h,d)}});var u2={name:"css",register:Vw,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var c,u,d,f,h,p,m,g,v,_,y,w,S,E,M,b,o=this._props,a=e.style,l=i.vars.startAt;for(m in Uw||Vw(),this.styles=this.styles||ZI(e),b=this.styles.props,this.tween=i,t)if("autoRound"!==m&&(u=t[m],!nr[m]||!FI(m,t,i,r,e,s)))if(p=mm[m],"function"==(h=typeof u)&&(h=typeof(u=u.call(i,r,e,s))),"string"===h&&~u.indexOf("random(")&&(u=Zd(u)),p)p(this,e,m,u,i)&&(M=1);else if("--"===m.substr(0,2))c=(getComputedStyle(e).getPropertyValue(m)+"").trim(),u+="",zo.lastIndex=0,zo.test(c)||(g=ai(c),v=ai(u)),v?g!==v&&(c=Wo(e,m,c,v)+v):g&&(u+=g),this.add(a,"setProperty",c,u,r,s,0,0,m),o.push(m),b.push(m,0,a[m]);else if("undefined"!==h){if(l&&m in l?(c="function"==typeof l[m]?l[m].call(i,r,e,s):l[m],Gn(c)&&~c.indexOf("random(")&&(c=Zd(c)),ai(c+"")||(c+=er.units[m]||ai($s(e,m))||""),"="===(c+"").charAt(1)&&(c=$s(e,m))):c=$s(e,m),f=parseFloat(c),(_="string"===h&&"="===u.charAt(1)&&u.substr(0,2))&&(u=u.substr(2)),d=parseFloat(u),m in vs&&("autoAlpha"===m&&(1===f&&"hidden"===$s(e,"visibility")&&d&&(f=0),b.push("visibility",0,a.visibility),Go(this,a,"visibility",f?"inherit":"hidden",d?"inherit":"hidden",!d)),"scale"!==m&&"transform"!==m&&~(m=vs[m]).indexOf(",")&&(m=m.split(",")[0])),y=m in Zs)if(this.styles.save(m),w||((S=e._gsap).renderTransform&&!t.parseTransform||af(e,t.parseTransform),E=!1!==t.smoothOrigin&&S.smooth,(w=this._pt=new Bi(this._pt,a,on,0,1,S.renderTransform,S,0,-1)).dep=1),"scale"===m)this._pt=new Bi(this._pt,S,"scaleY",S.scaleY,(_?Sc(S.scaleY,_+d):d)-S.scaleY||0,zw),this._pt.u=0,o.push("scaleY",m),m+="X";else{if("transformOrigin"===m){b.push(Zr,0,a[Zr]),u=K7(u),S.svg?jw(e,u,0,E,0,this):((v=parseFloat(u.split(" ")[2])||0)!==S.zOrigin&&Go(this,S,"zOrigin",S.zOrigin,v),Go(this,a,m,gm(c),gm(u)));continue}if("svgOrigin"===m){jw(e,u,1,E,0,this);continue}if(m in s2){ej(this,S,m,f,_?Sc(f,_+u):u);continue}if("smoothOrigin"===m){Go(this,S,"smooth",S.smooth,u);continue}if("force3D"===m){S[m]=u;continue}if("transform"===m){tj(this,u,e);continue}}else m in a||(m=Pc(m)||m);if(y||(d||0===d)&&(f||0===f)&&!F7.test(u)&&m in a)d||(d=0),(g=(c+"").substr((f+"").length))!==(v=ai(u)||(m in er.units?er.units[m]:g))&&(f=Wo(e,m,c,v)),this._pt=new Bi(this._pt,y?S:a,m,f,(_?Sc(f,_+d):d)-f,y||"px"!==v&&"zIndex"!==m||!1===t.autoRound?zw:k7),this._pt.u=v||0,g!==v&&"%"!==v&&(this._pt.b=c,this._pt.r=B7);else if(m in a)Q7.call(this,e,m,c,_?_+u:u);else if(m in e)this.add(e,m,c||e[m],_?_+u:u,r,s);else if("parseTransform"!==m){pw(m,u);continue}y||(m in a?b.push(m,0,a[m]):b.push(m,1,c||e[m])),o.push(m)}M&&VI(this)},render:function(e,t){if(t.tween._time||!Bw())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:$s,aliases:vs,getSetter:function(e,t,i){var r=vs[t];return r&&r.indexOf(",")<0&&(t=r),t in Zs&&t!==Zr&&(e._gsap.x||$s(e,"x"))?i&&YI===i?"scale"===t?G7:V7:(YI=i||{})&&("scale"===t?W7:j7):e.style&&!lw(e.style[t])?z7:~t.indexOf("-")?H7:Rw(e,t)},core:{_removeProperty:rf,_getMatrix:Ww}};ki.utils.checkPrefix=Pc,ki.core.getStyleSaver=ZI,function(n,e,t,i){var r=Fi(n+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){Zs[s]=1});Fi(e,function(s){er.units[s]="deg",s2[s]=1}),vs[r[13]]=n+","+e,Fi("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var o=s.split(":");vs[o[1]]=r[o[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Fi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){er.units[n]="px"}),ki.registerPlugin(u2);var d2=ki.registerPlugin(u2)||ki;function f2(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function Xw(n,e){void 0===n&&(n={}),void 0===e&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:f2(e[t])&&f2(n[t])&&Object.keys(e[t]).length>0&&Xw(n[t],e[t])})}const h2={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function li(){const n=typeof document<"u"?document:{};return Xw(n,h2),n}const nj={document:h2,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:n=>typeof setTimeout>"u"?(n(),null):setTimeout(n,0),cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function fn(){const n=typeof window<"u"?window:{};return Xw(n,nj),n}function Ga(n,e){return void 0===e&&(e=0),setTimeout(n,e)}function Pr(){return Date.now()}function qw(n,e){void 0===e&&(e="x");const t=fn();let i,r,s;const o=function rj(n){const e=fn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}(n);return t.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix("none"===r?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===e&&(r=t.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(r=t.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function cf(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function sj(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function rr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(null!=i&&!sj(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);void 0!==l&&l.enumerable&&(cf(n[a])&&cf(i[a])?i[a].__swiper__?n[a]=i[a]:rr(n[a],i[a]):!cf(n[a])&&cf(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:rr(n[a],i[a])):n[a]=i[a])}}}return n}function uf(n,e,t){n.style.setProperty(e,t)}function p2(n){let{swiper:e,targetPosition:t,side:i}=n;const r=fn(),s=-e.translate;let a,o=null;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=t>s?"next":"prev",u=(f,h)=>"next"===c&&f>=h||"prev"===c&&f<=h,d=()=>{a=(new Date).getTime(),null===o&&(o=a);const f=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=s+h*(t-s);if(u(p,t)&&(p=t),e.wrapperEl.scrollTo({[i]:p}),u(p,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:p})}),void r.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function Wa(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function ci(n,e){return void 0===e&&(e=""),[...n.children].filter(t=>t.matches(e))}function $r(n,e){void 0===e&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:[e]),t}function vm(n){const e=fn(),t=li(),i=n.getBoundingClientRect(),r=t.body;return{top:i.top+(n===e?e.scrollY:n.scrollTop)-(n.clientTop||r.clientTop||0),left:i.left+(n===e?e.scrollX:n.scrollLeft)-(n.clientLeft||r.clientLeft||0)}}function jo(n,e){return fn().getComputedStyle(n,null).getPropertyValue(e)}function df(n){let t,e=n;if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}}function ja(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function ff(n,e){e&&n.addEventListener("transitionend",function t(i){i.target===n&&(e.call(n,i),n.removeEventListener("transitionend",t))})}function Qw(n,e,t){const i=fn();return t?n["width"===e?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue("width"===e?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue("width"===e?"margin-left":"margin-bottom")):n.offsetWidth}let Kw,Zw,$w;function m2(){return Kw||(Kw=function lj(){const n=fn(),e=li();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}()),Kw}var mj={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;const r=t?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||"function"!=typeof n)return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return"string"==typeof s[0]||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),i=n):(e=s[0].events,t=s[0].data,i=s[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(i,t)})}),n}};const ym=(n,e)=>{if(!n||n.destroyed||!n.params)return;const i=e.closest(n.isElement?"swiper-slide":`.${n.params.slideClass}`);if(i){const r=i.querySelector(`.${n.params.lazyPreloaderClass}`);r&&r.remove()}},Jw=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},ex=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=r,a=[o-e];return a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),void n.slides.forEach((l,c)=>{a.includes(l.column)&&Jw(n,c)})}const s=r+i-1;if(n.params.rewind||n.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%t+t)%t;(a<r||a>s)&&Jw(n,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,t-1);o+=1)o!==r&&(o>s||o<r)&&Jw(n,o)};var Aj={updateSize:function gj(){const n=this;let e,t;const i=n.el;e=typeof n.params.width<"u"&&null!==n.params.width?n.params.width:i.clientWidth,t=typeof n.params.height<"u"&&null!==n.params.height?n.params.height:i.clientHeight,!(0===e&&n.isHorizontal()||0===t&&n.isVertical())&&(e=e-parseInt(jo(i,"padding-left")||0,10)-parseInt(jo(i,"padding-right")||0,10),t=t-parseInt(jo(i,"padding-top")||0,10)-parseInt(jo(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function vj(){const n=this;function e(R){return n.isHorizontal()?R:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[R]}function t(R,N){return parseFloat(R.getPropertyValue(e(N))||0)}const i=n.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:a,wrongRTL:l}=n,c=n.virtual&&i.virtual.enabled,u=c?n.virtual.slides.length:n.slides.length,d=ci(s,`.${n.params.slideClass}, swiper-slide`),f=c?n.virtual.slides.length:d.length;let h=[];const p=[],m=[];let g=i.slidesOffsetBefore;"function"==typeof g&&(g=i.slidesOffsetBefore.call(n));let v=i.slidesOffsetAfter;"function"==typeof v&&(v=i.slidesOffsetAfter.call(n));const _=n.snapGrid.length,y=n.slidesGrid.length;let w=i.spaceBetween,S=-g,E=0,M=0;if(typeof o>"u")return;"string"==typeof w&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*o:"string"==typeof w&&(w=parseFloat(w)),n.virtualSize=-w,d.forEach(R=>{a?R.style.marginLeft="":R.style.marginRight="",R.style.marginBottom="",R.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(uf(r,"--swiper-centered-offset-before",""),uf(r,"--swiper-centered-offset-after",""));const b=i.grid&&i.grid.rows>1&&n.grid;let x;b&&n.grid.initSlides(f);const A="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter(R=>typeof i.breakpoints[R].slidesPerView<"u").length>0;for(let R=0;R<f;R+=1){let N;if(x=0,d[R]&&(N=d[R]),b&&n.grid.updateSlide(R,N,f,e),!d[R]||"none"!==jo(N,"display")){if("auto"===i.slidesPerView){A&&(d[R].style[e("width")]="");const C=getComputedStyle(N),T=N.style.transform,I=N.style.webkitTransform;if(T&&(N.style.transform="none"),I&&(N.style.webkitTransform="none"),i.roundLengths)x=n.isHorizontal()?Qw(N,"width",!0):Qw(N,"height",!0);else{const O=t(C,"width"),D=t(C,"padding-left"),F=t(C,"padding-right"),B=t(C,"margin-left"),W=t(C,"margin-right"),V=C.getPropertyValue("box-sizing");if(V&&"border-box"===V)x=O+B+W;else{const{clientWidth:Y,offsetWidth:$}=N;x=O+D+F+B+W+($-Y)}}T&&(N.style.transform=T),I&&(N.style.webkitTransform=I),i.roundLengths&&(x=Math.floor(x))}else x=(o-(i.slidesPerView-1)*w)/i.slidesPerView,i.roundLengths&&(x=Math.floor(x)),d[R]&&(d[R].style[e("width")]=`${x}px`);d[R]&&(d[R].swiperSlideSize=x),m.push(x),i.centeredSlides?(S=S+x/2+E/2+w,0===E&&0!==R&&(S=S-o/2-w),0===R&&(S=S-o/2-w),Math.abs(S)<.001&&(S=0),i.roundLengths&&(S=Math.floor(S)),M%i.slidesPerGroup==0&&h.push(S),p.push(S)):(i.roundLengths&&(S=Math.floor(S)),(M-Math.min(n.params.slidesPerGroupSkip,M))%n.params.slidesPerGroup==0&&h.push(S),p.push(S),S=S+x+w),n.virtualSize+=x+w,E=x,M+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+v,a&&l&&("slide"===i.effect||"coverflow"===i.effect)&&(r.style.width=`${n.virtualSize+w}px`),i.setWrapperSize&&(r.style[e("width")]=`${n.virtualSize+w}px`),b&&n.grid.updateWrapperSize(x,h,e),!i.centeredSlides){const R=[];for(let N=0;N<h.length;N+=1){let C=h[N];i.roundLengths&&(C=Math.floor(C)),h[N]<=n.virtualSize-o&&R.push(C)}h=R,Math.floor(n.virtualSize-o)-Math.floor(h[h.length-1])>1&&h.push(n.virtualSize-o)}if(c&&i.loop){const R=m[0]+w;if(i.slidesPerGroup>1){const N=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/i.slidesPerGroup),C=R*i.slidesPerGroup;for(let T=0;T<N;T+=1)h.push(h[h.length-1]+C)}for(let N=0;N<n.virtual.slidesBefore+n.virtual.slidesAfter;N+=1)1===i.slidesPerGroup&&h.push(h[h.length-1]+R),p.push(p[p.length-1]+R),n.virtualSize+=R}if(0===h.length&&(h=[0]),0!==w){const R=n.isHorizontal()&&a?"marginLeft":e("marginRight");d.filter((N,C)=>!(i.cssMode&&!i.loop)||C!==d.length-1).forEach(N=>{N.style[R]=`${w}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let R=0;m.forEach(C=>{R+=C+(w||0)}),R-=w;const N=R-o;h=h.map(C=>C<=0?-g:C>N?N+v:C)}if(i.centerInsufficientSlides){let R=0;if(m.forEach(N=>{R+=N+(w||0)}),R-=w,R<o){const N=(o-R)/2;h.forEach((C,T)=>{h[T]=C-N}),p.forEach((C,T)=>{p[T]=C+N})}}if(Object.assign(n,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:m}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){uf(r,"--swiper-centered-offset-before",-h[0]+"px"),uf(r,"--swiper-centered-offset-after",n.size/2-m[m.length-1]/2+"px");const R=-n.snapGrid[0],N=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(C=>C+R),n.slidesGrid=n.slidesGrid.map(C=>C+N)}if(f!==u&&n.emit("slidesLengthChange"),h.length!==_&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),p.length!==y&&n.emit("slidesGridLengthChange"),i.watchSlidesProgress&&n.updateSlidesOffset(),!(c||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const R=`${i.containerModifierClass}backface-hidden`,N=n.el.classList.contains(R);f<=i.maxBackfaceHiddenSlides?N||n.el.classList.add(R):N&&n.el.classList.remove(R)}},updateAutoHeight:function yj(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s,r=0;"number"==typeof n?e.setTransition(n):!0===n&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!i)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const a=t[s].offsetHeight;r=a>r?a:r}(r||0===r)&&(e.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function _j(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()},updateSlidesProgress:function wj(n){void 0===n&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(0===i.length)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-n;r&&(o=n),i.forEach(l=>{l.classList.remove(t.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;"string"==typeof a&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:"string"==typeof a&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=-(o-u),p=h+e.slidesSizesGrid[l];(h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),i[l].classList.add(t.slideVisibleClass)),c.progress=r?-d:d,c.originalProgress=r?-f:f}},updateProgress:function xj(n){const e=this;typeof n>"u"&&(n=e&&e.translate&&e.translate*(e.rtlTranslate?-1:1)||0);const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(0===i)r=0,s=!0,o=!0;else{r=(n-e.minTranslate())/i;const u=Math.abs(n-e.minTranslate())<1,d=Math.abs(n-e.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(t.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(n);a=m>=f?(m-f)/p:(m+p-h)/p,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)},updateSlidesClasses:function Sj(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:r}=n,s=n.virtual&&t.virtual.enabled,o=l=>ci(i,`.${t.slideClass}${l}, swiper-slide${l}`)[0];let a;if(e.forEach(l=>{l.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)}),s)if(t.loop){let l=r-n.virtual.slidesBefore;l<0&&(l=n.virtual.slides.length+l),l>=n.virtual.slides.length&&(l-=n.virtual.slides.length),a=o(`[data-swiper-slide-index="${l}"]`)}else a=o(`[data-swiper-slide-index="${r}"]`);else a=e[r];if(a){a.classList.add(t.slideActiveClass);let l=function aj(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}(a,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!l&&(l=e[0]),l&&l.classList.add(t.slideNextClass);let c=function oj(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}(a,`.${t.slideClass}, swiper-slide`)[0];t.loop&&0===!c&&(c=e[e.length-1]),c&&c.classList.add(t.slidePrevClass)}n.emitSlidesClasses()},updateActiveIndex:function Mj(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let c,l=n;const u=f=>{let h=f-e.virtual.slidesBefore;return h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),h};if(typeof l>"u"&&(l=function Ej(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return t.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}(e)),i.indexOf(t)>=0)c=i.indexOf(t);else{const f=Math.min(r.slidesPerGroupSkip,l);c=f+Math.floor((l-f)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s)return c!==a&&(e.snapIndex=c,e.emit("snapIndexChange")),void(e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=u(l)));let d;d=e.virtual&&r.virtual.enabled&&r.loop?u(l):e.slides[l]?parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):l,Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:d,previousIndex:s,activeIndex:l}),e.initialized&&ex(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),o!==d&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")},updateClickedSlide:function bj(n){const e=this,t=e.params,i=n.closest(`.${t.slideClass}, swiper-slide`);let s,r=!1;if(i)for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===i){r=!0,s=o;break}if(!i||!r)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=i,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(i.getAttribute("data-swiper-slide-index"),10):s,t.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},Rj={getTranslate:function Tj(n){void 0===n&&(n=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:i,translate:r,wrapperEl:s}=this;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let o=qw(s,n);return o+=this.cssOverflowAdjustment(),i&&(o=-o),o||0},setTranslate:function Cj(n,e){const t=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=t;let u,a=0,l=0;t.isHorizontal()?a=i?-n:n:l=n,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:l,r.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-l:r.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, 0px)`);const d=t.maxTranslate()-t.minTranslate();u=0===d?0:(n-t.minTranslate())/d,u!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)},minTranslate:function Dj(){return-this.snapGrid[0]},maxTranslate:function Pj(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function Ij(n,e,t,i,r){void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(u=i&&n>l?l:i&&n<c?c:n,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(0===e)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return p2({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===e?(s.setTransition(0),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(f){!s||s.destroyed||f.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}};function g2(n){let{swiper:e,runCallbacks:t,direction:i,step:r}=n;const{activeIndex:s,previousIndex:o}=e;let a=i;if(a||(a=s>o?"next":s<o?"prev":"reset"),e.emit(`transition${r}`),t&&s!==o){if("reset"===a)return void e.emit(`slideResetTransition${r}`);e.emit(`slideChangeTransition${r}`),e.emit("next"===a?`slideNextTransition${r}`:`slidePrevTransition${r}`)}}var Fj={setTransition:function Lj(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`),t.emit("setTransition",n,e)},transitionStart:function Oj(n,e){void 0===n&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),g2({swiper:t,runCallbacks:n,direction:e,step:"Start"}))},transitionEnd:function Nj(n,e){void 0===n&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),g2({swiper:t,runCallbacks:n,direction:e,step:"End"}))}},Wj={slideTo:function Uj(n,e,t,i,r){void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),"string"==typeof n&&(n=parseInt(n,10));const s=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=s;if(s.animating&&a.preventInteractionOnTransition||!p&&!i&&!r)return!1;const m=Math.min(s.params.slidesPerGroupSkip,o);let g=m+Math.floor((o-m)/s.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const v=-l[g];if(a.normalizeSlideIndex)for(let y=0;y<c.length;y+=1){const w=-Math.floor(100*v),S=Math.floor(100*c[y]),E=Math.floor(100*c[y+1]);typeof c[y+1]<"u"?w>=S&&w<E-(E-S)/2?o=y:w>=S&&w<E&&(o=y+1):w>=S&&(o=y)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(f?v>s.translate&&v>s.minTranslate():v<s.translate&&v<s.minTranslate())||!s.allowSlidePrev&&v>s.translate&&v>s.maxTranslate()&&(d||0)!==o))return!1;let _;if(o!==(u||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(v),_=o>d?"next":o<d?"prev":"reset",f&&-v===s.translate||!f&&v===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==a.effect&&s.setTranslate(v),"reset"!==_&&(s.transitionStart(t,_),s.transitionEnd(t,_)),!1;if(a.cssMode){const y=s.isHorizontal(),w=f?v:-v;if(0===e){const S=s.virtual&&s.params.virtual.enabled;S&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),S&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[y?"scrollLeft":"scrollTop"]=w})):h[y?"scrollLeft":"scrollTop"]=w,S&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return p2({swiper:s,targetPosition:w,side:y?"left":"top"}),!0;h.scrollTo({[y?"left":"top"]:w,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(v),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,_),0===e?s.transitionEnd(t,_):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(w){!s||s.destroyed||w.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,_))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function Bj(n,e,t,i){void 0===n&&(n=0),void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),"string"==typeof n&&(n=parseInt(n,10));const r=this;let s=n;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?s+=r.virtual.slidesBefore:s=r.getSlideIndexByData(s)),r.slideTo(s,e,t,i)},slideNext:function kj(n,e,t){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r)return i;let a=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a;if(s.loop){if(o&&(!i.virtual||!s.virtual.enabled)&&s.loopPreventsSliding)return!1;i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft}return i.slideTo(s.rewind&&i.isEnd?0:i.activeIndex+l,n,e,t)},slidePrev:function zj(n,e,t){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l)return i;if(r.loop){if(c&&(!i.virtual||!r.virtual.enabled)&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function f(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const h=f(a?i.translate:-i.translate),p=s.map(v=>f(v));let m=s[p.indexOf(h)-1];if(typeof m>"u"&&r.cssMode){let v;s.forEach((_,y)=>{h>=_&&(v=y)}),typeof v<"u"&&(m=s[v>0?v-1:v])}let g=0;return typeof m<"u"&&(g=o.indexOf(m),g<0&&(g=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(g=g-i.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.slideTo(r.rewind&&i.isBeginning?i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:g,n,e,t)},slideReset:function Hj(n,e,t){return void 0===n&&(n=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,n,e,t)},slideToClosest:function Vj(n,e,t,i){void 0===n&&(n=this.params.speed),void 0===e&&(e=!0),void 0===i&&(i=.5);const r=this;let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a];l-c>(r.snapGrid[a+1]-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1];l-c<=(r.snapGrid[a]-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)},slideToClickedSlide:function Gj(){const n=this,{params:e,slidesEl:t}=n,i="auto"===e.slidesPerView?n.slidesPerViewDynamic():e.slidesPerView;let s,r=n.clickedIndex;const o=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(ci(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),Ga(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(ci(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),Ga(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}},qj={loopCreate:function jj(n){const e=this,{params:t,slidesEl:i}=e;!t.loop||e.virtual&&e.params.virtual.enabled||(ci(i,`.${t.slideClass}, swiper-slide`).forEach((s,o)=>{s.setAttribute("data-swiper-slide-index",o)}),e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"}))},loopFix:function Yj(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:o,byMousewheel:a}=void 0===n?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled)return t&&(h.centeredSlides||0!==l.snapIndex?h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,void l.emit("loopFix");const p="auto"===h.slidesPerView?l.slidesPerViewDynamic():Math.ceil(parseFloat(h.slidesPerView,10));let m=h.loopedSlides||p;m%h.slidesPerGroup!=0&&(m+=h.slidesPerGroup-m%h.slidesPerGroup),l.loopedSlides=m;const g=[],v=[];let _=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(l.slides.filter(M=>M.classList.contains(h.slideActiveClass))[0]):_=s;const y="next"===i||!i,w="prev"===i||!i;let S=0,E=0;if(s<m){S=Math.max(m-s,h.slidesPerGroup);for(let M=0;M<m-s;M+=1){const b=M-Math.floor(M/c.length)*c.length;g.push(c.length-b-1)}}else if(s>l.slides.length-2*m){E=Math.max(s-(l.slides.length-2*m),h.slidesPerGroup);for(let M=0;M<E;M+=1){const b=M-Math.floor(M/c.length)*c.length;v.push(b)}}if(w&&g.forEach(M=>{l.slides[M].swiperLoopMoveDOM=!0,f.prepend(l.slides[M]),l.slides[M].swiperLoopMoveDOM=!1}),y&&v.forEach(M=>{l.slides[M].swiperLoopMoveDOM=!0,f.append(l.slides[M]),l.slides[M].swiperLoopMoveDOM=!1}),l.recalcSlides(),"auto"===h.slidesPerView&&l.updateSlides(),h.watchSlidesProgress&&l.updateSlidesOffset(),t)if(g.length>0&&w)if(typeof e>"u"){const x=l.slidesGrid[_+S]-l.slidesGrid[_];a?l.setTranslate(l.translate-x):(l.slideTo(_+S,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=x,l.touchEventsData.currentTranslate=l.translate))}else r&&(l.slideToLoop(e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(v.length>0&&y)if(typeof e>"u"){const x=l.slidesGrid[_-E]-l.slidesGrid[_];a?l.setTranslate(l.translate-x):(l.slideTo(_-E,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=x,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(e,0,!1,!0);if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const M={slideRealIndex:e,slideTo:!1,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(b=>{!b.destroyed&&b.params.loop&&b.loopFix(M)}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix(M)}l.emit("loopFix")},loopDestroy:function Xj(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?1*r.getAttribute("data-swiper-slide-index"):r.swiperSlideIndex;i[s]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{t.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}},Zj={setGrabCursor:function Qj(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})},unsetGrabCursor:function Kj(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n["container"===n.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}};function Jj(n){const e=this,t=li(),i=fn(),r=e.touchEventsData;r.evCache.push(n);const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&"mouse"===n.pointerType||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=n;l.originalEvent&&(l=l.originalEvent);let c=l.target;if("wrapper"===s.touchEventsTarget&&!e.wrapperEl.contains(c)||"which"in l&&3===l.which||"button"in l&&l.button>0||r.isTouched&&r.isMoved)return;const u=!!s.noSwipingClass&&""!==s.noSwipingClass,d=n.composedPath?n.composedPath():n.path;u&&l.target&&l.target.shadowRoot&&d&&(c=d[0]);const f=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`;if(s.noSwiping&&(l.target&&l.target.shadowRoot?function $j(n,e){return void 0===e&&(e=this),function t(i){if(!i||i===li()||i===fn())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return r||i.getRootNode?r||t(i.getRootNode().host):null}(e)}(f,c):c.closest(f)))return void(e.allowClick=!0);if(s.swipeHandler&&!c.closest(s.swipeHandler))return;o.currentX=l.pageX,o.currentY=l.pageY;const p=o.currentX,m=o.currentY,g=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,v=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(g&&(p<=v||p>=i.innerWidth-v)){if("prevent"!==g)return;n.preventDefault()}Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=m,r.touchStartTime=Pr(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let _=!0;c.matches(r.focusableElements)&&(_=!1,"SELECT"===c.nodeName&&(r.isTouched=!1)),t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==c&&t.activeElement.blur(),(s.touchStartForcePreventDefault||_&&e.allowTouchMove&&s.touchStartPreventDefault)&&!c.isContentEditable&&l.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function eY(n){const e=li(),t=this,i=t.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=t;if(!a||!r.simulateTouch&&"mouse"===n.pointerType)return;let l=n;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l));const c=i.evCache.findIndex(E=>E.pointerId===l.pointerId);c>=0&&(i.evCache[c]=l);const u=i.evCache.length>1?i.evCache[0]:l,d=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper)return s.startX=d,void(s.startY=f);if(!t.allowTouchMove)return l.target.matches(i.focusableElements)||(t.allowClick=!1),void(i.isTouched&&(Object.assign(s,{startX:d,startY:f,prevX:t.touches.currentX,prevY:t.touches.currentY,currentX:d,currentY:f}),i.touchStartTime=Pr()));if(r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(f<s.startY&&t.translate<=t.maxTranslate()||f>s.startY&&t.translate>=t.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(d<s.startX&&t.translate<=t.maxTranslate()||d>s.startX&&t.translate>=t.minTranslate())return;if(e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements))return i.isMoved=!0,void(t.allowClick=!1);if(i.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=d,s.currentY=f;const h=s.currentX-s.startX,p=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(h**2+p**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let E;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:h*h+p*p>=25&&(E=180*Math.atan2(Math.abs(p),Math.abs(h))/Math.PI,i.isScrolling=t.isHorizontal()?E>r.touchAngle:90-E>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||t.zoom&&t.params.zoom&&t.params.zoom.enabled&&i.evCache.length>1)return void(i.isTouched=!1);if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let m=t.isHorizontal()?h:p,g=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(m=Math.abs(m)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),s.diff=m,m*=r.touchRatio,o&&(m=-m,g=-g);const v=t.touchesDirection;t.swipeDirection=m>0?"prev":"next",t.touchesDirection=g>0?"prev":"next";const _=t.params.loop&&!r.cssMode;if(!i.isMoved){if(_&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(E)}i.allowMomentumBounce=!1,r.grabCursor&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let y;i.isMoved&&v!==t.touchesDirection&&_&&Math.abs(m)>=1&&(t.loopFix({direction:t.swipeDirection,setTranslate:!0}),y=!0),t.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=m+i.startTranslate;let w=!0,S=r.resistanceRatio;if(r.touchReleaseOnEdges&&(S=0),m>0?(_&&!y&&i.currentTranslate>(r.centeredSlides?t.minTranslate()-t.size/2:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(w=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+m)**S))):m<0&&(_&&!y&&i.currentTranslate<(r.centeredSlides?t.maxTranslate()+t.size/2:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-("auto"===r.slidesPerView?t.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(w=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-m)**S))),w&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(m)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function tY(n){const e=this,t=e.touchEventsData,i=t.evCache.findIndex(y=>y.pointerId===n.pointerId);if(i>=0&&t.evCache.splice(i,1),["pointercancel","pointerout","pointerleave"].includes(n.type)&&("pointercancel"!==n.type||!e.browser.isSafari&&!e.browser.isWebView))return;const{params:r,touches:s,rtlTranslate:o,slidesGrid:a,enabled:l}=e;if(!l||!r.simulateTouch&&"mouse"===n.pointerType)return;let c=n;if(c.originalEvent&&(c=c.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",c),t.allowTouchCallbacks=!1,!t.isTouched)return t.isMoved&&r.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,void(t.startMoving=!1);r.grabCursor&&t.isMoved&&t.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const u=Pr(),d=u-t.touchStartTime;if(e.allowClick){const y=c.path||c.composedPath&&c.composedPath();e.updateClickedSlide(y&&y[0]||c.target),e.emit("tap click",c),d<300&&u-t.lastClickTime<300&&e.emit("doubleTap doubleClick",c)}if(t.lastClickTime=Pr(),Ga(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||0===s.diff||t.currentTranslate===t.startTranslate)return t.isTouched=!1,t.isMoved=!1,void(t.startMoving=!1);let f;if(t.isTouched=!1,t.isMoved=!1,t.startMoving=!1,f=r.followFinger?o?e.translate:-e.translate:-t.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:f});let h=0,p=e.slidesSizesGrid[0];for(let y=0;y<a.length;y+=y<r.slidesPerGroupSkip?1:r.slidesPerGroup){const w=y<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof a[y+w]<"u"?f>=a[y]&&f<a[y+w]&&(h=y,p=a[y+w]-a[y]):f>=a[y]&&(h=y,p=a[a.length-1]-a[a.length-2])}let m=null,g=null;r.rewind&&(e.isBeginning?g=r.virtual&&r.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const v=(f-a[h])/p,_=h<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(v>=r.longSwipesRatio?r.rewind&&e.isEnd?m:h+_:h),"prev"===e.swipeDirection&&(v>1-r.longSwipesRatio?e.slideTo(h+_):null!==g&&v<0&&Math.abs(v)>r.longSwipesRatio?e.slideTo(g):e.slideTo(h))}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||c.target!==e.navigation.nextEl&&c.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==m?m:h+_),"prev"===e.swipeDirection&&e.slideTo(null!==g?g:h)):e.slideTo(c.target===e.navigation.nextEl?h+_:h)}}function v2(){const n=this,{params:e,el:t}=n;if(t&&0===t.offsetWidth)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),!("auto"===e.slidesPerView||e.slidesPerView>1)||!n.isEnd||n.isBeginning||n.params.centeredSlides||o&&e.loop?n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0):n.slideTo(n.slides.length-1,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function nY(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function iY(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;let r;n.previousTranslate=n.translate,n.translate=n.isHorizontal()?-e.scrollLeft:-e.scrollTop,0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();const s=n.maxTranslate()-n.minTranslate();r=0===s?0:(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function rY(n){const e=this;ym(e,n.target),!e.params.cssMode&&("auto"===e.params.slidesPerView||e.params.autoHeight)&&e.update()}let y2=!1;function sY(){}const _2=(n,e)=>{const t=li(),{params:i,el:r,wrapperEl:s,device:o}=n,a=!!i.nested,l="on"===e?"addEventListener":"removeEventListener",c=e;r[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",n.onClick,!0),i.cssMode&&s[l]("scroll",n.onScroll),n[c](i.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",v2,!0),r[l]("load",n.onLoad,{capture:!0})};var lY={attachEvents:function oY(){const n=this,e=li(),{params:t}=n;n.onTouchStart=Jj.bind(n),n.onTouchMove=eY.bind(n),n.onTouchEnd=tY.bind(n),t.cssMode&&(n.onScroll=iY.bind(n)),n.onClick=nY.bind(n),n.onLoad=rY.bind(n),y2||(e.addEventListener("touchstart",sY),y2=!0),_2(n,"on")},detachEvents:function aY(){_2(this,"off")}};const w2=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;var dY={setBreakpoint:function cY(){const n=this,{realIndex:e,initialized:t,params:i,el:r}=n,s=i.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const o=n.getBreakpoint(s,n.params.breakpointsBase,n.el);if(!o||n.currentBreakpoint===o)return;const l=(o in s?s[o]:void 0)||n.originalParams,c=w2(n,i),u=w2(n,l),d=i.enabled;c&&!u?(r.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&u&&(r.classList.add(`${i.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===i.grid.fill)&&r.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(m=>{if(typeof l[m]>"u")return;const g=i[m]&&i[m].enabled,v=l[m]&&l[m].enabled;g&&!v&&n[m].disable(),!g&&v&&n[m].enable()});const f=l.direction&&l.direction!==i.direction,h=i.loop&&(l.slidesPerView!==i.slidesPerView||f);f&&t&&n.changeDirection(),rr(n.params,l);const p=n.params.enabled;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),d&&!p?n.disable():!d&&p&&n.enable(),n.currentBreakpoint=o,n.emit("_beforeBreakpoint",l),h&&t&&(n.loopDestroy(),n.loopCreate(e),n.updateSlides()),n.emit("breakpoint",l)},getBreakpoint:function uY(n,e,t){if(void 0===e&&(e="window"),!n||"container"===e&&!t)return;let i=!1;const r=fn(),s="window"===e?r.innerHeight:t.clientHeight,o=Object.keys(n).map(a=>{if("string"==typeof a&&0===a.indexOf("@")){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];"window"===e?r.matchMedia(`(min-width: ${c}px)`).matches&&(i=l):c<=t.clientWidth&&(i=l)}return i||"max"}},mY={addClasses:function hY(){const n=this,{classNames:e,params:t,rtl:i,el:r,device:s}=n,o=function fY(n,e){const t=[];return n.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):"string"==typeof i&&t.push(e+i)}),t}(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),r.classList.add(...e),n.emitContainerClasses()},removeClasses:function pY(){const{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}},tx={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function yY(n,e){return function(i){void 0===i&&(i={});const r=Object.keys(i)[0],s=i[r];"object"==typeof s&&null!==s?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===n[r]&&(n[r]={auto:!0}),r in n&&"enabled"in s?(!0===n[r]&&(n[r]={enabled:!0}),"object"==typeof n[r]&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),rr(e,i)):rr(e,i)):rr(e,i)}}const nx={eventsEmitter:mj,update:Aj,translate:Rj,transition:Fj,slide:Wj,loop:qj,grabCursor:Zj,events:lY,breakpoints:dY,checkOverflow:{checkOverflow:function gY(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const r=n.slides.length-1;n.isLocked=n.size>n.slidesGrid[r]+n.slidesSizesGrid[r]+2*i}else n.isLocked=1===n.snapGrid.length;!0===t.allowSlideNext&&(n.allowSlideNext=!n.isLocked),!0===t.allowSlidePrev&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}},classes:mY},ix={};class Wn{constructor(){let e,t;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?t=r[0]:[e,t]=r,t||(t={}),t=rr({},t),e&&!t.el&&(t.el=e);const o=li();if(t.el&&"string"==typeof t.el&&o.querySelectorAll(t.el).length>1){const u=[];return o.querySelectorAll(t.el).forEach(d=>{const f=rr({},t,{el:d});u.push(new Wn(f))}),u}const a=this;a.__swiper__=!0,a.support=m2(),a.device=function uj(n){return void 0===n&&(n={}),Zw||(Zw=function cj(n){let{userAgent:e}=void 0===n?{}:n;const t=m2(),i=fn(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===r;let p="MacIntel"===r;return!u&&p&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(o.os="android",o.android=!0),(u||f||d)&&(o.os="ios",o.ios=!0),o}(n)),Zw}({userAgent:t.userAgent}),a.browser=function fj(){return $w||($w=function dj(){const n=fn();let e=!1;function t(){const i=n.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(t()){const i=String(n.navigator.userAgent);if(i.includes("Version/")){const[r,s]=i.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=r<16||16===r&&s<2}}return{isSafari:e||t(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}()),$w}(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const l={};a.modules.forEach(u=>{u({params:t,swiper:a,extendParams:yY(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=rr({},tx,l);return a.params=rr({},c,ix,t),a.originalParams=rr({},a.params),a.passedParams=rr({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getSlideIndex(e){const{slidesEl:t,params:i}=this,s=df(ci(t,`.${i.slideClass}, swiper-slide`)[0]);return df(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>1*t.getAttribute("data-swiper-slide-index")===e)[0])}recalcSlides(){const{slidesEl:t,params:i}=this;this.slides=ci(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=this;let u=1;if(r.centeredSlides){let f,d=s[c]?s[c].swiperSlideSize:0;for(let h=c+1;h<s.length;h+=1)s[h]&&!f&&(d+=s[h].swiperSlideSize,u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)s[h]&&!f&&(d+=s[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if("current"===e)for(let d=c+1;d<s.length;d+=1)(t?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function r(){const a=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ym(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode?(r(),i.autoHeight&&e.updateAutoHeight()):(s=e.slideTo(("auto"===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides?(e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides).length-1:e.activeIndex,0,!1,!0),s||r()),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const i=this,r=i.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(i.el.classList.remove(`${i.params.containerModifierClass}${r}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{"vertical"===e?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&"SWIPER-CONTAINER"===i.parentNode.host.nodeName&&(t.isElement=!0);const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):ci(i,r())[0];return!o&&t.params.createElements&&(o=$r("div",t.params.wrapperClass),i.append(o),ci(i,`.${t.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(t,{el:i,wrapperEl:o,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===jo(i,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===jo(i,"direction")),wrongRTL:"-webkit-box"===jo(o,"display")}),!0}init(e){const t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.slideTo(t.params.loop&&t.virtual&&t.params.virtual.enabled?t.params.initialSlide+t.virtual.slidesBefore:t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents(),[...t.el.querySelectorAll('[loading="lazy"]')].forEach(r=>{r.complete?ym(t,r):r.addEventListener("load",s=>{ym(t,s.target)})}),ex(t),t.initialized=!0,ex(t),t.emit("init"),t.emit("afterInit")),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),s.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),!1!==e&&(i.el.swiper=null,function ij(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}(i)),i.destroyed=!0),null}static extendDefaults(e){rr(ix,e)}static get extendedDefaults(){return ix}static get defaults(){return tx}static installModule(e){Wn.prototype.__modules__||(Wn.prototype.__modules__=[]);const t=Wn.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Wn.installModule(t)),Wn):(Wn.installModule(e),Wn)}}function x2(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}Object.keys(nx).forEach(n=>{Object.keys(nx[n]).forEach(e=>{Wn.prototype[e]=nx[n][e]})}),Wn.use([function hj(n){let{swiper:e,on:t,emit:i}=n;const r=fn();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{e.params.resizeObserver&&typeof r.ResizeObserver<"u"?!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{o=r.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(g=>{let{contentBoxSize:v,contentRect:_,target:y}=g;y&&y!==e.el||(p=_?_.width:(v[0]||v).inlineSize,m=_?_.height:(v[0]||v).blockSize)}),(p!==f||m!==h)&&a()})}),s.observe(e.el)):(r.addEventListener("resize",a),r.addEventListener("orientationchange",u))}),t("destroy",()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})},function pj(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=[],o=fn(),a=function(u,d){void 0===d&&(d={});const h=new(o.MutationObserver||o.WebkitMutationObserver)(p=>{if(e.__preventObserver__)return;if(1===p.length)return void r("observerUpdate",p[0]);const m=function(){r("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"||d.attributes,childList:typeof d.childList>"u"||d.childList,characterData:typeof d.characterData>"u"||d.characterData}),s.push(h)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(e.params.observer){if(e.params.observeParents){const u=ja(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}}),i("destroy",()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)})}]);const Ic="155",Rc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Lc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},wY=0,S2=1,xY=2,E2=1,SY=2,Js=3,eo=0,jn=1,sr=2,zi=0,Oc=1,M2=2,b2=3,A2=4,EY=5,Nc=100,MY=101,bY=102,T2=103,C2=104,AY=200,TY=201,CY=202,DY=203,D2=204,P2=205,PY=206,IY=207,RY=208,LY=209,OY=210,NY=0,FY=1,UY=2,rx=3,BY=4,kY=5,zY=6,HY=7,_m=0,VY=1,GY=2,Yo=0,WY=1,jY=2,YY=3,XY=4,qY=5,Xo=301,Ya=302,wm=303,xm=304,hf=306,Sm=1e3,wi=1001,Em=1002,Tn=1003,ox=1004,Mm=1005,$t=1006,I2=1007,Xa=1008,xi=1009,QY=1010,KY=1011,ax=1012,R2=1013,to=1014,no=1015,pf=1016,L2=1017,O2=1018,qo=1020,ZY=1021,Ir=1023,$Y=1024,JY=1025,qa=1026,Qa=1027,eX=1028,N2=1029,tX=1030,F2=1031,U2=1033,lx=33776,cx=33777,ux=33778,dx=33779,B2=35840,k2=35841,z2=35842,H2=35843,nX=36196,V2=37492,G2=37496,W2=37808,j2=37809,Y2=37810,X2=37811,q2=37812,Q2=37813,K2=37814,Z2=37815,$2=37816,J2=37817,eR=37818,tR=37819,nR=37820,iR=37821,fx=36492,iX=36283,rR=36284,sR=36285,oR=36286,io=3001,mf=3200,aX=3201,Ka=0,lX=1,Za="",lt="srgb",_s="srgb-linear",lR="display-p3",uX=512,dX=513,fX=514,hX=515,pX=516,mX=517,gX=518,vX=519,cR="300 es",gx=1035,ro=2e3;class ws{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ui=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];const $a=Math.PI/180,Bc=180/Math.PI;function or(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(ui[255&n]+ui[n>>8&255]+ui[n>>16&255]+ui[n>>24&255]+"-"+ui[255&e]+ui[e>>8&255]+"-"+ui[e>>16&15|64]+ui[e>>24&255]+"-"+ui[63&t|128]+ui[t>>8&255]+"-"+ui[t>>16&255]+ui[t>>24&255]+ui[255&i]+ui[i>>8&255]+ui[i>>16&255]+ui[i>>24&255]).toLowerCase()}function hn(n,e,t){return Math.max(e,Math.min(t,n))}function vx(n,e){return(n%e+e)%e}function gf(n,e,t){return(1-t)*n+t*e}function yx(n){return 0==(n&n-1)&&0!==n}function Im(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Hi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ct(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const _x_DEG2RAD=$a,_x_randFloatSpread=function AX(n){return n*(.5-Math.random())};class ee{constructor(e=0,t=0){ee.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(hn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class gt{constructor(e,t,i,r,s,o,a,l,c){gt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],f=i[2],h=i[5],p=i[8],m=r[0],g=r[3],v=r[6],_=r[1],y=r[4],w=r[7],S=r[2],E=r[5],M=r[8];return s[0]=o*m+a*_+l*S,s[3]=o*g+a*y+l*E,s[6]=o*v+a*w+l*M,s[1]=c*m+u*_+d*S,s[4]=c*g+u*y+d*E,s[7]=c*v+u*w+d*M,s[2]=f*m+h*_+p*S,s[5]=f*g+h*y+p*E,s[8]=f*v+h*w+p*M,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*s,h=c*s-o*l,p=t*d+i*f+r*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(r*c-u*i)*m,e[2]=(a*i-r*o)*m,e[3]=f*m,e[4]=(u*t-r*l)*m,e[5]=(r*s-a*t)*m,e[6]=h*m,e[7]=(i*l-c*t)*m,e[8]=(o*t-i*s)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(wx.makeScale(e,t)),this}rotate(e){return this.premultiply(wx.makeRotation(-e)),this}translate(e,t){return this.premultiply(wx.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const wx=new gt;function fR(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function vf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const hR={};function yf(n){n in hR||(hR[n]=!0,console.warn(n))}function zc(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function xx(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const RX=(new gt).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),LX=(new gt).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),FX={[_s]:n=>n,[lt]:n=>n.convertSRGBToLinear(),[lR]:function OX(n){return n.convertSRGBToLinear().applyMatrix3(LX)}},UX={[_s]:n=>n,[lt]:n=>n.convertLinearToSRGB(),[lR]:function NX(n){return n.applyMatrix3(RX).convertLinearToSRGB()}},Jr={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return _s},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(!1===this.enabled||e===t||!e||!t)return n;const i=FX[e],r=UX[t];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Hc;class pR{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Hc&&(Hc=vf("canvas")),Hc.width=e.width,Hc.height=e.height;const i=Hc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Hc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=vf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*zc(s[o]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*zc(t[i]/255)):zc(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let BX=0;class Vc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:BX++}),this.uuid=or(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(Sx(r[o].isDataTexture?r[o].image:r[o]))}else s=Sx(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Sx(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?pR.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let kX=0,xs=(()=>{class n extends ws{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=wi,s=wi,o=$t,a=Xa,l=Ir,c=xi,u=n.DEFAULT_ANISOTROPY,d=Za){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:kX++}),this.uuid=or(),this.name="",this.source=new Vc(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new ee(0,0),this.repeat=new ee(1,1),this.center=new ee(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new gt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof d?this.colorSpace=d:(yf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===io?lt:Za),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Sm:t.x=t.x-Math.floor(t.x);break;case wi:t.x=t.x<0?0:1;break;case Em:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Sm:t.y=t.y-Math.floor(t.y);break;case wi:t.y=t.y<0?0:1;break;case Em:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return yf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===lt?io:3e3}set encoding(t){yf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===io?lt:Za}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class Ot{constructor(e=0,t=0,i=0,r=1){Ot.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],g=l[6],v=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-g)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+g)<.1&&Math.abs(c+h+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const y=(c+1)/2,w=(h+1)/2,S=(v+1)/2,E=(u+f)/4,M=(d+m)/4,b=(p+g)/4;return y>w&&y>S?y<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(y),r=E/i,s=M/i):w>S?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=E/r,s=b/r):S<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(S),i=M/s,r=b/s),this.set(i,r,s,t),this}let _=Math.sqrt((g-p)*(g-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(_)<.001&&(_=1),this.x=(g-p)/_,this.y=(d-m)/_,this.z=(f-u)/_,this.w=Math.acos((c+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class zX extends ws{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ot(0,0,e,t),this.scissorTest=!1,this.viewport=new Ot(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==i.encoding&&(yf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===io?lt:Za),this.texture=new xs(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:$t,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Vc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Si extends zX{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Ex extends xs{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Tn,this.minFilter=Tn,this.wrapR=wi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mR extends xs{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Tn,this.minFilter=Tn,this.wrapR=wi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ei{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const f=s[o+0],h=s[o+1],p=s[o+2],m=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=d);if(1===a)return e[t+0]=f,e[t+1]=h,e[t+2]=p,void(e[t+3]=m);if(d!==m||l!==f||c!==h||u!==p){let g=1-a;const v=l*f+c*h+u*p+d*m,_=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){const S=Math.sqrt(y),E=Math.atan2(S,v*_);g=Math.sin(g*E)/S,a=Math.sin(a*E)/S}const w=a*_;if(l=l*g+f*w,c=c*g+h*w,u=u*g+p*w,d=d*g+m*w,g===1-a){const S=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=S,c*=S,u*=S,d*=S}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],f=s[o+1],h=s[o+2],p=s[o+3];return e[t]=a*p+u*d+l*h-c*f,e[t+1]=l*p+u*f+c*d-a*h,e[t+2]=c*p+u*h+a*f-l*d,e[t+3]=u*p-a*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),f=l(i/2),h=l(r/2),p=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=i+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(s-c)*h,this._z=(o-r)*h}else if(i>a&&i>d){const h=2*Math.sqrt(1+i-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(r+o)/h,this._z=(s+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-i-d);this._w=(s-c)/h,this._x=(r+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-i-a);this._w=(o-r)/h,this._x=(s+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(hn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-t;return this._w=h*o+t*this._w,this._x=h*i+t*this._x,this._y=h*r+t*this._y,this._z=h*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=o*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class L{constructor(e=0,t=0,i=0){L.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(gR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(gR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,d=l*r+s*i-o*t,f=-s*t-o*i-a*r;return this.x=c*l+f*-s+u*-a-d*-o,this.y=u*l+f*-o+d*-s-c*-a,this.z=d*l+f*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Mx.copy(this).projectOnVector(e),this.sub(Mx)}reflect(e){return this.sub(Mx.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(hn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Mx=new L,gR=new Ei;class so{constructor(e=new L(1/0,1/0,1/0),t=new L(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(ao.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(ao.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ao.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Gc.copy(e.boundingBox),Gc.applyMatrix4(e.matrixWorld),this.union(Gc);else{const r=e.geometry;if(void 0!==r)if(t&&void 0!==r.attributes&&void 0!==r.attributes.position){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)ao.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ao)}else null===r.boundingBox&&r.computeBoundingBox(),Gc.copy(r.boundingBox),Gc.applyMatrix4(e.matrixWorld),this.union(Gc)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ao),ao.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_f),Rm.subVectors(this.max,_f),Wc.subVectors(e.a,_f),jc.subVectors(e.b,_f),Yc.subVectors(e.c,_f),Qo.subVectors(jc,Wc),Ko.subVectors(Yc,jc),Ja.subVectors(Wc,Yc);let t=[0,-Qo.z,Qo.y,0,-Ko.z,Ko.y,0,-Ja.z,Ja.y,Qo.z,0,-Qo.x,Ko.z,0,-Ko.x,Ja.z,0,-Ja.x,-Qo.y,Qo.x,0,-Ko.y,Ko.x,0,-Ja.y,Ja.x,0];return!(!bx(t,Wc,jc,Yc,Rm)||(t=[1,0,0,0,1,0,0,0,1],!bx(t,Wc,jc,Yc,Rm)))&&(Lm.crossVectors(Qo,Ko),t=[Lm.x,Lm.y,Lm.z],bx(t,Wc,jc,Yc,Rm))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ao).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(ao).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(oo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),oo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),oo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),oo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),oo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),oo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),oo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),oo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(oo)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const oo=[new L,new L,new L,new L,new L,new L,new L,new L],ao=new L,Gc=new so,Wc=new L,jc=new L,Yc=new L,Qo=new L,Ko=new L,Ja=new L,_f=new L,Rm=new L,Lm=new L,el=new L;function bx(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){el.fromArray(n,s);const a=r.x*Math.abs(el.x)+r.y*Math.abs(el.y)+r.z*Math.abs(el.z),l=e.dot(el),c=t.dot(el),u=i.dot(el);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const HX=new so,wf=new L,Ax=new L;class Ss{constructor(e=new L,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):HX.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;wf.subVectors(e,this.center);const t=wf.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(wf,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Ax.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(wf.copy(e.center).add(Ax)),this.expandByPoint(wf.copy(e.center).sub(Ax))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const lo=new L,Tx=new L,Om=new L,Zo=new L,Cx=new L,Nm=new L,Dx=new L;class Xc{constructor(e=new L,t=new L(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,lo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=lo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(lo.copy(this.origin).addScaledVector(this.direction,t),lo.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Tx.copy(e).add(t).multiplyScalar(.5),Om.copy(t).sub(e).normalize(),Zo.copy(this.origin).sub(Tx);const s=.5*e.distanceTo(t),o=-this.direction.dot(Om),a=Zo.dot(this.direction),l=-Zo.dot(Om),c=Zo.lengthSq(),u=Math.abs(1-o*o);let d,f,h,p;if(u>0)if(d=o*l-a,f=o*a-l,p=s*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(Tx).addScaledVector(Om,f),h}intersectSphere(e,t){lo.subVectors(e.center,this.origin);const i=lo.dot(this.direction),r=lo.dot(lo)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(i=(e.min.x-f.x)*c,r=(e.max.x-f.x)*c):(i=(e.max.x-f.x)*c,r=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),i>l||a>r)||((a>i||i!=i)&&(i=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,lo)}intersectTriangle(e,t,i,r,s){Cx.subVectors(t,e),Nm.subVectors(i,e),Dx.crossVectors(Cx,Nm);let a,o=this.direction.dot(Dx);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Zo.subVectors(this.origin,e);const l=a*this.direction.dot(Nm.crossVectors(Zo,Nm));if(l<0)return null;const c=a*this.direction.dot(Cx.cross(Zo));if(c<0||l+c>o)return null;const u=-a*Zo.dot(Dx);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class st{constructor(e,t,i,r,s,o,a,l,c,u,d,f,h,p,m,g){st.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,l,c,u,d,f,h,p,m,g)}set(e,t,i,r,s,o,a,l,c,u,d,f,h,p,m,g){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=d,v[14]=f,v[3]=h,v[7]=p,v[11]=m,v[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new st).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/qc.setFromMatrixColumn(e,0).length(),s=1/qc.setFromMatrixColumn(e,1).length(),o=1/qc.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===e.order){const f=o*u,h=o*d,p=a*u,m=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=h+p*c,t[5]=f-m*c,t[9]=-a*l,t[2]=m-f*c,t[6]=p+h*c,t[10]=o*l}else if("YXZ"===e.order){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f+m*a,t[4]=p*a-h,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=h*a-p,t[6]=m+f*a,t[10]=o*l}else if("ZXY"===e.order){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f-m*a,t[4]=-o*d,t[8]=p+h*a,t[1]=h+p*a,t[5]=o*u,t[9]=m-f*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const f=o*u,h=o*d,p=a*u,m=a*d;t[0]=l*u,t[4]=p*c-h,t[8]=f*c+m,t[1]=l*d,t[5]=m*c+f,t[9]=h*c-p,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const f=o*l,h=o*c,p=a*l,m=a*c;t[0]=l*u,t[4]=m-f*d,t[8]=p*d+h,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=h*d+p,t[10]=f-m*d}else if("XZY"===e.order){const f=o*l,h=o*c,p=a*l,m=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+m,t[5]=o*u,t[9]=h*d-p,t[2]=p*d-h,t[6]=a*u,t[10]=m*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(VX,e,GX)}lookAt(e,t,i){const r=this.elements;return ar.subVectors(e,t),0===ar.lengthSq()&&(ar.z=1),ar.normalize(),$o.crossVectors(i,ar),0===$o.lengthSq()&&(1===Math.abs(i.z)?ar.x+=1e-4:ar.z+=1e-4,ar.normalize(),$o.crossVectors(i,ar)),$o.normalize(),Fm.crossVectors(ar,$o),r[0]=$o.x,r[4]=Fm.x,r[8]=ar.x,r[1]=$o.y,r[5]=Fm.y,r[9]=ar.y,r[2]=$o.z,r[6]=Fm.z,r[10]=ar.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],f=i[9],h=i[13],p=i[2],m=i[6],g=i[10],v=i[14],_=i[3],y=i[7],w=i[11],S=i[15],E=r[0],M=r[4],b=r[8],x=r[12],A=r[1],R=r[5],N=r[9],C=r[13],T=r[2],I=r[6],O=r[10],D=r[14],F=r[3],B=r[7],W=r[11],V=r[15];return s[0]=o*E+a*A+l*T+c*F,s[4]=o*M+a*R+l*I+c*B,s[8]=o*b+a*N+l*O+c*W,s[12]=o*x+a*C+l*D+c*V,s[1]=u*E+d*A+f*T+h*F,s[5]=u*M+d*R+f*I+h*B,s[9]=u*b+d*N+f*O+h*W,s[13]=u*x+d*C+f*D+h*V,s[2]=p*E+m*A+g*T+v*F,s[6]=p*M+m*R+g*I+v*B,s[10]=p*b+m*N+g*O+v*W,s[14]=p*x+m*C+g*D+v*V,s[3]=_*E+y*A+w*T+S*F,s[7]=_*M+y*R+w*I+S*B,s[11]=_*b+y*N+w*O+S*W,s[15]=_*x+y*C+w*D+S*V,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14];return e[3]*(+s*l*d-r*c*d-s*a*f+i*c*f+r*a*h-i*l*h)+e[7]*(+t*l*h-t*c*f+s*o*f-r*o*h+r*c*u-s*l*u)+e[11]*(+t*c*d-t*a*h-s*o*d+i*o*h+s*a*u-i*c*u)+e[15]*(-r*a*u-t*l*d+t*a*f+r*o*d-i*o*f+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],g=e[14],v=e[15],_=d*g*c-m*f*c+m*l*h-a*g*h-d*l*v+a*f*v,y=p*f*c-u*g*c-p*l*h+o*g*h+u*l*v-o*f*v,w=u*m*c-p*d*c+p*a*h-o*m*h-u*a*v+o*d*v,S=p*d*l-u*m*l-p*a*f+o*m*f+u*a*g-o*d*g,E=t*_+i*y+r*w+s*S;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/E;return e[0]=_*M,e[1]=(m*f*s-d*g*s-m*r*h+i*g*h+d*r*v-i*f*v)*M,e[2]=(a*g*s-m*l*s+m*r*c-i*g*c-a*r*v+i*l*v)*M,e[3]=(d*l*s-a*f*s-d*r*c+i*f*c+a*r*h-i*l*h)*M,e[4]=y*M,e[5]=(u*g*s-p*f*s+p*r*h-t*g*h-u*r*v+t*f*v)*M,e[6]=(p*l*s-o*g*s-p*r*c+t*g*c+o*r*v-t*l*v)*M,e[7]=(o*f*s-u*l*s+u*r*c-t*f*c-o*r*h+t*l*h)*M,e[8]=w*M,e[9]=(p*d*s-u*m*s-p*i*h+t*m*h+u*i*v-t*d*v)*M,e[10]=(o*m*s-p*a*s+p*i*c-t*m*c-o*i*v+t*a*v)*M,e[11]=(u*a*s-o*d*s-u*i*c+t*d*c+o*i*h-t*a*h)*M,e[12]=S*M,e[13]=(u*m*r-p*d*r+p*i*f-t*m*f-u*i*g+t*d*g)*M,e[14]=(p*a*r-o*m*r-p*i*l+t*m*l+o*i*g-t*a*g)*M,e[15]=(o*d*r-u*a*r+u*i*l-t*d*l-o*i*f+t*a*f)*M,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,f=s*c,h=s*u,p=s*d,m=o*u,g=o*d,v=a*d,_=l*c,y=l*u,w=l*d,S=i.x,E=i.y,M=i.z;return r[0]=(1-(m+v))*S,r[1]=(h+w)*S,r[2]=(p-y)*S,r[3]=0,r[4]=(h-w)*E,r[5]=(1-(f+v))*E,r[6]=(g+_)*E,r[7]=0,r[8]=(p+y)*M,r[9]=(g-_)*M,r[10]=(1-(f+m))*M,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=qc.set(r[0],r[1],r[2]).length();const o=qc.set(r[4],r[5],r[6]).length(),a=qc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],es.copy(this);const c=1/s,u=1/o,d=1/a;return es.elements[0]*=c,es.elements[1]*=c,es.elements[2]*=c,es.elements[4]*=u,es.elements[5]*=u,es.elements[6]*=u,es.elements[8]*=d,es.elements[9]*=d,es.elements[10]*=d,t.setFromRotationMatrix(es),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=ro){const l=this.elements,c=2*s/(t-e),u=2*s/(i-r),d=(t+e)/(t-e),f=(i+r)/(i-r);let h,p;if(a===ro)h=-(o+s)/(o-s),p=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-o/(o-s),p=-o*s/(o-s)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=ro){const l=this.elements,c=1/(t-e),u=1/(i-r),d=1/(o-s),f=(t+e)*c,h=(i+r)*u;let p,m;if(a===ro)p=(o+s)*d,m=-2*d;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=s*d,m=-1*d}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const qc=new L,es=new st,VX=new L(0,0,0),GX=new L(1,1,1),$o=new L,Fm=new L,ar=new L,vR=new st,yR=new Ei;let WX=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],d=s[9],f=s[2],h=s[6],p=s[10];switch(i){case"XYZ":this._y=Math.asin(hn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-hn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(hn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-hn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(hn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-hn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return vR.makeRotationFromQuaternion(t),this.setFromRotationMatrix(vR,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return yR.setFromEuler(this),this.setFromQuaternion(yR,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class Px{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let jX=0;const _R=new L,Qc=new Ei,co=new st,Um=new L,xf=new L,YX=new L,XX=new Ei,wR=new L(1,0,0),xR=new L(0,1,0),SR=new L(0,0,1),qX={type:"added"},ER={type:"removed"};let Vi=(()=>{class n extends ws{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:jX++}),this.uuid=or(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new L,i=new WX,r=new Ei,s=new L(1,1,1);i._onChange(function o(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new st},normalMatrix:{value:new gt}}),this.matrix=new st,this.matrixWorld=new st,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Px,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return Qc.setFromAxisAngle(t,i),this.quaternion.multiply(Qc),this}rotateOnWorldAxis(t,i){return Qc.setFromAxisAngle(t,i),this.quaternion.premultiply(Qc),this}rotateX(t){return this.rotateOnAxis(wR,t)}rotateY(t){return this.rotateOnAxis(xR,t)}rotateZ(t){return this.rotateOnAxis(SR,t)}translateOnAxis(t,i){return _R.copy(t).applyQuaternion(this.quaternion),this.position.add(_R.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(wR,t)}translateY(t){return this.translateOnAxis(xR,t)}translateZ(t){return this.translateOnAxis(SR,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(co.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?Um.copy(t):Um.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),xf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?co.lookAt(xf,Um,this.up):co.lookAt(Um,xf,this.up),this.quaternion.setFromRotationMatrix(co),s&&(co.extractRotation(s.matrixWorld),Qc.setFromRotationMatrix(co),this.quaternion.premultiply(Qc.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(qX)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(ER)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(ER)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),co.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),co.multiply(t.parent.matrixWorld)),t.applyMatrix4(co),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(t,i);if(void 0!==a)return a}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let s=0,o=this.children.length;s<o;s++){const a=this.children[s].getObjectsByProperty(t,i);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xf,t,YX),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xf,XX,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const o=i[r];(!0===o.matrixWorldAutoUpdate||!0===t)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let o=0,a=s.length;o<a;o++){const l=s[o];!0===l.matrixWorldAutoUpdate&&l.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(i){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),d=a(t.images),f=a(t.shapes),h=a(t.skeletons),p=a(t.animations),m=a(t.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=s,r;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new L(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const ts=new L,uo=new L,Ix=new L,fo=new L,Kc=new L,Zc=new L,MR=new L,Rx=new L,Lx=new L,Ox=new L;let Bm=!1;class lr{constructor(e=new L,t=new L,i=new L){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),ts.subVectors(e,t),r.cross(ts);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){ts.subVectors(r,t),uo.subVectors(i,t),Ix.subVectors(e,t);const o=ts.dot(ts),a=ts.dot(uo),l=ts.dot(Ix),c=uo.dot(uo),u=uo.dot(Ix),d=o*c-a*a;if(0===d)return s.set(-2,-1,-1);const f=1/d,h=(c*l-a*u)*f,p=(o*u-a*l)*f;return s.set(1-h-p,p,h)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,fo),fo.x>=0&&fo.y>=0&&fo.x+fo.y<=1}static getUV(e,t,i,r,s,o,a,l){return!1===Bm&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Bm=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,fo),l.setScalar(0),l.addScaledVector(s,fo.x),l.addScaledVector(o,fo.y),l.addScaledVector(a,fo.z),l}static isFrontFacing(e,t,i,r){return ts.subVectors(i,t),uo.subVectors(e,t),ts.cross(uo).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ts.subVectors(this.c,this.b),uo.subVectors(this.a,this.b),.5*ts.cross(uo).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return lr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return lr.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return!1===Bm&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Bm=!0),lr.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return lr.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return lr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return lr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Kc.subVectors(r,i),Zc.subVectors(s,i),Rx.subVectors(e,i);const l=Kc.dot(Rx),c=Zc.dot(Rx);if(l<=0&&c<=0)return t.copy(i);Lx.subVectors(e,r);const u=Kc.dot(Lx),d=Zc.dot(Lx);if(u>=0&&d<=u)return t.copy(r);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(Kc,o);Ox.subVectors(e,s);const h=Kc.dot(Ox),p=Zc.dot(Ox);if(p>=0&&h<=p)return t.copy(s);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return a=c/(c-p),t.copy(i).addScaledVector(Zc,a);const g=u*p-h*d;if(g<=0&&d-u>=0&&h-p>=0)return MR.subVectors(s,r),a=(d-u)/(d-u+(h-p)),t.copy(r).addScaledVector(MR,a);const v=1/(g+m+f);return o=m*v,a=f*v,t.copy(i).addScaledVector(Kc,o).addScaledVector(Zc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let QX=0;class ho extends ws{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:QX++}),this.uuid=or(),this.name="",this.type="Material",this.blending=Oc,this.side=eo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=D2,this.blendDst=P2,this.blendEquation=Nc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=rx,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Oc&&(i.blending=this.blending),this.side!==eo&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const bR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ns={h:0,s:0,l:0},km={h:0,s:0,l:0};function Nx(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Ce{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const r=e;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=lt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Jr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Jr.workingColorSpace){return this.r=e,this.g=t,this.b=i,Jr.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Jr.workingColorSpace){if(e=vx(e,1),t=hn(t,0,1),i=hn(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Nx(o,s,e+1/3),this.g=Nx(o,s,e),this.b=Nx(o,s,e-1/3)}return Jr.toWorkingColorSpace(this,r),this}setStyle(e,t=lt){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=lt){const i=bR[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zc(e.r),this.g=zc(e.g),this.b=zc(e.b),this}copyLinearToSRGB(e){return this.r=xx(e.r),this.g=xx(e.g),this.b=xx(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=lt){return Jr.fromWorkingColorSpace(di.copy(this),e),65536*Math.round(hn(255*di.r,0,255))+256*Math.round(hn(255*di.g,0,255))+Math.round(hn(255*di.b,0,255))}getHexString(e=lt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Jr.workingColorSpace){Jr.fromWorkingColorSpace(di.copy(this),t);const i=di.r,r=di.g,s=di.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Jr.workingColorSpace){return Jr.fromWorkingColorSpace(di.copy(this),t),e.r=di.r,e.g=di.g,e.b=di.b,e}getStyle(e=lt){Jr.fromWorkingColorSpace(di.copy(this),e);const t=di.r,i=di.g,r=di.b;return e!==lt?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(ns),ns.h+=e,ns.s+=t,ns.l+=i,this.setHSL(ns.h,ns.s,ns.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(ns),e.getHSL(km);const i=gf(ns.h,km.h,t),r=gf(ns.s,km.s,t),s=gf(ns.l,km.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const di=new Ce;Ce.NAMES=bR;class tl extends ho{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ce(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=_m,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Cn=new L,zm=new ee;class pn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=no,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)zm.fromBufferAttribute(this,t),zm.applyMatrix3(e),this.setXY(t,zm.x,zm.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyMatrix3(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyMatrix4(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyNormalMatrix(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.transformDirection(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Hi(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ct(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Hi(t,this.array)),t}setX(e,t){return this.normalized&&(t=ct(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Hi(t,this.array)),t}setY(e,t){return this.normalized&&(t=ct(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Hi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ct(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Hi(t,this.array)),t}setW(e,t){return this.normalized&&(t=ct(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ct(t,this.array),i=ct(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ct(t,this.array),i=ct(i,this.array),r=ct(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ct(t,this.array),i=ct(i,this.array),r=ct(r,this.array),s=ct(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class AR extends pn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class TR extends pn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Le extends pn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let ZX=0;const Rr=new st,Fx=new Vi,$c=new L,cr=new so,Ef=new so,Yn=new L;class ft extends ws{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ZX++}),this.uuid=or(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(fR(e)?TR:AR)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new gt).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Rr.makeRotationFromQuaternion(e),this.applyMatrix4(Rr),this}rotateX(e){return Rr.makeRotationX(e),this.applyMatrix4(Rr),this}rotateY(e){return Rr.makeRotationY(e),this.applyMatrix4(Rr),this}rotateZ(e){return Rr.makeRotationZ(e),this.applyMatrix4(Rr),this}translate(e,t,i){return Rr.makeTranslation(e,t,i),this.applyMatrix4(Rr),this}scale(e,t,i){return Rr.makeScale(e,t,i),this.applyMatrix4(Rr),this}lookAt(e){return Fx.lookAt(e),Fx.updateMatrix(),this.applyMatrix4(Fx.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($c).negate(),this.translate($c.x,$c.y,$c.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Le(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new so);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new L(-1/0,-1/0,-1/0),new L(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)cr.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(Yn.addVectors(this.boundingBox.min,cr.min),this.boundingBox.expandByPoint(Yn),Yn.addVectors(this.boundingBox.max,cr.max),this.boundingBox.expandByPoint(Yn)):(this.boundingBox.expandByPoint(cr.min),this.boundingBox.expandByPoint(cr.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ss);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new L,1/0);if(e){const i=this.boundingSphere.center;if(cr.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)Ef.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(Yn.addVectors(cr.min,Ef.min),cr.expandByPoint(Yn),Yn.addVectors(cr.max,Ef.max),cr.expandByPoint(Yn)):(cr.expandByPoint(Ef.min),cr.expandByPoint(Ef.max));cr.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Yn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Yn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Yn.fromBufferAttribute(a,c),l&&($c.fromBufferAttribute(e,c),Yn.add($c)),r=Math.max(r,i.distanceToSquared(Yn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new pn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let A=0;A<a;A++)c[A]=new L,u[A]=new L;const d=new L,f=new L,h=new L,p=new ee,m=new ee,g=new ee,v=new L,_=new L;function y(A,R,N){d.fromArray(r,3*A),f.fromArray(r,3*R),h.fromArray(r,3*N),p.fromArray(o,2*A),m.fromArray(o,2*R),g.fromArray(o,2*N),f.sub(d),h.sub(d),m.sub(p),g.sub(p);const C=1/(m.x*g.y-g.x*m.y);isFinite(C)&&(v.copy(f).multiplyScalar(g.y).addScaledVector(h,-m.y).multiplyScalar(C),_.copy(h).multiplyScalar(m.x).addScaledVector(f,-g.x).multiplyScalar(C),c[A].add(v),c[R].add(v),c[N].add(v),u[A].add(_),u[R].add(_),u[N].add(_))}let w=this.groups;0===w.length&&(w=[{start:0,count:i.length}]);for(let A=0,R=w.length;A<R;++A){const N=w[A],C=N.start;for(let I=C,O=C+N.count;I<O;I+=3)y(i[I+0],i[I+1],i[I+2])}const S=new L,E=new L,M=new L,b=new L;function x(A){M.fromArray(s,3*A),b.copy(M);const R=c[A];S.copy(R),S.sub(M.multiplyScalar(M.dot(R))).normalize(),E.crossVectors(b,R);const C=E.dot(u[A])<0?-1:1;l[4*A]=S.x,l[4*A+1]=S.y,l[4*A+2]=S.z,l[4*A+3]=C}for(let A=0,R=w.length;A<R;++A){const N=w[A],C=N.start;for(let I=C,O=C+N.count;I<O;I+=3)x(i[I+0]),x(i[I+1]),x(i[I+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new pn(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let f=0,h=i.count;f<h;f++)i.setXYZ(f,0,0,0);const r=new L,s=new L,o=new L,a=new L,l=new L,c=new L,u=new L,d=new L;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),g=e.getX(f+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,m),o.fromBufferAttribute(t,g),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,p),l.fromBufferAttribute(i,m),c.fromBufferAttribute(i,g),a.add(u),l.add(u),c.add(u),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(g,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)r.fromBufferAttribute(t,f+0),s.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Yn.fromBufferAttribute(e,t),Yn.normalize(),e.setXYZ(t,Yn.x,Yn.y,Yn.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,g=l.length;m<g;m++){h=a.isInterleavedBufferAttribute?l[m]*a.data.stride+a.offset:l[m]*u;for(let v=0;v<u;v++)f[p++]=c[h++]}return new pn(f,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ft,i=this.index.array,r=this.attributes;for(const a in r){const c=e(r[a],i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const h=e(c[u],i);l.push(h)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i)e.data.attributes[l]=i[l].toJSON(e.data);const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++)u.push(c[d].toJSON(e.data));u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r)this.setAttribute(c,r[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const CR=new st,nl=new Xc,Hm=new Ss,DR=new L,Jc=new L,eu=new L,tu=new L,Ux=new L,Vm=new L,Gm=new ee,Wm=new ee,jm=new ee,PR=new L,IR=new L,RR=new L,Ym=new L,Xm=new L;class Wi extends Vi{constructor(e=new ft,t=new tl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){Vm.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l];0!==u&&(Ux.fromBufferAttribute(s[l],e),Vm.addScaledVector(o?Ux:Ux.sub(t),u))}t.add(Vm)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),Hm.copy(i.boundingSphere),Hm.applyMatrix4(s),nl.copy(e.ray).recast(e.near),(!1!==Hm.containsPoint(nl.origin)||!(null===nl.intersectSphere(Hm,DR)||nl.origin.distanceToSquared(DR)>(e.far-e.near)**2))&&(CR.copy(s).invert(),nl.copy(e.ray).applyMatrix4(CR),(null===i.boundingBox||!1!==nl.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,nl)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,h=s.drawRange;if(null!==a)if(Array.isArray(o))for(let p=0,m=f.length;p<m;p++){const g=f[p],v=o[g.materialIndex];for(let w=Math.max(g.start,h.start),S=Math.min(a.count,Math.min(g.start+g.count,h.start+h.count));w<S;w+=3)r=qm(this,v,e,i,c,u,d,a.getX(w),a.getX(w+1),a.getX(w+2)),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=g.materialIndex,t.push(r))}else for(let g=Math.max(0,h.start),v=Math.min(a.count,h.start+h.count);g<v;g+=3)r=qm(this,o,e,i,c,u,d,a.getX(g),a.getX(g+1),a.getX(g+2)),r&&(r.faceIndex=Math.floor(g/3),t.push(r));else if(void 0!==l)if(Array.isArray(o))for(let p=0,m=f.length;p<m;p++){const g=f[p],v=o[g.materialIndex];for(let w=Math.max(g.start,h.start),S=Math.min(l.count,Math.min(g.start+g.count,h.start+h.count));w<S;w+=3)r=qm(this,v,e,i,c,u,d,w,w+1,w+2),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=g.materialIndex,t.push(r))}else for(let g=Math.max(0,h.start),v=Math.min(l.count,h.start+h.count);g<v;g+=3)r=qm(this,o,e,i,c,u,d,g,g+1,g+2),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}function qm(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,Jc),n.getVertexPosition(l,eu),n.getVertexPosition(c,tu);const u=function $X(n,e,t,i,r,s,o,a){let l;if(l=e.side===jn?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,e.side===eo,a),null===l)return null;Xm.copy(a),Xm.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Xm);return c<t.near||c>t.far?null:{distance:c,point:Xm.clone(),object:n}}(n,e,t,i,Jc,eu,tu,Ym);if(u){r&&(Gm.fromBufferAttribute(r,a),Wm.fromBufferAttribute(r,l),jm.fromBufferAttribute(r,c),u.uv=lr.getInterpolation(Ym,Jc,eu,tu,Gm,Wm,jm,new ee)),s&&(Gm.fromBufferAttribute(s,a),Wm.fromBufferAttribute(s,l),jm.fromBufferAttribute(s,c),u.uv1=lr.getInterpolation(Ym,Jc,eu,tu,Gm,Wm,jm,new ee),u.uv2=u.uv1),o&&(PR.fromBufferAttribute(o,a),IR.fromBufferAttribute(o,l),RR.fromBufferAttribute(o,c),u.normal=lr.getInterpolation(Ym,Jc,eu,tu,PR,IR,RR,new L),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new L,materialIndex:0};lr.getNormal(Jc,eu,tu,d.normal),u.face=d}return u}class nu extends ft{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,h=0;function p(m,g,v,_,y,w,S,E,M,b,x){const A=w/M,R=S/b,N=w/2,C=S/2,T=E/2,I=M+1,O=b+1;let D=0,F=0;const B=new L;for(let W=0;W<O;W++){const V=W*R-C;for(let Y=0;Y<I;Y++)B[m]=(Y*A-N)*_,B[g]=V*y,B[v]=T,c.push(B.x,B.y,B.z),B[m]=0,B[g]=0,B[v]=E>0?1:-1,u.push(B.x,B.y,B.z),d.push(Y/M),d.push(1-W/b),D+=1}for(let W=0;W<b;W++)for(let V=0;V<M;V++){const $=f+V+I*(W+1),J=f+(V+1)+I*(W+1),ue=f+(V+1)+I*W;l.push(f+V+I*W,$,ue),l.push($,J,ue),F+=6}a.addGroup(h,F,x),h+=F,f+=D}p("z","y","x",-1,-1,i,t,e,o,s,0),p("z","y","x",1,-1,i,t,-e,o,s,1),p("x","z","y",1,1,e,i,t,r,o,2),p("x","z","y",1,-1,e,i,-t,r,o,3),p("x","y","z",1,-1,e,t,i,r,s,4),p("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Le(c,3)),this.setAttribute("normal",new Le(u,3)),this.setAttribute("uv",new Le(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function iu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function Mi(n){const e={};for(let t=0;t<n.length;t++){const i=iu(n[t]);for(const r in i)e[r]=i[r]}return e}function LR(n){return null===n.getRenderTarget()?n.outputColorSpace:_s}const eq={clone:iu,merge:Mi};class bi extends ho{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=iu(e.uniforms),this.uniformsGroups=function JX(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Qm extends Vi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new st,this.projectionMatrix=new st,this.projectionMatrixInverse=new st,this.coordinateSystem=ro}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Un extends Qm{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Bc*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*$a*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Bc*Math.atan(Math.tan(.5*$a*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*$a*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class iq extends Vi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new Un(-90,1,e,t);r.layers=this.layers,this.add(r);const s=new Un(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new Un(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new Un(-90,1,e,t);a.layers=this.layers,this.add(a);const l=new Un(-90,1,e,t);l.layers=this.layers,this.add(l);const c=new Un(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===ro)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.xr.enabled;e.xr.enabled=!1;const f=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=f,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class Km extends xs{constructor(e,t,i,r,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:Xo,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class rq extends Si{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];void 0!==t.encoding&&(yf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===io?lt:Za),this.texture=new Km(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:$t}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new nu(5,5,5),s=new bi({name:"CubemapFromEquirect",uniforms:iu(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:jn,blending:zi});s.uniforms.tEquirect.value=t;const o=new Wi(r,s),a=t.minFilter;return t.minFilter===Xa&&(t.minFilter=$t),new iq(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const Bx=new L,sq=new L,oq=new gt;class Jo{constructor(e=new L(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=Bx.subVectors(i,t).cross(sq.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(Bx),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||oq.getNormalMatrix(e),r=this.coplanarPoint(Bx).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const il=new Ss,Zm=new L;class kx{constructor(e=new Jo,t=new Jo,i=new Jo,r=new Jo,s=new Jo,o=new Jo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=ro){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],f=r[7],h=r[8],p=r[9],m=r[10],g=r[11],v=r[12],_=r[13],y=r[14],w=r[15];if(i[0].setComponents(l-s,f-c,g-h,w-v).normalize(),i[1].setComponents(l+s,f+c,g+h,w+v).normalize(),i[2].setComponents(l+o,f+u,g+p,w+_).normalize(),i[3].setComponents(l-o,f-u,g-p,w-_).normalize(),i[4].setComponents(l-a,f-d,g-m,w-y).normalize(),t===ro)i[5].setComponents(l+a,f+d,g+m,w+y).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(a,d,m,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),il.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),il.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(il)}intersectsSprite(e){return il.center.set(0,0,0),il.radius=.7071067811865476,il.applyMatrix4(e.matrixWorld),this.intersectsSphere(il)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Zm.x=r.normal.x>0?e.max.x:e.min.x,Zm.y=r.normal.y>0?e.max.y:e.min.y,Zm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Zm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function OR(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function aq(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))},update:function l(c,u){if(c.isGLBufferAttribute){const f=i.get(c);return void((!f||f.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);void 0===d?i.set(c,function r(c,u){const d=c.array,f=c.usage,h=n.createBuffer();let p;if(n.bindBuffer(u,h),n.bufferData(u,d,f),c.onUploadCallback(),d instanceof Float32Array)p=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=n.HALF_FLOAT}else p=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)p=n.SHORT;else if(d instanceof Uint32Array)p=n.UNSIGNED_INT;else if(d instanceof Int32Array)p=n.INT;else if(d instanceof Int8Array)p=n.BYTE;else if(d instanceof Uint8Array)p=n.UNSIGNED_BYTE;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);p=n.UNSIGNED_BYTE}return{buffer:h,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}(c,u)):d.version<c.version&&(function s(c,u,d){const f=u.array,h=u.updateRange;n.bindBuffer(d,c),-1===h.count?n.bufferSubData(d,0,f):(t?n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1),u.onUploadCallback()}(d.buffer,c,u),d.version=c.version)}}}class $m extends ft{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,f=t/l,h=[],p=[],m=[],g=[];for(let v=0;v<u;v++){const _=v*f-o;for(let y=0;y<c;y++)p.push(y*d-s,-_,0),m.push(0,0,1),g.push(y/a),g.push(1-v/l)}for(let v=0;v<l;v++)for(let _=0;_<a;_++){const w=_+c*(v+1),S=_+1+c*(v+1),E=_+1+c*v;h.push(_+c*v,w,E),h.push(w,S,E)}this.setIndex(h),this.setAttribute("position",new Le(p,3)),this.setAttribute("normal",new Le(m,3)),this.setAttribute("uv",new Le(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $m(e.width,e.height,e.widthSegments,e.heightSegments)}}const ht={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},we={common:{diffuse:{value:new Ce(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new gt},alphaMap:{value:null},alphaMapTransform:{value:new gt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new gt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new gt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new gt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new gt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new gt},normalScale:{value:new ee(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new gt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new gt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new gt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new gt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ce(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ce(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new gt},alphaTest:{value:0},uvTransform:{value:new gt}},sprite:{diffuse:{value:new Ce(16777215)},opacity:{value:1},center:{value:new ee(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new gt},alphaMap:{value:null},alphaMapTransform:{value:new gt},alphaTest:{value:0}}},Es={basic:{uniforms:Mi([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.fog]),vertexShader:ht.meshbasic_vert,fragmentShader:ht.meshbasic_frag},lambert:{uniforms:Mi([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.fog,we.lights,{emissive:{value:new Ce(0)}}]),vertexShader:ht.meshlambert_vert,fragmentShader:ht.meshlambert_frag},phong:{uniforms:Mi([we.common,we.specularmap,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.fog,we.lights,{emissive:{value:new Ce(0)},specular:{value:new Ce(1118481)},shininess:{value:30}}]),vertexShader:ht.meshphong_vert,fragmentShader:ht.meshphong_frag},standard:{uniforms:Mi([we.common,we.envmap,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.roughnessmap,we.metalnessmap,we.fog,we.lights,{emissive:{value:new Ce(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ht.meshphysical_vert,fragmentShader:ht.meshphysical_frag},toon:{uniforms:Mi([we.common,we.aomap,we.lightmap,we.emissivemap,we.bumpmap,we.normalmap,we.displacementmap,we.gradientmap,we.fog,we.lights,{emissive:{value:new Ce(0)}}]),vertexShader:ht.meshtoon_vert,fragmentShader:ht.meshtoon_frag},matcap:{uniforms:Mi([we.common,we.bumpmap,we.normalmap,we.displacementmap,we.fog,{matcap:{value:null}}]),vertexShader:ht.meshmatcap_vert,fragmentShader:ht.meshmatcap_frag},points:{uniforms:Mi([we.points,we.fog]),vertexShader:ht.points_vert,fragmentShader:ht.points_frag},dashed:{uniforms:Mi([we.common,we.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ht.linedashed_vert,fragmentShader:ht.linedashed_frag},depth:{uniforms:Mi([we.common,we.displacementmap]),vertexShader:ht.depth_vert,fragmentShader:ht.depth_frag},normal:{uniforms:Mi([we.common,we.bumpmap,we.normalmap,we.displacementmap,{opacity:{value:1}}]),vertexShader:ht.meshnormal_vert,fragmentShader:ht.meshnormal_frag},sprite:{uniforms:Mi([we.sprite,we.fog]),vertexShader:ht.sprite_vert,fragmentShader:ht.sprite_frag},background:{uniforms:{uvTransform:{value:new gt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ht.background_vert,fragmentShader:ht.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ht.backgroundCube_vert,fragmentShader:ht.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ht.cube_vert,fragmentShader:ht.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ht.equirect_vert,fragmentShader:ht.equirect_frag},distanceRGBA:{uniforms:Mi([we.common,we.displacementmap,{referencePosition:{value:new L},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ht.distanceRGBA_vert,fragmentShader:ht.distanceRGBA_frag},shadow:{uniforms:Mi([we.lights,we.fog,{color:{value:new Ce(0)},opacity:{value:1}}]),vertexShader:ht.shadow_vert,fragmentShader:ht.shadow_frag}};Es.physical={uniforms:Mi([Es.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new gt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new gt},clearcoatNormalScale:{value:new ee(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new gt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new gt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new gt},sheen:{value:0},sheenColor:{value:new Ce(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new gt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new gt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new gt},transmissionSamplerSize:{value:new ee},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new gt},attenuationDistance:{value:0},attenuationColor:{value:new Ce(0)},specularColor:{value:new Ce(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new gt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new gt},anisotropyVector:{value:new ee},anisotropyMap:{value:null},anisotropyMapTransform:{value:new gt}}]),vertexShader:ht.meshphysical_vert,fragmentShader:ht.meshphysical_frag};const Jm={r:0,b:0,g:0};function sK(n,e,t,i,r,s,o){const a=new Ce(0);let c,u,l=!0===s?0:1,d=null,f=0,h=null;function m(g,v){g.getRGB(Jm,LR(n)),i.buffers.color.setClear(Jm.r,Jm.g,Jm.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(g,v=1){a.set(g),l=v,m(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(g){l=g,m(a,l)},render:function p(g,v){let _=!1,y=!0===v.isScene?v.background:null;switch(y&&y.isTexture&&(y=(v.backgroundBlurriness>0?t:e).get(y)),null===y?m(a,l):y&&y.isColor&&(m(y,1),_=!0),n.xr.getEnvironmentBlendMode()){case"opaque":_=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),_=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),_=!0}(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),y&&(y.isCubeTexture||y.mapping===hf)?(void 0===u&&(u=new Wi(new nu(1,1,1),new bi({name:"BackgroundCubeMaterial",uniforms:iu(Es.backgroundCube.uniforms),vertexShader:Es.backgroundCube.vertexShader,fragmentShader:Es.backgroundCube.fragmentShader,side:jn,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(E,M,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=y,u.material.uniforms.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=y.colorSpace!==lt,(d!==y||f!==y.version||h!==n.toneMapping)&&(u.material.needsUpdate=!0,d=y,f=y.version,h=n.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):y&&y.isTexture&&(void 0===c&&(c=new Wi(new $m(2,2),new bi({name:"BackgroundMaterial",uniforms:iu(Es.background.uniforms),vertexShader:Es.background.vertexShader,fragmentShader:Es.background.fragmentShader,side:eo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=y,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=y.colorSpace!==lt,!0===y.matrixAutoUpdate&&y.updateMatrix(),c.material.uniforms.uvTransform.value.copy(y.matrix),(d!==y||f!==y.version||h!==n.toneMapping)&&(c.material.needsUpdate=!0,d=y,f=y.version,h=n.toneMapping),c.layers.enableAll(),g.unshift(c,c.geometry,c.material,0,0,null))}}}function oK(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==s,a={},l=g(null);let c=l,u=!1;function h(T){return i.isWebGL2?n.bindVertexArray(T):s.bindVertexArrayOES(T)}function p(T){return i.isWebGL2?n.deleteVertexArray(T):s.deleteVertexArrayOES(T)}function g(T){const I=[],O=[],D=[];for(let F=0;F<r;F++)I[F]=0,O[F]=0,D[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:O,attributeDivisors:D,object:T,attributes:{},index:null}}function y(){const T=c.newAttributes;for(let I=0,O=T.length;I<O;I++)T[I]=0}function w(T){S(T,0)}function S(T,I){const D=c.enabledAttributes,F=c.attributeDivisors;c.newAttributes[T]=1,0===D[T]&&(n.enableVertexAttribArray(T),D[T]=1),F[T]!==I&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](T,I),F[T]=I)}function E(){const T=c.newAttributes,I=c.enabledAttributes;for(let O=0,D=I.length;O<D;O++)I[O]!==T[O]&&(n.disableVertexAttribArray(O),I[O]=0)}function M(T,I,O,D,F,B,W){!0===W?n.vertexAttribIPointer(T,I,O,F,B):n.vertexAttribPointer(T,I,O,D,F,B)}function N(){C(),u=!0,c!==l&&(c=l,h(c.object))}function C(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function d(T,I,O,D,F){let B=!1;if(o){const W=function m(T,I,O){const D=!0===O.wireframe;let F=a[T.id];void 0===F&&(F={},a[T.id]=F);let B=F[I.id];void 0===B&&(B={},F[I.id]=B);let W=B[D];return void 0===W&&(W=g(function f(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),B[D]=W),W}(D,O,I);c!==W&&(c=W,h(c.object)),B=function v(T,I,O,D){const F=c.attributes,B=I.attributes;let W=0;const V=O.getAttributes();for(const Y in V)if(V[Y].location>=0){const J=F[Y];let ue=B[Y];if(void 0===ue&&("instanceMatrix"===Y&&T.instanceMatrix&&(ue=T.instanceMatrix),"instanceColor"===Y&&T.instanceColor&&(ue=T.instanceColor)),void 0===J||J.attribute!==ue||ue&&J.data!==ue.data)return!0;W++}return c.attributesNum!==W||c.index!==D}(T,D,O,F),B&&function _(T,I,O,D){const F={},B=I.attributes;let W=0;const V=O.getAttributes();for(const Y in V)if(V[Y].location>=0){let J=B[Y];void 0===J&&("instanceMatrix"===Y&&T.instanceMatrix&&(J=T.instanceMatrix),"instanceColor"===Y&&T.instanceColor&&(J=T.instanceColor));const ue={};ue.attribute=J,J&&J.data&&(ue.data=J.data),F[Y]=ue,W++}c.attributes=F,c.attributesNum=W,c.index=D}(T,D,O,F)}else{const W=!0===I.wireframe;(c.geometry!==D.id||c.program!==O.id||c.wireframe!==W)&&(c.geometry=D.id,c.program=O.id,c.wireframe=W,B=!0)}null!==F&&t.update(F,n.ELEMENT_ARRAY_BUFFER),(B||u)&&(u=!1,function b(T,I,O,D){if(!1===i.isWebGL2&&(T.isInstancedMesh||D.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;y();const F=D.attributes,B=O.getAttributes(),W=I.defaultAttributeValues;for(const V in B){const Y=B[V];if(Y.location>=0){let $=F[V];if(void 0===$&&("instanceMatrix"===V&&T.instanceMatrix&&($=T.instanceMatrix),"instanceColor"===V&&T.instanceColor&&($=T.instanceColor)),void 0!==$){const J=$.normalized,ue=$.itemSize,Pe=t.get($);if(void 0===Pe)continue;const ye=Pe.buffer,Ie=Pe.type,je=Pe.bytesPerElement,At=!0===i.isWebGL2&&(Ie===n.INT||Ie===n.UNSIGNED_INT||$.gpuType===R2);if($.isInterleavedBufferAttribute){const Be=$.data,z=Be.stride,pe=$.offset;if(Be.isInstancedInterleavedBuffer){for(let ie=0;ie<Y.locationSize;ie++)S(Y.location+ie,Be.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===D._maxInstanceCount&&(D._maxInstanceCount=Be.meshPerAttribute*Be.count)}else for(let ie=0;ie<Y.locationSize;ie++)w(Y.location+ie);n.bindBuffer(n.ARRAY_BUFFER,ye);for(let ie=0;ie<Y.locationSize;ie++)M(Y.location+ie,ue/Y.locationSize,Ie,J,z*je,(pe+ue/Y.locationSize*ie)*je,At)}else{if($.isInstancedBufferAttribute){for(let Be=0;Be<Y.locationSize;Be++)S(Y.location+Be,$.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===D._maxInstanceCount&&(D._maxInstanceCount=$.meshPerAttribute*$.count)}else for(let Be=0;Be<Y.locationSize;Be++)w(Y.location+Be);n.bindBuffer(n.ARRAY_BUFFER,ye);for(let Be=0;Be<Y.locationSize;Be++)M(Y.location+Be,ue/Y.locationSize,Ie,J,ue*je,ue/Y.locationSize*Be*je,At)}}else if(void 0!==W){const J=W[V];if(void 0!==J)switch(J.length){case 2:n.vertexAttrib2fv(Y.location,J);break;case 3:n.vertexAttrib3fv(Y.location,J);break;case 4:n.vertexAttrib4fv(Y.location,J);break;default:n.vertexAttrib1fv(Y.location,J)}}}}E()}(T,I,O,D),null!==F&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(F).buffer))},reset:N,resetDefaultState:C,dispose:function x(){N();for(const T in a){const I=a[T];for(const O in I){const D=I[O];for(const F in D)p(D[F].object),delete D[F];delete I[O]}delete a[T]}},releaseStatesOfGeometry:function A(T){if(void 0===a[T.id])return;const I=a[T.id];for(const O in I){const D=I[O];for(const F in D)p(D[F].object),delete D[F];delete I[O]}delete a[T.id]},releaseStatesOfProgram:function R(T){for(const I in a){const O=a[I];if(void 0===O[T.id])continue;const D=O[T.id];for(const F in D)p(D[F].object),delete D[F];delete O[T.id]}},initAttributes:y,enableAttribute:w,disableUnusedAttributes:E}}function aK(n,e,t,i){const r=i.isWebGL2;let s;this.setMode=function o(c){s=c},this.render=function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)},this.renderInstances=function l(c,u,d){if(0===d)return;let f,h;if(r)f=n,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",null===f)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");f[h](s,c,u,d),t.update(u,s,d)}}function lK(n,e,t){let i;function s(M){if("highp"===M){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return"mediump"===M&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let a=void 0!==t.precision?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),_=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),y=f>0,w=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const M=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:_,vertexTextures:y,floatFragmentTextures:w,floatVertexTextures:y&&w,maxSamples:o?n.getParameter(n.MAX_SAMPLES):0}}function cK(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Jo,a=new gt,l={value:null,needsUpdate:!1};function u(d,f,h,p){const m=null!==d?d.length:0;let g=null;if(0!==m){if(g=l.value,!0!==p||null===g){const v=h+4*m,_=f.matrixWorldInverse;a.getNormalMatrix(_),(null===g||g.length<v)&&(g=new Float32Array(v));for(let y=0,w=h;y!==m;++y,w+=4)o.copy(d[y]).applyMatrix4(_,a),o.normal.toArray(g,w),g[w+3]=o.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=0!==d.length||f||0!==i||r;return r=f,i=d.length,h},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){t=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,g=d.clipShadows,v=n.get(d);if(!r||null===p||0===p.length||s&&!g)s?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const _=s?0:i,y=4*_;let w=v.clippingState||null;l.value=w,w=u(p,f,y,h);for(let S=0;S!==y;++S)w[S]=t[S];v.clippingState=w,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=_}}}function uK(n){let e=new WeakMap;function t(o,a){return a===wm?o.mapping=Xo:a===xm&&(o.mapping=Ya),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function i(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(a===wm||a===xm){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new rq(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}class zx extends Qm{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const NR=[.125,.215,.35,.446,.526,.582],Hx=new zx,FR=new Ce;let Vx=null;const sl=(1+Math.sqrt(5))/2,au=1/sl,UR=[new L(1,1,1),new L(-1,1,1),new L(1,1,-1),new L(-1,1,-1),new L(0,sl,au),new L(0,sl,-au),new L(au,0,sl),new L(-au,0,sl),new L(sl,au,0),new L(-sl,au,0)];class BR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){Vx=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=HR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=zR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Vx),e.scissorTest=!1,eg(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Xo||e.mapping===Ya?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),Vx=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:$t,minFilter:$t,generateMipmaps:!1,type:pf,format:Ir,colorSpace:_s,depthBuffer:!1},r=kR(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=kR(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function dK(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+NR.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-4?l=NR[o-n+4-1]:0===o&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,g=2,v=1,_=new Float32Array(m*p*h),y=new Float32Array(g*p*h),w=new Float32Array(v*p*h);for(let E=0;E<h;E++){const M=E%3*2/3-1,b=E>2?0:-1;_.set([M,b,0,M+2/3,b,0,M+2/3,b+1,0,M,b,0,M+2/3,b+1,0,M,b+1,0],m*p*E),y.set(f,g*p*E),w.set([E,E,E,E,E,E],v*p*E)}const S=new ft;S.setAttribute("position",new pn(_,m)),S.setAttribute("uv",new pn(y,g)),S.setAttribute("faceIndex",new pn(w,v)),e.push(S),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function fK(n,e,t){const i=new Float32Array(20),r=new L(0,1,0);return new bi({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:zi,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new Wi(this._lodPlanes[0],e);this._renderer.compile(t,Hx)}_sceneToCubeUV(e,t,i,r){const a=new Un(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(FR),u.toneMapping=Yo,u.autoClear=!1;const h=new tl({name:"PMREM.Background",side:jn,depthWrite:!1,depthTest:!1}),p=new Wi(new nu,h);let m=!1;const g=e.background;g?g.isColor&&(h.color.copy(g),e.background=null,m=!0):(h.color.copy(FR),m=!0);for(let v=0;v<6;v++){const _=v%3;0===_?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):1===_?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const y=this._cubeSize;eg(r,_*y,v>2?y:0,y,y),u.setRenderTarget(r),m&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Xo||e.mapping===Ya;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=HR()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=zR());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Wi(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;eg(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,Hx)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,UR[(r-1)%UR.length])}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new Wi(this._lodPlanes[r],c),f=c.uniforms,h=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*h):2*Math.PI/39,m=s/p,g=isFinite(s)?1+Math.floor(3*m):20;g>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const v=[];let _=0;for(let M=0;M<20;++M){const b=M/m,x=Math.exp(-b*b/2);v.push(x),0===M?_+=x:M<g&&(_+=2*x)}for(let M=0;M<v.length;M++)v[M]=v[M]/_;f.envMap.value=e.texture,f.samples.value=g,f.weights.value=v,f.latitudinal.value="latitudinal"===o,a&&(f.poleAxis.value=a);const{_lodMax:y}=this;f.dTheta.value=p,f.mipInt.value=y-i;const w=this._sizeLods[r];eg(t,3*w*(r>y-4?r-y+4:0),4*(this._cubeSize-w),3*w,2*w),l.setRenderTarget(t),l.render(d,Hx)}}function kR(n,e,t){const i=new Si(n,e,t);return i.texture.mapping=hf,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function eg(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function zR(){return new bi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:zi,depthTest:!1,depthWrite:!1})}function HR(){return new bi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:zi,depthTest:!1,depthWrite:!1})}function hK(n){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===wm||l===xm,u=l===Xo||l===Ya;if(c||u){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let d=e.get(a);return null===t&&(t=new BR(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&function r(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(d)){null===t&&(t=new BR(n));const f=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}return null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function pK(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function mK(n,e,t,i){const r={},s=new WeakMap;function o(d){const f=d.target;null!==f.index&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);for(const p in f.morphAttributes){const m=f.morphAttributes[p];for(let g=0,v=m.length;g<v;g++)e.remove(m[g])}f.removeEventListener("dispose",o),delete r[f.id];const h=s.get(f);h&&(e.remove(h),s.delete(f)),i.releaseStatesOfGeometry(f),!0===f.isInstancedBufferGeometry&&delete f._maxInstanceCount,t.memory.geometries--}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(null!==h){const _=h.array;m=h.version;for(let y=0,w=_.length;y<w;y+=3){const S=_[y+0],E=_[y+1],M=_[y+2];f.push(S,E,E,M,M,S)}}else{if(void 0===p)return;m=p.version;for(let y=0,w=p.array.length/3-1;y<w;y+=3){const S=y+0,E=y+1,M=y+2;f.push(S,E,E,M,M,S)}}const g=new(fR(f)?TR:AR)(f,1);g.version=m;const v=s.get(d);v&&e.remove(v),s.set(d,g)}return{get:function a(d,f){return!0===r[f.id]||(f.addEventListener("dispose",o),r[f.id]=!0,t.memory.geometries++),f},update:function l(d){const f=d.attributes;for(const p in f)e.update(f[p],n.ARRAY_BUFFER);const h=d.morphAttributes;for(const p in h){const m=h[p];for(let g=0,v=m.length;g<v;g++)e.update(m[g],n.ARRAY_BUFFER)}},getWireframeAttribute:function u(d){const f=s.get(d);if(f){const h=d.index;null!==h&&f.version<h.version&&c(d)}else c(d);return s.get(d)}}}function gK(n,e,t,i){const r=i.isWebGL2;let s,a,l;this.setMode=function o(f){s=f},this.setIndex=function c(f){a=f.type,l=f.bytesPerElement},this.render=function u(f,h){n.drawElements(s,h,a,f*l),t.update(h,s,1)},this.renderInstances=function d(f,h,p){if(0===p)return;let m,g;if(r)m=n,g="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",null===m)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m[g](s,h,a,f*l,p),t.update(h,s,p)}}function vK(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function yK(n,e){return n[0]-e[0]}function _K(n,e){return Math.abs(e[1])-Math.abs(n[1])}function wK(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Ot,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,u,d){const f=c.morphTargetInfluences;if(!0===e.isWebGL2){const h=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==h?h.length:0;let m=s.get(u);if(void 0===m||m.count!==p){let T=function(){N.dispose(),s.delete(u),u.removeEventListener("dispose",T)};void 0!==m&&m.texture.dispose();const _=void 0!==u.morphAttributes.position,y=void 0!==u.morphAttributes.normal,w=void 0!==u.morphAttributes.color,S=u.morphAttributes.position||[],E=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let b=0;!0===_&&(b=1),!0===y&&(b=2),!0===w&&(b=3);let x=u.attributes.position.count*b,A=1;x>e.maxTextureSize&&(A=Math.ceil(x/e.maxTextureSize),x=e.maxTextureSize);const R=new Float32Array(x*A*4*p),N=new Ex(R,x,A,p);N.type=no,N.needsUpdate=!0;const C=4*b;for(let I=0;I<p;I++){const O=S[I],D=E[I],F=M[I],B=x*A*4*I;for(let W=0;W<O.count;W++){const V=W*C;!0===_&&(o.fromBufferAttribute(O,W),R[B+V+0]=o.x,R[B+V+1]=o.y,R[B+V+2]=o.z,R[B+V+3]=0),!0===y&&(o.fromBufferAttribute(D,W),R[B+V+4]=o.x,R[B+V+5]=o.y,R[B+V+6]=o.z,R[B+V+7]=0),!0===w&&(o.fromBufferAttribute(F,W),R[B+V+8]=o.x,R[B+V+9]=o.y,R[B+V+10]=o.z,R[B+V+11]=4===F.itemSize?o.w:1)}}m={count:p,texture:N,size:new ee(x,A)},s.set(u,m),u.addEventListener("dispose",T)}let g=0;for(let _=0;_<f.length;_++)g+=f[_];const v=u.morphTargetsRelative?1:1-g;d.getUniforms().setValue(n,"morphTargetBaseInfluence",v),d.getUniforms().setValue(n,"morphTargetInfluences",f),d.getUniforms().setValue(n,"morphTargetsTexture",m.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",m.size)}else{const h=void 0===f?0:f.length;let p=i[u.id];if(void 0===p||p.length!==h){p=[];for(let y=0;y<h;y++)p[y]=[y,0];i[u.id]=p}for(let y=0;y<h;y++){const w=p[y];w[0]=y,w[1]=f[y]}p.sort(_K);for(let y=0;y<8;y++)y<h&&p[y][1]?(a[y][0]=p[y][0],a[y][1]=p[y][1]):(a[y][0]=Number.MAX_SAFE_INTEGER,a[y][1]=0);a.sort(yK);const m=u.morphAttributes.position,g=u.morphAttributes.normal;let v=0;for(let y=0;y<8;y++){const w=a[y],S=w[0],E=w[1];S!==Number.MAX_SAFE_INTEGER&&E?(m&&u.getAttribute("morphTarget"+y)!==m[S]&&u.setAttribute("morphTarget"+y,m[S]),g&&u.getAttribute("morphNormal"+y)!==g[S]&&u.setAttribute("morphNormal"+y,g[S]),r[y]=E,v+=E):(m&&!0===u.hasAttribute("morphTarget"+y)&&u.deleteAttribute("morphTarget"+y),g&&!0===u.hasAttribute("morphNormal"+y)&&u.deleteAttribute("morphNormal"+y),r[y]=0)}const _=u.morphTargetsRelative?1:1-v;d.getUniforms().setValue(n,"morphTargetBaseInfluence",_),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function xK(n,e,t,i){let r=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=i.render.frame,d=e.get(l,l.geometry);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;r.get(f)!==c&&(f.update(),r.set(f,c))}return d},dispose:function o(){r=new WeakMap}}}const VR=new xs,GR=new Ex,WR=new mR,jR=new Km,YR=[],XR=[],qR=new Float32Array(16),QR=new Float32Array(9),KR=new Float32Array(4);function lu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=YR[r];if(void 0===s&&(s=new Float32Array(r),YR[r]=s),0!==e){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Bn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function kn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function tg(n,e){let t=XR[e];void 0===t&&(t=new Int32Array(e),XR[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function SK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function EK(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2fv(this.addr,e),kn(t,e)}}function MK(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Bn(t,e))return;n.uniform3fv(this.addr,e),kn(t,e)}}function bK(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4fv(this.addr,e),kn(t,e)}}function AK(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Bn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),kn(t,e)}else{if(Bn(t,i))return;KR.set(i),n.uniformMatrix2fv(this.addr,!1,KR),kn(t,i)}}function TK(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Bn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),kn(t,e)}else{if(Bn(t,i))return;QR.set(i),n.uniformMatrix3fv(this.addr,!1,QR),kn(t,i)}}function CK(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Bn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),kn(t,e)}else{if(Bn(t,i))return;qR.set(i),n.uniformMatrix4fv(this.addr,!1,qR),kn(t,i)}}function DK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function PK(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2iv(this.addr,e),kn(t,e)}}function IK(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bn(t,e))return;n.uniform3iv(this.addr,e),kn(t,e)}}function RK(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4iv(this.addr,e),kn(t,e)}}function LK(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function OK(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2uiv(this.addr,e),kn(t,e)}}function NK(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bn(t,e))return;n.uniform3uiv(this.addr,e),kn(t,e)}}function FK(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4uiv(this.addr,e),kn(t,e)}}function UK(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||VR,r)}function BK(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||WR,r)}function kK(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||jR,r)}function zK(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||GR,r)}function VK(n,e){n.uniform1fv(this.addr,e)}function GK(n,e){const t=lu(e,this.size,2);n.uniform2fv(this.addr,t)}function WK(n,e){const t=lu(e,this.size,3);n.uniform3fv(this.addr,t)}function jK(n,e){const t=lu(e,this.size,4);n.uniform4fv(this.addr,t)}function YK(n,e){const t=lu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function XK(n,e){const t=lu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function qK(n,e){const t=lu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function QK(n,e){n.uniform1iv(this.addr,e)}function KK(n,e){n.uniform2iv(this.addr,e)}function ZK(n,e){n.uniform3iv(this.addr,e)}function $K(n,e){n.uniform4iv(this.addr,e)}function JK(n,e){n.uniform1uiv(this.addr,e)}function eZ(n,e){n.uniform2uiv(this.addr,e)}function tZ(n,e){n.uniform3uiv(this.addr,e)}function nZ(n,e){n.uniform4uiv(this.addr,e)}function iZ(n,e,t){const i=this.cache,r=e.length,s=tg(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||VR,s[o])}function rZ(n,e,t){const i=this.cache,r=e.length,s=tg(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||WR,s[o])}function sZ(n,e,t){const i=this.cache,r=e.length,s=tg(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||jR,s[o])}function oZ(n,e,t){const i=this.cache,r=e.length,s=tg(t,r);Bn(i,s)||(n.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||GR,s[o])}class lZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function HK(n){switch(n){case 5126:return SK;case 35664:return EK;case 35665:return MK;case 35666:return bK;case 35674:return AK;case 35675:return TK;case 35676:return CK;case 5124:case 35670:return DK;case 35667:case 35671:return PK;case 35668:case 35672:return IK;case 35669:case 35673:return RK;case 5125:return LK;case 36294:return OK;case 36295:return NK;case 36296:return FK;case 35678:case 36198:case 36298:case 36306:case 35682:return UK;case 35679:case 36299:case 36307:return BK;case 35680:case 36300:case 36308:case 36293:return kK;case 36289:case 36303:case 36311:case 36292:return zK}}(t.type)}}class cZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function aZ(n){switch(n){case 5126:return VK;case 35664:return GK;case 35665:return WK;case 35666:return jK;case 35674:return YK;case 35675:return XK;case 35676:return qK;case 5124:case 35670:return QK;case 35667:case 35671:return KK;case 35668:case 35672:return ZK;case 35669:case 35673:return $K;case 5125:return JK;case 36294:return eZ;case 36295:return tZ;case 36296:return nZ;case 35678:case 36198:case 36298:case 36306:case 35682:return iZ;case 35679:case 36299:case 36307:return rZ;case 35680:case 36300:case 36308:case 36293:return sZ;case 36289:case 36303:case 36311:case 36292:return oZ}}(t.type)}}class uZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const Wx=/(\w+)(\])?(\[|\.)?/g;function ZR(n,e){n.seq.push(e),n.map[e.id]=e}function dZ(n,e,t){const i=n.name,r=i.length;for(Wx.lastIndex=0;;){const s=Wx.exec(i);let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&Wx.lastIndex+2===r){ZR(t,void 0===c?new lZ(a,n,e):new cZ(a,n,e));break}{let d=t.map[a];void 0===d&&(d=new uZ(a),ZR(t,d)),t=d}}}class ng{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);dZ(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function $R(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let fZ=0;function JR(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function hZ(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join("\n")}(n.getShaderSource(e),o)}return r}function mZ(n,e){const t=function pZ(n){switch(n){case _s:return["Linear","( value )"];case lt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function gZ(n,e){let t;switch(e){case WY:t="Linear";break;case jY:t="Reinhard";break;case YY:t="OptimizedCineon";break;case XY:t="ACESFilmic";break;case qY:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Mf(n){return""!==n}function eL(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function tL(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const wZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function jx(n){return n.replace(wZ,SZ)}const xZ=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function SZ(n,e){let t=ht[e];if(void 0===t){const i=xZ.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=ht[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return jx(t)}const EZ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nL(n){return n.replace(EZ,MZ)}function MZ(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function iL(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function PZ(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function bZ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===E2?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===SY?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Js&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function AZ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Xo:case Ya:e="ENVMAP_TYPE_CUBE";break;case hf:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function TZ(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===Ya&&(e="ENVMAP_MODE_REFRACTION"),e}(t),d=function CZ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case _m:e="ENVMAP_BLENDING_MULTIPLY";break;case VY:e="ENVMAP_BLENDING_MIX";break;case GY:e="ENVMAP_BLENDING_ADD"}return e}(t),f=function DZ(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),h=t.isWebGL2?"":function vZ(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Mf).join("\n")}(t),p=function yZ(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),m=r.createProgram();let g,v,_=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(Mf).join("\n"),g.length>0&&(g+="\n"),v=[h,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(Mf).join("\n"),v.length>0&&(v+="\n")):(g=[iL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Mf).join("\n"),v=[h,iL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Yo?"#define TONE_MAPPING":"",t.toneMapping!==Yo?ht.tonemapping_pars_fragment:"",t.toneMapping!==Yo?gZ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ht.colorspace_pars_fragment,mZ("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(Mf).join("\n")),o=jx(o),o=eL(o,t),o=tL(o,t),a=jx(a),a=eL(a,t),a=tL(a,t),o=nL(o),a=nL(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(_="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",t.glslVersion===cR?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===cR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const w=_+v+a,S=$R(r,r.VERTEX_SHADER,_+g+o),E=$R(r,r.FRAGMENT_SHADER,w);if(r.attachShader(m,S),r.attachShader(m,E),void 0!==t.index0AttributeName?r.bindAttribLocation(m,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),n.debug.checkShaderErrors){const x=r.getProgramInfoLog(m).trim(),A=r.getShaderInfoLog(S).trim(),R=r.getShaderInfoLog(E).trim();let N=!0,C=!0;if(!1===r.getProgramParameter(m,r.LINK_STATUS))if(N=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,m,S,E);else{const T=JR(r,S,"vertex"),I=JR(r,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+x+"\n"+T+"\n"+I)}else""!==x?console.warn("THREE.WebGLProgram: Program Info Log:",x):(""===A||""===R)&&(C=!1);C&&(this.diagnostics={runnable:N,programLog:x,vertexShader:{log:A,prefix:g},fragmentShader:{log:R,prefix:v}})}let M,b;return r.deleteShader(S),r.deleteShader(E),this.getUniforms=function(){return void 0===M&&(M=new ng(r,m)),M},this.getAttributes=function(){return void 0===b&&(b=function _Z(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(r,m)),b},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=fZ++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=S,this.fragmentShader=E,this}let IZ=0;class RZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new LZ(e),t.set(e,i)),i}}class LZ{constructor(e){this.id=IZ++,this.code=e,this.usedTimes=0}}function OZ(n,e,t,i,r,s,o){const a=new Px,l=new RZ,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,f=r.vertexTextures;let h=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(x){return 0===x?"uv":`uv${x}`}return{getParameters:function g(x,A,R,N,C){const T=N.fog,I=C.geometry,D=(x.isMeshStandardMaterial?t:e).get(x.envMap||(x.isMeshStandardMaterial?N.environment:null)),F=D&&D.mapping===hf?D.image.height:null,B=p[x.type];null!==x.precision&&(h=r.getMaxPrecision(x.precision),h!==x.precision&&console.warn("THREE.WebGLProgram.getParameters:",x.precision,"not supported, using",h,"instead."));const W=I.morphAttributes.position||I.morphAttributes.normal||I.morphAttributes.color,V=void 0!==W?W.length:0;let $,J,ue,Pe,Y=0;if(void 0!==I.morphAttributes.position&&(Y=1),void 0!==I.morphAttributes.normal&&(Y=2),void 0!==I.morphAttributes.color&&(Y=3),B){const Zt=Es[B];$=Zt.vertexShader,J=Zt.fragmentShader}else $=x.vertexShader,J=x.fragmentShader,l.update(x),ue=l.getVertexShaderID(x),Pe=l.getFragmentShaderID(x);const ye=n.getRenderTarget(),Ie=!0===C.isInstancedMesh,je=!!x.map,Be=!!D,z=!!x.aoMap,pe=!!x.lightMap,ie=!!x.bumpMap,de=!!x.normalMap,ae=!!x.displacementMap,Ne=!!x.emissiveMap,Ee=!!x.metalnessMap,Te=!!x.roughnessMap,Ke=x.anisotropy>0,wt=x.clearcoat>0,en=x.iridescence>0,k=x.sheen>0,P=x.transmission>0,Q=Ke&&!!x.anisotropyMap,me=wt&&!!x.clearcoatMap,ce=wt&&!!x.clearcoatNormalMap,ge=wt&&!!x.clearcoatRoughnessMap,Ue=en&&!!x.iridescenceMap,ve=en&&!!x.iridescenceThicknessMap,Z=k&&!!x.sheenColorMap,H=k&&!!x.sheenRoughnessMap,le=!!x.specularMap,be=!!x.specularColorMap,_e=!!x.specularIntensityMap,Me=P&&!!x.transmissionMap,it=P&&!!x.thicknessMap,G=!!x.alphaMap,he=!!x.extensions,Se=!!I.attributes.uv1,yt=!!I.attributes.uv2,Ut=!!I.attributes.uv3;let Kt=Yo;return x.toneMapped&&(null===ye||!0===ye.isXRRenderTarget)&&(Kt=n.toneMapping),{isWebGL2:u,shaderID:B,shaderType:x.type,shaderName:x.name,vertexShader:$,fragmentShader:J,defines:x.defines,customVertexShaderID:ue,customFragmentShaderID:Pe,isRawShaderMaterial:!0===x.isRawShaderMaterial,glslVersion:x.glslVersion,precision:h,instancing:Ie,instancingColor:Ie&&null!==C.instanceColor,supportsVertexTextures:f,outputColorSpace:null===ye?n.outputColorSpace:!0===ye.isXRRenderTarget?ye.texture.colorSpace:_s,map:je,matcap:!!x.matcap,envMap:Be,envMapMode:Be&&D.mapping,envMapCubeUVHeight:F,aoMap:z,lightMap:pe,bumpMap:ie,normalMap:de,displacementMap:f&&ae,emissiveMap:Ne,normalMapObjectSpace:de&&x.normalMapType===lX,normalMapTangentSpace:de&&x.normalMapType===Ka,metalnessMap:Ee,roughnessMap:Te,anisotropy:Ke,anisotropyMap:Q,clearcoat:wt,clearcoatMap:me,clearcoatNormalMap:ce,clearcoatRoughnessMap:ge,iridescence:en,iridescenceMap:Ue,iridescenceThicknessMap:ve,sheen:k,sheenColorMap:Z,sheenRoughnessMap:H,specularMap:le,specularColorMap:be,specularIntensityMap:_e,transmission:P,transmissionMap:Me,thicknessMap:it,gradientMap:!!x.gradientMap,opaque:!1===x.transparent&&x.blending===Oc,alphaMap:G,alphaTest:x.alphaTest>0,alphaHash:!!x.alphaHash,combine:x.combine,mapUv:je&&m(x.map.channel),aoMapUv:z&&m(x.aoMap.channel),lightMapUv:pe&&m(x.lightMap.channel),bumpMapUv:ie&&m(x.bumpMap.channel),normalMapUv:de&&m(x.normalMap.channel),displacementMapUv:ae&&m(x.displacementMap.channel),emissiveMapUv:Ne&&m(x.emissiveMap.channel),metalnessMapUv:Ee&&m(x.metalnessMap.channel),roughnessMapUv:Te&&m(x.roughnessMap.channel),anisotropyMapUv:Q&&m(x.anisotropyMap.channel),clearcoatMapUv:me&&m(x.clearcoatMap.channel),clearcoatNormalMapUv:ce&&m(x.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ge&&m(x.clearcoatRoughnessMap.channel),iridescenceMapUv:Ue&&m(x.iridescenceMap.channel),iridescenceThicknessMapUv:ve&&m(x.iridescenceThicknessMap.channel),sheenColorMapUv:Z&&m(x.sheenColorMap.channel),sheenRoughnessMapUv:H&&m(x.sheenRoughnessMap.channel),specularMapUv:le&&m(x.specularMap.channel),specularColorMapUv:be&&m(x.specularColorMap.channel),specularIntensityMapUv:_e&&m(x.specularIntensityMap.channel),transmissionMapUv:Me&&m(x.transmissionMap.channel),thicknessMapUv:it&&m(x.thicknessMap.channel),alphaMapUv:G&&m(x.alphaMap.channel),vertexTangents:!!I.attributes.tangent&&(de||Ke),vertexColors:x.vertexColors,vertexAlphas:!0===x.vertexColors&&!!I.attributes.color&&4===I.attributes.color.itemSize,vertexUv1s:Se,vertexUv2s:yt,vertexUv3s:Ut,pointsUvs:!0===C.isPoints&&!!I.attributes.uv&&(je||G),fog:!!T,useFog:!0===x.fog,fogExp2:T&&T.isFogExp2,flatShading:!0===x.flatShading,sizeAttenuation:!0===x.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===C.isSkinnedMesh,morphTargets:void 0!==I.morphAttributes.position,morphNormals:void 0!==I.morphAttributes.normal,morphColors:void 0!==I.morphAttributes.color,morphTargetsCount:V,morphTextureStride:Y,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:x.dithering,shadowMapEnabled:n.shadowMap.enabled&&R.length>0,shadowMapType:n.shadowMap.type,toneMapping:Kt,useLegacyLights:n._useLegacyLights,premultipliedAlpha:x.premultipliedAlpha,doubleSided:x.side===sr,flipSided:x.side===jn,useDepthPacking:x.depthPacking>=0,depthPacking:x.depthPacking||0,index0AttributeName:x.index0AttributeName,extensionDerivatives:he&&!0===x.extensions.derivatives,extensionFragDepth:he&&!0===x.extensions.fragDepth,extensionDrawBuffers:he&&!0===x.extensions.drawBuffers,extensionShaderTextureLOD:he&&!0===x.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:x.customProgramCacheKey()}},getProgramCacheKey:function v(x){const A=[];if(x.shaderID?A.push(x.shaderID):(A.push(x.customVertexShaderID),A.push(x.customFragmentShaderID)),void 0!==x.defines)for(const R in x.defines)A.push(R),A.push(x.defines[R]);return!1===x.isRawShaderMaterial&&(function _(x,A){x.push(A.precision),x.push(A.outputColorSpace),x.push(A.envMapMode),x.push(A.envMapCubeUVHeight),x.push(A.mapUv),x.push(A.alphaMapUv),x.push(A.lightMapUv),x.push(A.aoMapUv),x.push(A.bumpMapUv),x.push(A.normalMapUv),x.push(A.displacementMapUv),x.push(A.emissiveMapUv),x.push(A.metalnessMapUv),x.push(A.roughnessMapUv),x.push(A.anisotropyMapUv),x.push(A.clearcoatMapUv),x.push(A.clearcoatNormalMapUv),x.push(A.clearcoatRoughnessMapUv),x.push(A.iridescenceMapUv),x.push(A.iridescenceThicknessMapUv),x.push(A.sheenColorMapUv),x.push(A.sheenRoughnessMapUv),x.push(A.specularMapUv),x.push(A.specularColorMapUv),x.push(A.specularIntensityMapUv),x.push(A.transmissionMapUv),x.push(A.thicknessMapUv),x.push(A.combine),x.push(A.fogExp2),x.push(A.sizeAttenuation),x.push(A.morphTargetsCount),x.push(A.morphAttributeCount),x.push(A.numDirLights),x.push(A.numPointLights),x.push(A.numSpotLights),x.push(A.numSpotLightMaps),x.push(A.numHemiLights),x.push(A.numRectAreaLights),x.push(A.numDirLightShadows),x.push(A.numPointLightShadows),x.push(A.numSpotLightShadows),x.push(A.numSpotLightShadowsWithMaps),x.push(A.shadowMapType),x.push(A.toneMapping),x.push(A.numClippingPlanes),x.push(A.numClipIntersection),x.push(A.depthPacking)}(A,x),function y(x,A){a.disableAll(),A.isWebGL2&&a.enable(0),A.supportsVertexTextures&&a.enable(1),A.instancing&&a.enable(2),A.instancingColor&&a.enable(3),A.matcap&&a.enable(4),A.envMap&&a.enable(5),A.normalMapObjectSpace&&a.enable(6),A.normalMapTangentSpace&&a.enable(7),A.clearcoat&&a.enable(8),A.iridescence&&a.enable(9),A.alphaTest&&a.enable(10),A.vertexColors&&a.enable(11),A.vertexAlphas&&a.enable(12),A.vertexUv1s&&a.enable(13),A.vertexUv2s&&a.enable(14),A.vertexUv3s&&a.enable(15),A.vertexTangents&&a.enable(16),A.anisotropy&&a.enable(17),x.push(a.mask),a.disableAll(),A.fog&&a.enable(0),A.useFog&&a.enable(1),A.flatShading&&a.enable(2),A.logarithmicDepthBuffer&&a.enable(3),A.skinning&&a.enable(4),A.morphTargets&&a.enable(5),A.morphNormals&&a.enable(6),A.morphColors&&a.enable(7),A.premultipliedAlpha&&a.enable(8),A.shadowMapEnabled&&a.enable(9),A.useLegacyLights&&a.enable(10),A.doubleSided&&a.enable(11),A.flipSided&&a.enable(12),A.useDepthPacking&&a.enable(13),A.dithering&&a.enable(14),A.transmission&&a.enable(15),A.sheen&&a.enable(16),A.opaque&&a.enable(17),A.pointsUvs&&a.enable(18),x.push(a.mask)}(A,x),A.push(n.outputColorSpace)),A.push(x.customProgramCacheKey),A.join()},getUniforms:function w(x){const A=p[x.type];let R;return R=A?eq.clone(Es[A].uniforms):x.uniforms,R},acquireProgram:function S(x,A){let R;for(let N=0,C=c.length;N<C;N++){const T=c[N];if(T.cacheKey===A){R=T,++R.usedTimes;break}}return void 0===R&&(R=new PZ(n,A,x,s),c.push(R)),R},releaseProgram:function E(x){if(0==--x.usedTimes){const A=c.indexOf(x);c[A]=c[c.length-1],c.pop(),x.destroy()}},releaseShaderCache:function M(x){l.remove(x)},programs:c,dispose:function b(){l.dispose()}}}function NZ(){let n=new WeakMap;return{get:function e(s){let o=n.get(s);return void 0===o&&(o={},n.set(s,o)),o},remove:function t(s){n.delete(s)},update:function i(s,o,a){n.get(s)[o]=a},dispose:function r(){n=new WeakMap}}}function FZ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function rL(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function sL(){const n=[];let e=0;const t=[],i=[],r=[];function o(d,f,h,p,m,g){let v=n[e];return void 0===v?(v={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:g},n[e]=v):(v.id=d.id,v.object=d,v.geometry=f,v.material=h,v.groupOrder=p,v.renderOrder=d.renderOrder,v.z=m,v.group=g),e++,v}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function a(d,f,h,p,m,g){const v=o(d,f,h,p,m,g);h.transmission>0?i.push(v):!0===h.transparent?r.push(v):t.push(v)},unshift:function l(d,f,h,p,m,g){const v=o(d,f,h,p,m,g);h.transmission>0?i.unshift(v):!0===h.transparent?r.unshift(v):t.unshift(v)},finish:function u(){for(let d=e,f=n.length;d<f;d++){const h=n[d];if(null===h.id)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}},sort:function c(d,f){t.length>1&&t.sort(d||FZ),i.length>1&&i.sort(f||rL),r.length>1&&r.sort(f||rL)}}}function UZ(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let o;return void 0===s?(o=new sL,n.set(i,[o])):r>=s.length?(o=new sL,s.push(o)):o=s[r],o},dispose:function t(){n=new WeakMap}}}function BZ(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new L,color:new Ce};break;case"SpotLight":t={position:new L,direction:new L,color:new Ce,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new L,color:new Ce,distance:0,decay:0};break;case"HemisphereLight":t={direction:new L,skyColor:new Ce,groundColor:new Ce};break;case"RectAreaLight":t={color:new Ce,position:new L,halfWidth:new L,halfHeight:new L}}return n[e.id]=t,t}}}let zZ=0;function HZ(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function VZ(n,e){const t=new BZ,i=function kZ(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ee};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ee,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new L);const s=new L,o=new st,a=new st;return{setup:function l(u,d){let f=0,h=0,p=0;for(let R=0;R<9;R++)r.probe[R].set(0,0,0);let m=0,g=0,v=0,_=0,y=0,w=0,S=0,E=0,M=0,b=0;u.sort(HZ);const x=!0===d?Math.PI:1;for(let R=0,N=u.length;R<N;R++){const C=u[R],T=C.color,I=C.intensity,O=C.distance,D=C.shadow&&C.shadow.map?C.shadow.map.texture:null;if(C.isAmbientLight)f+=T.r*I*x,h+=T.g*I*x,p+=T.b*I*x;else if(C.isLightProbe)for(let F=0;F<9;F++)r.probe[F].addScaledVector(C.sh.coefficients[F],I);else if(C.isDirectionalLight){const F=t.get(C);if(F.color.copy(C.color).multiplyScalar(C.intensity*x),C.castShadow){const B=C.shadow,W=i.get(C);W.shadowBias=B.bias,W.shadowNormalBias=B.normalBias,W.shadowRadius=B.radius,W.shadowMapSize=B.mapSize,r.directionalShadow[m]=W,r.directionalShadowMap[m]=D,r.directionalShadowMatrix[m]=C.shadow.matrix,w++}r.directional[m]=F,m++}else if(C.isSpotLight){const F=t.get(C);F.position.setFromMatrixPosition(C.matrixWorld),F.color.copy(T).multiplyScalar(I*x),F.distance=O,F.coneCos=Math.cos(C.angle),F.penumbraCos=Math.cos(C.angle*(1-C.penumbra)),F.decay=C.decay,r.spot[v]=F;const B=C.shadow;if(C.map&&(r.spotLightMap[M]=C.map,M++,B.updateMatrices(C),C.castShadow&&b++),r.spotLightMatrix[v]=B.matrix,C.castShadow){const W=i.get(C);W.shadowBias=B.bias,W.shadowNormalBias=B.normalBias,W.shadowRadius=B.radius,W.shadowMapSize=B.mapSize,r.spotShadow[v]=W,r.spotShadowMap[v]=D,E++}v++}else if(C.isRectAreaLight){const F=t.get(C);F.color.copy(T).multiplyScalar(I),F.halfWidth.set(.5*C.width,0,0),F.halfHeight.set(0,.5*C.height,0),r.rectArea[_]=F,_++}else if(C.isPointLight){const F=t.get(C);if(F.color.copy(C.color).multiplyScalar(C.intensity*x),F.distance=C.distance,F.decay=C.decay,C.castShadow){const B=C.shadow,W=i.get(C);W.shadowBias=B.bias,W.shadowNormalBias=B.normalBias,W.shadowRadius=B.radius,W.shadowMapSize=B.mapSize,W.shadowCameraNear=B.camera.near,W.shadowCameraFar=B.camera.far,r.pointShadow[g]=W,r.pointShadowMap[g]=D,r.pointShadowMatrix[g]=C.shadow.matrix,S++}r.point[g]=F,g++}else if(C.isHemisphereLight){const F=t.get(C);F.skyColor.copy(C.color).multiplyScalar(I*x),F.groundColor.copy(C.groundColor).multiplyScalar(I*x),r.hemi[y]=F,y++}}_>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=we.LTC_FLOAT_1,r.rectAreaLTC2=we.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=we.LTC_HALF_1,r.rectAreaLTC2=we.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=f,r.ambient[1]=h,r.ambient[2]=p;const A=r.hash;(A.directionalLength!==m||A.pointLength!==g||A.spotLength!==v||A.rectAreaLength!==_||A.hemiLength!==y||A.numDirectionalShadows!==w||A.numPointShadows!==S||A.numSpotShadows!==E||A.numSpotMaps!==M)&&(r.directional.length=m,r.spot.length=v,r.rectArea.length=_,r.point.length=g,r.hemi.length=y,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=S,r.spotLightMatrix.length=E+M-b,r.spotLightMap.length=M,r.numSpotLightShadowsWithMaps=b,A.directionalLength=m,A.pointLength=g,A.spotLength=v,A.rectAreaLength=_,A.hemiLength=y,A.numDirectionalShadows=w,A.numPointShadows=S,A.numSpotShadows=E,A.numSpotMaps=M,r.version=zZ++)},setupView:function c(u,d){let f=0,h=0,p=0,m=0,g=0;const v=d.matrixWorldInverse;for(let _=0,y=u.length;_<y;_++){const w=u[_];if(w.isDirectionalLight){const S=r.directional[f];S.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(v),f++}else if(w.isSpotLight){const S=r.spot[p];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(v),S.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(v),p++}else if(w.isRectAreaLight){const S=r.rectArea[m];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(v),a.identity(),o.copy(w.matrixWorld),o.premultiply(v),a.extractRotation(o),S.halfWidth.set(.5*w.width,0,0),S.halfHeight.set(0,.5*w.height,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),m++}else if(w.isPointLight){const S=r.point[h];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(v),h++}else if(w.isHemisphereLight){const S=r.hemi[g];S.direction.setFromMatrixPosition(w.matrixWorld),S.direction.transformDirection(v),g++}}},state:r}}function oL(n,e){const t=new VZ(n,e),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function l(d){t.setup(i,d)},setupLightsView:function c(d){t.setupView(i,d)},pushLight:function o(d){i.push(d)},pushShadow:function a(d){r.push(d)}}}function GZ(n,e){let t=new WeakMap;return{get:function i(s,o=0){const a=t.get(s);let l;return void 0===a?(l=new oL(n,e),t.set(s,[l])):o>=a.length?(l=new oL(n,e),a.push(l)):l=a[o],l},dispose:function r(){t=new WeakMap}}}class aL extends ho{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=mf,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class lL extends ho{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const WZ="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",jZ="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function YZ(n,e,t){let i=new kx;const r=new ee,s=new ee,o=new Ot,a=new aL({depthPacking:aX}),l=new lL,c={},u=t.maxTextureSize,d={[eo]:jn,[jn]:eo,[sr]:sr},f=new bi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ee},radius:{value:4}},vertexShader:WZ,fragmentShader:jZ}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new ft;p.setAttribute("position",new pn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Wi(p,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=E2;let v=this.type;function _(S,E){const M=e.update(m);f.defines.VSM_SAMPLES!==S.blurSamples&&(f.defines.VSM_SAMPLES=S.blurSamples,h.defines.VSM_SAMPLES=S.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),null===S.mapPass&&(S.mapPass=new Si(r.x,r.y)),f.uniforms.shadow_pass.value=S.map.texture,f.uniforms.resolution.value=S.mapSize,f.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(E,null,M,f,m,null),h.uniforms.shadow_pass.value=S.mapPass.texture,h.uniforms.resolution.value=S.mapSize,h.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(E,null,M,h,m,null)}function y(S,E,M,b){let x=null;const A=!0===M.isPointLight?S.customDistanceMaterial:S.customDepthMaterial;if(void 0!==A)x=A;else if(x=!0===M.isPointLight?l:a,n.localClippingEnabled&&!0===E.clipShadows&&Array.isArray(E.clippingPlanes)&&0!==E.clippingPlanes.length||E.displacementMap&&0!==E.displacementScale||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const R=x.uuid,N=E.uuid;let C=c[R];void 0===C&&(C={},c[R]=C);let T=C[N];void 0===T&&(T=x.clone(),C[N]=T),x=T}return x.visible=E.visible,x.wireframe=E.wireframe,x.side=b===Js?null!==E.shadowSide?E.shadowSide:E.side:null!==E.shadowSide?E.shadowSide:d[E.side],x.alphaMap=E.alphaMap,x.alphaTest=E.alphaTest,x.map=E.map,x.clipShadows=E.clipShadows,x.clippingPlanes=E.clippingPlanes,x.clipIntersection=E.clipIntersection,x.displacementMap=E.displacementMap,x.displacementScale=E.displacementScale,x.displacementBias=E.displacementBias,x.wireframeLinewidth=E.wireframeLinewidth,x.linewidth=E.linewidth,!0===M.isPointLight&&!0===x.isMeshDistanceMaterial&&(n.properties.get(x).light=M),x}function w(S,E,M,b,x){if(!1===S.visible)return;if(S.layers.test(E.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&x===Js)&&(!S.frustumCulled||i.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,S.matrixWorld);const N=e.update(S),C=S.material;if(Array.isArray(C)){const T=N.groups;for(let I=0,O=T.length;I<O;I++){const D=T[I],F=C[D.materialIndex];if(F&&F.visible){const B=y(S,F,b,x);n.renderBufferDirect(M,null,N,B,S,D)}}}else if(C.visible){const T=y(S,C,b,x);n.renderBufferDirect(M,null,N,T,S,null)}}const R=S.children;for(let N=0,C=R.length;N<C;N++)w(R[N],E,M,b,x)}this.render=function(S,E,M){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===S.length)return;const b=n.getRenderTarget(),x=n.getActiveCubeFace(),A=n.getActiveMipmapLevel(),R=n.state;R.setBlending(zi),R.buffers.color.setClear(1,1,1,1),R.buffers.depth.setTest(!0),R.setScissorTest(!1);const N=v!==Js&&this.type===Js,C=v===Js&&this.type!==Js;for(let T=0,I=S.length;T<I;T++){const O=S[T],D=O.shadow;if(void 0===D){console.warn("THREE.WebGLShadowMap:",O,"has no shadow.");continue}if(!1===D.autoUpdate&&!1===D.needsUpdate)continue;r.copy(D.mapSize);const F=D.getFrameExtents();if(r.multiply(F),s.copy(D.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/F.x),r.x=s.x*F.x,D.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/F.y),r.y=s.y*F.y,D.mapSize.y=s.y)),null===D.map||!0===N||!0===C){const W=this.type!==Js?{minFilter:Tn,magFilter:Tn}:{};null!==D.map&&D.map.dispose(),D.map=new Si(r.x,r.y,W),D.map.texture.name=O.name+".shadowMap",D.camera.updateProjectionMatrix()}n.setRenderTarget(D.map),n.clear();const B=D.getViewportCount();for(let W=0;W<B;W++){const V=D.getViewport(W);o.set(s.x*V.x,s.y*V.y,s.x*V.z,s.y*V.w),R.viewport(o),D.updateMatrices(O,W),i=D.getFrustum(),w(E,M,D.camera,O,this.type)}!0!==D.isPointLightShadow&&this.type===Js&&_(D,M),D.needsUpdate=!1}v=this.type,g.needsUpdate=!1,n.setRenderTarget(b,x,A)}}function XZ(n,e,t){const i=t.isWebGL2,a=new function r(){let G=!1;const xe=new Ot;let K=null;const he=new Ot(0,0,0,0);return{setMask:function(Se){K!==Se&&!G&&(n.colorMask(Se,Se,Se,Se),K=Se)},setLocked:function(Se){G=Se},setClear:function(Se,yt,Ut,Kt,ua){!0===ua&&(Se*=Kt,yt*=Kt,Ut*=Kt),xe.set(Se,yt,Ut,Kt),!1===he.equals(xe)&&(n.clearColor(Se,yt,Ut,Kt),he.copy(xe))},reset:function(){G=!1,K=null,he.set(-1,0,0,0)}}},l=new function s(){let G=!1,xe=null,K=null,he=null;return{setTest:function(Se){Se?ye(n.DEPTH_TEST):Ie(n.DEPTH_TEST)},setMask:function(Se){xe!==Se&&!G&&(n.depthMask(Se),xe=Se)},setFunc:function(Se){if(K!==Se){switch(Se){case NY:n.depthFunc(n.NEVER);break;case FY:n.depthFunc(n.ALWAYS);break;case UY:n.depthFunc(n.LESS);break;case rx:n.depthFunc(n.LEQUAL);break;case BY:n.depthFunc(n.EQUAL);break;case kY:n.depthFunc(n.GEQUAL);break;case zY:n.depthFunc(n.GREATER);break;case HY:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}K=Se}},setLocked:function(Se){G=Se},setClear:function(Se){he!==Se&&(n.clearDepth(Se),he=Se)},reset:function(){G=!1,xe=null,K=null,he=null}}},c=new function o(){let G=!1,xe=null,K=null,he=null,Se=null,yt=null,Ut=null,Kt=null,ua=null;return{setTest:function(Zt){G||(Zt?ye(n.STENCIL_TEST):Ie(n.STENCIL_TEST))},setMask:function(Zt){xe!==Zt&&!G&&(n.stencilMask(Zt),xe=Zt)},setFunc:function(Zt,Cs,Ti){(K!==Zt||he!==Cs||Se!==Ti)&&(n.stencilFunc(Zt,Cs,Ti),K=Zt,he=Cs,Se=Ti)},setOp:function(Zt,Cs,Ti){(yt!==Zt||Ut!==Cs||Kt!==Ti)&&(n.stencilOp(Zt,Cs,Ti),yt=Zt,Ut=Cs,Kt=Ti)},setLocked:function(Zt){G=Zt},setClear:function(Zt){ua!==Zt&&(n.clearStencil(Zt),ua=Zt)},reset:function(){G=!1,xe=null,K=null,he=null,Se=null,yt=null,Ut=null,Kt=null,ua=null}}},u=new WeakMap,d=new WeakMap;let f={},h={},p=new WeakMap,m=[],g=null,v=!1,_=null,y=null,w=null,S=null,E=null,M=null,b=null,x=!1,A=null,R=null,N=null,C=null,T=null;const I=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,D=0;const F=n.getParameter(n.VERSION);-1!==F.indexOf("WebGL")?(D=parseFloat(/^WebGL (\d)/.exec(F)[1]),O=D>=1):-1!==F.indexOf("OpenGL ES")&&(D=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),O=D>=2);let B=null,W={};const V=n.getParameter(n.SCISSOR_BOX),Y=n.getParameter(n.VIEWPORT),$=(new Ot).fromArray(V),J=(new Ot).fromArray(Y);function ue(G,xe,K,he){const Se=new Uint8Array(4),yt=n.createTexture();n.bindTexture(G,yt),n.texParameteri(G,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(G,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ut=0;Ut<K;Ut++)!i||G!==n.TEXTURE_3D&&G!==n.TEXTURE_2D_ARRAY?n.texImage2D(xe+Ut,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Se):n.texImage3D(xe,0,n.RGBA,1,1,he,0,n.RGBA,n.UNSIGNED_BYTE,Se);return yt}const Pe={};function ye(G){!0!==f[G]&&(n.enable(G),f[G]=!0)}function Ie(G){!1!==f[G]&&(n.disable(G),f[G]=!1)}Pe[n.TEXTURE_2D]=ue(n.TEXTURE_2D,n.TEXTURE_2D,1),Pe[n.TEXTURE_CUBE_MAP]=ue(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Pe[n.TEXTURE_2D_ARRAY]=ue(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Pe[n.TEXTURE_3D]=ue(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ye(n.DEPTH_TEST),l.setFunc(rx),ae(!1),Ne(S2),ye(n.CULL_FACE),ie(zi);const z={[Nc]:n.FUNC_ADD,[MY]:n.FUNC_SUBTRACT,[bY]:n.FUNC_REVERSE_SUBTRACT};if(i)z[T2]=n.MIN,z[C2]=n.MAX;else{const G=e.get("EXT_blend_minmax");null!==G&&(z[T2]=G.MIN_EXT,z[C2]=G.MAX_EXT)}const pe={[AY]:n.ZERO,[TY]:n.ONE,[CY]:n.SRC_COLOR,[D2]:n.SRC_ALPHA,[OY]:n.SRC_ALPHA_SATURATE,[RY]:n.DST_COLOR,[PY]:n.DST_ALPHA,[DY]:n.ONE_MINUS_SRC_COLOR,[P2]:n.ONE_MINUS_SRC_ALPHA,[LY]:n.ONE_MINUS_DST_COLOR,[IY]:n.ONE_MINUS_DST_ALPHA};function ie(G,xe,K,he,Se,yt,Ut,Kt){if(G!==zi){if(!1===v&&(ye(n.BLEND),v=!0),G===EY)Se=Se||xe,yt=yt||K,Ut=Ut||he,(xe!==y||Se!==E)&&(n.blendEquationSeparate(z[xe],z[Se]),y=xe,E=Se),(K!==w||he!==S||yt!==M||Ut!==b)&&(n.blendFuncSeparate(pe[K],pe[he],pe[yt],pe[Ut]),w=K,S=he,M=yt,b=Ut),_=G,x=!1;else if(G!==_||Kt!==x){if((y!==Nc||E!==Nc)&&(n.blendEquation(n.FUNC_ADD),y=Nc,E=Nc),Kt)switch(G){case Oc:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case M2:n.blendFunc(n.ONE,n.ONE);break;case b2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case A2:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",G)}else switch(G){case Oc:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case M2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case b2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case A2:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",G)}w=null,S=null,M=null,b=null,_=G,x=Kt}}else!0===v&&(Ie(n.BLEND),v=!1)}function ae(G){A!==G&&(n.frontFace(G?n.CW:n.CCW),A=G)}function Ne(G){G!==wY?(ye(n.CULL_FACE),G!==R&&n.cullFace(G===S2?n.BACK:G===xY?n.FRONT:n.FRONT_AND_BACK)):Ie(n.CULL_FACE),R=G}function Te(G,xe,K){G?(ye(n.POLYGON_OFFSET_FILL),(C!==xe||T!==K)&&(n.polygonOffset(xe,K),C=xe,T=K)):Ie(n.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:l,stencil:c},enable:ye,disable:Ie,bindFramebuffer:function je(G,xe){return h[G]!==xe&&(n.bindFramebuffer(G,xe),h[G]=xe,i&&(G===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=xe),G===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=xe)),!0)},drawBuffers:function At(G,xe){let K=m,he=!1;if(G)if(K=p.get(xe),void 0===K&&(K=[],p.set(xe,K)),G.isWebGLMultipleRenderTargets){const Se=G.texture;if(K.length!==Se.length||K[0]!==n.COLOR_ATTACHMENT0){for(let yt=0,Ut=Se.length;yt<Ut;yt++)K[yt]=n.COLOR_ATTACHMENT0+yt;K.length=Se.length,he=!0}}else K[0]!==n.COLOR_ATTACHMENT0&&(K[0]=n.COLOR_ATTACHMENT0,he=!0);else K[0]!==n.BACK&&(K[0]=n.BACK,he=!0);he&&(t.isWebGL2?n.drawBuffers(K):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(K))},useProgram:function Be(G){return g!==G&&(n.useProgram(G),g=G,!0)},setBlending:ie,setMaterial:function de(G,xe){G.side===sr?Ie(n.CULL_FACE):ye(n.CULL_FACE);let K=G.side===jn;xe&&(K=!K),ae(K),G.blending===Oc&&!1===G.transparent?ie(zi):ie(G.blending,G.blendEquation,G.blendSrc,G.blendDst,G.blendEquationAlpha,G.blendSrcAlpha,G.blendDstAlpha,G.premultipliedAlpha),l.setFunc(G.depthFunc),l.setTest(G.depthTest),l.setMask(G.depthWrite),a.setMask(G.colorWrite);const he=G.stencilWrite;c.setTest(he),he&&(c.setMask(G.stencilWriteMask),c.setFunc(G.stencilFunc,G.stencilRef,G.stencilFuncMask),c.setOp(G.stencilFail,G.stencilZFail,G.stencilZPass)),Te(G.polygonOffset,G.polygonOffsetFactor,G.polygonOffsetUnits),!0===G.alphaToCoverage?ye(n.SAMPLE_ALPHA_TO_COVERAGE):Ie(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ae,setCullFace:Ne,setLineWidth:function Ee(G){G!==N&&(O&&n.lineWidth(G),N=G)},setPolygonOffset:Te,setScissorTest:function Ke(G){G?ye(n.SCISSOR_TEST):Ie(n.SCISSOR_TEST)},activeTexture:function wt(G){void 0===G&&(G=n.TEXTURE0+I-1),B!==G&&(n.activeTexture(G),B=G)},bindTexture:function en(G,xe,K){void 0===K&&(K=null===B?n.TEXTURE0+I-1:B);let he=W[K];void 0===he&&(he={type:void 0,texture:void 0},W[K]=he),(he.type!==G||he.texture!==xe)&&(B!==K&&(n.activeTexture(K),B=K),n.bindTexture(G,xe||Pe[G]),he.type=G,he.texture=xe)},unbindTexture:function k(){const G=W[B];void 0!==G&&void 0!==G.type&&(n.bindTexture(G.type,null),G.type=void 0,G.texture=void 0)},compressedTexImage2D:function P(){try{n.compressedTexImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},compressedTexImage3D:function Q(){try{n.compressedTexImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texImage2D:function H(){try{n.texImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texImage3D:function le(){try{n.texImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},updateUBOMapping:function Me(G,xe){let K=d.get(xe);void 0===K&&(K=new WeakMap,d.set(xe,K));let he=K.get(G);void 0===he&&(he=n.getUniformBlockIndex(xe,G.name),K.set(G,he))},uniformBlockBinding:function it(G,xe){const he=d.get(xe).get(G);u.get(xe)!==he&&(n.uniformBlockBinding(xe,he,G.__bindingPointIndex),u.set(xe,he))},texStorage2D:function ve(){try{n.texStorage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texStorage3D:function Z(){try{n.texStorage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texSubImage2D:function me(){try{n.texSubImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texSubImage3D:function ce(){try{n.texSubImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},compressedTexSubImage2D:function ge(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},compressedTexSubImage3D:function Ue(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},scissor:function be(G){!1===$.equals(G)&&(n.scissor(G.x,G.y,G.z,G.w),$.copy(G))},viewport:function _e(G){!1===J.equals(G)&&(n.viewport(G.x,G.y,G.z,G.w),J.copy(G))},reset:function Tt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},B=null,W={},h={},p=new WeakMap,m=[],g=null,v=!1,_=null,y=null,w=null,S=null,E=null,M=null,b=null,x=!1,A=null,R=null,N=null,C=null,T=null,$.set(0,0,n.canvas.width,n.canvas.height),J.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}}}function qZ(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function _(k,P){return v?new OffscreenCanvas(k,P):vf("canvas")}function y(k,P,Q,me){let ce=1;if((k.width>me||k.height>me)&&(ce=me/Math.max(k.width,k.height)),ce<1||!0===P){if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap){const ge=P?Im:Math.floor,Ue=ge(ce*k.width),ve=ge(ce*k.height);void 0===m&&(m=_(Ue,ve));const Z=Q?_(Ue,ve):m;return Z.width=Ue,Z.height=ve,Z.getContext("2d").drawImage(k,0,0,Ue,ve),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+k.width+"x"+k.height+") to ("+Ue+"x"+ve+")."),Z}return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+k.width+"x"+k.height+")."),k}return k}function w(k){return yx(k.width)&&yx(k.height)}function E(k,P){return k.generateMipmaps&&P&&k.minFilter!==Tn&&k.minFilter!==$t}function M(k){n.generateMipmap(k)}function b(k,P,Q,me,ce=!1){if(!1===a)return P;if(null!==k){if(void 0!==n[k])return n[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let ge=P;return P===n.RED&&(Q===n.FLOAT&&(ge=n.R32F),Q===n.HALF_FLOAT&&(ge=n.R16F),Q===n.UNSIGNED_BYTE&&(ge=n.R8)),P===n.RED_INTEGER&&(Q===n.UNSIGNED_BYTE&&(ge=n.R8UI),Q===n.UNSIGNED_SHORT&&(ge=n.R16UI),Q===n.UNSIGNED_INT&&(ge=n.R32UI),Q===n.BYTE&&(ge=n.R8I),Q===n.SHORT&&(ge=n.R16I),Q===n.INT&&(ge=n.R32I)),P===n.RG&&(Q===n.FLOAT&&(ge=n.RG32F),Q===n.HALF_FLOAT&&(ge=n.RG16F),Q===n.UNSIGNED_BYTE&&(ge=n.RG8)),P===n.RGBA&&(Q===n.FLOAT&&(ge=n.RGBA32F),Q===n.HALF_FLOAT&&(ge=n.RGBA16F),Q===n.UNSIGNED_BYTE&&(ge=me===lt&&!1===ce?n.SRGB8_ALPHA8:n.RGBA8),Q===n.UNSIGNED_SHORT_4_4_4_4&&(ge=n.RGBA4),Q===n.UNSIGNED_SHORT_5_5_5_1&&(ge=n.RGB5_A1)),(ge===n.R16F||ge===n.R32F||ge===n.RG16F||ge===n.RG32F||ge===n.RGBA16F||ge===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ge}function x(k,P,Q){return!0===E(k,Q)||k.isFramebufferTexture&&k.minFilter!==Tn&&k.minFilter!==$t?Math.log2(Math.max(P.width,P.height))+1:void 0!==k.mipmaps&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?P.mipmaps.length:1}function A(k){return k===Tn||k===ox||k===Mm?n.NEAREST:n.LINEAR}function R(k){const P=k.target;P.removeEventListener("dispose",R),function C(k){const P=i.get(k);if(void 0===P.__webglInit)return;const Q=k.source,me=g.get(Q);if(me){const ce=me[P.__cacheKey];ce.usedTimes--,0===ce.usedTimes&&T(k),0===Object.keys(me).length&&g.delete(Q)}i.remove(k)}(P),P.isVideoTexture&&p.delete(P)}function N(k){const P=k.target;P.removeEventListener("dispose",N),function I(k){const P=k.texture,Q=i.get(k),me=i.get(P);if(void 0!==me.__webglTexture&&(n.deleteTexture(me.__webglTexture),o.memory.textures--),k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let ce=0;ce<6;ce++){if(Array.isArray(Q.__webglFramebuffer[ce]))for(let ge=0;ge<Q.__webglFramebuffer[ce].length;ge++)n.deleteFramebuffer(Q.__webglFramebuffer[ce][ge]);else n.deleteFramebuffer(Q.__webglFramebuffer[ce]);Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer[ce])}else{if(Array.isArray(Q.__webglFramebuffer))for(let ce=0;ce<Q.__webglFramebuffer.length;ce++)n.deleteFramebuffer(Q.__webglFramebuffer[ce]);else n.deleteFramebuffer(Q.__webglFramebuffer);if(Q.__webglDepthbuffer&&n.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let ce=0;ce<Q.__webglColorRenderbuffer.length;ce++)Q.__webglColorRenderbuffer[ce]&&n.deleteRenderbuffer(Q.__webglColorRenderbuffer[ce]);Q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}if(k.isWebGLMultipleRenderTargets)for(let ce=0,ge=P.length;ce<ge;ce++){const Ue=i.get(P[ce]);Ue.__webglTexture&&(n.deleteTexture(Ue.__webglTexture),o.memory.textures--),i.remove(P[ce])}i.remove(P),i.remove(k)}(P)}function T(k){const P=i.get(k);n.deleteTexture(P.__webglTexture),delete g.get(k.source)[P.__cacheKey],o.memory.textures--}let O=0;function W(k,P){const Q=i.get(k);if(k.isVideoTexture&&function wt(k){const P=o.render.frame;p.get(k)!==P&&(p.set(k,P),k.update())}(k),!1===k.isRenderTargetTexture&&k.version>0&&Q.__version!==k.version){const me=k.image;if(null===me)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==me.complete)return void je(Q,k,P);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,Q.__webglTexture,n.TEXTURE0+P)}const J={[Sm]:n.REPEAT,[wi]:n.CLAMP_TO_EDGE,[Em]:n.MIRRORED_REPEAT},ue={[Tn]:n.NEAREST,[ox]:n.NEAREST_MIPMAP_NEAREST,[Mm]:n.NEAREST_MIPMAP_LINEAR,[$t]:n.LINEAR,[I2]:n.LINEAR_MIPMAP_NEAREST,[Xa]:n.LINEAR_MIPMAP_LINEAR},Pe={[uX]:n.NEVER,[vX]:n.ALWAYS,[dX]:n.LESS,[hX]:n.LEQUAL,[fX]:n.EQUAL,[gX]:n.GEQUAL,[pX]:n.GREATER,[mX]:n.NOTEQUAL};function ye(k,P,Q){if(Q?(n.texParameteri(k,n.TEXTURE_WRAP_S,J[P.wrapS]),n.texParameteri(k,n.TEXTURE_WRAP_T,J[P.wrapT]),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,J[P.wrapR]),n.texParameteri(k,n.TEXTURE_MAG_FILTER,ue[P.magFilter]),n.texParameteri(k,n.TEXTURE_MIN_FILTER,ue[P.minFilter])):(n.texParameteri(k,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(k,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(P.wrapS!==wi||P.wrapT!==wi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(k,n.TEXTURE_MAG_FILTER,A(P.magFilter)),n.texParameteri(k,n.TEXTURE_MIN_FILTER,A(P.minFilter)),P.minFilter!==Tn&&P.minFilter!==$t&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),P.compareFunction&&(n.texParameteri(k,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(k,n.TEXTURE_COMPARE_FUNC,Pe[P.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const me=e.get("EXT_texture_filter_anisotropic");if(P.magFilter===Tn||P.minFilter!==Mm&&P.minFilter!==Xa||P.type===no&&!1===e.has("OES_texture_float_linear")||!1===a&&P.type===pf&&!1===e.has("OES_texture_half_float_linear"))return;(P.anisotropy>1||i.get(P).__currentAnisotropy)&&(n.texParameterf(k,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(P.anisotropy,r.getMaxAnisotropy())),i.get(P).__currentAnisotropy=P.anisotropy)}}function Ie(k,P){let Q=!1;void 0===k.__webglInit&&(k.__webglInit=!0,P.addEventListener("dispose",R));const me=P.source;let ce=g.get(me);void 0===ce&&(ce={},g.set(me,ce));const ge=function B(k){const P=[];return P.push(k.wrapS),P.push(k.wrapT),P.push(k.wrapR||0),P.push(k.magFilter),P.push(k.minFilter),P.push(k.anisotropy),P.push(k.internalFormat),P.push(k.format),P.push(k.type),P.push(k.generateMipmaps),P.push(k.premultiplyAlpha),P.push(k.flipY),P.push(k.unpackAlignment),P.push(k.colorSpace),P.join()}(P);if(ge!==k.__cacheKey){void 0===ce[ge]&&(ce[ge]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Q=!0),ce[ge].usedTimes++;const Ue=ce[k.__cacheKey];void 0!==Ue&&(ce[k.__cacheKey].usedTimes--,0===Ue.usedTimes&&T(P)),k.__cacheKey=ge,k.__webglTexture=ce[ge].texture}return Q}function je(k,P,Q){let me=n.TEXTURE_2D;(P.isDataArrayTexture||P.isCompressedArrayTexture)&&(me=n.TEXTURE_2D_ARRAY),P.isData3DTexture&&(me=n.TEXTURE_3D);const ce=Ie(k,P),ge=P.source;t.bindTexture(me,k.__webglTexture,n.TEXTURE0+Q);const Ue=i.get(ge);if(ge.version!==Ue.__version||!0===ce){t.activeTexture(n.TEXTURE0+Q),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,P.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,P.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,P.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const ve=function S(k){return!a&&(k.wrapS!==wi||k.wrapT!==wi||k.minFilter!==Tn&&k.minFilter!==$t)}(P)&&!1===w(P.image);let Z=y(P.image,ve,!1,u);Z=en(P,Z);const H=w(Z)||a,le=s.convert(P.format,P.colorSpace);let Me,be=s.convert(P.type),_e=b(P.internalFormat,le,be,P.colorSpace);ye(me,P,H);const it=P.mipmaps,Tt=a&&!0!==P.isVideoTexture,G=void 0===Ue.__version||!0===ce,xe=x(P,Z,H);if(P.isDepthTexture)_e=n.DEPTH_COMPONENT,a?_e=P.type===no?n.DEPTH_COMPONENT32F:P.type===to?n.DEPTH_COMPONENT24:P.type===qo?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:P.type===no&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),P.format===qa&&_e===n.DEPTH_COMPONENT&&P.type!==ax&&P.type!==to&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),P.type=to,be=s.convert(P.type)),P.format===Qa&&_e===n.DEPTH_COMPONENT&&(_e=n.DEPTH_STENCIL,P.type!==qo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),P.type=qo,be=s.convert(P.type))),G&&(Tt?t.texStorage2D(n.TEXTURE_2D,1,_e,Z.width,Z.height):t.texImage2D(n.TEXTURE_2D,0,_e,Z.width,Z.height,0,le,be,null));else if(P.isDataTexture)if(it.length>0&&H){Tt&&G&&t.texStorage2D(n.TEXTURE_2D,xe,_e,it[0].width,it[0].height);for(let K=0,he=it.length;K<he;K++)Me=it[K],Tt?t.texSubImage2D(n.TEXTURE_2D,K,0,0,Me.width,Me.height,le,be,Me.data):t.texImage2D(n.TEXTURE_2D,K,_e,Me.width,Me.height,0,le,be,Me.data);P.generateMipmaps=!1}else Tt?(G&&t.texStorage2D(n.TEXTURE_2D,xe,_e,Z.width,Z.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Z.width,Z.height,le,be,Z.data)):t.texImage2D(n.TEXTURE_2D,0,_e,Z.width,Z.height,0,le,be,Z.data);else if(P.isCompressedTexture)if(P.isCompressedArrayTexture){Tt&&G&&t.texStorage3D(n.TEXTURE_2D_ARRAY,xe,_e,it[0].width,it[0].height,Z.depth);for(let K=0,he=it.length;K<he;K++)Me=it[K],P.format!==Ir?null!==le?Tt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,K,0,0,0,Me.width,Me.height,Z.depth,le,Me.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,K,_e,Me.width,Me.height,Z.depth,0,Me.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,K,0,0,0,Me.width,Me.height,Z.depth,le,be,Me.data):t.texImage3D(n.TEXTURE_2D_ARRAY,K,_e,Me.width,Me.height,Z.depth,0,le,be,Me.data)}else{Tt&&G&&t.texStorage2D(n.TEXTURE_2D,xe,_e,it[0].width,it[0].height);for(let K=0,he=it.length;K<he;K++)Me=it[K],P.format!==Ir?null!==le?Tt?t.compressedTexSubImage2D(n.TEXTURE_2D,K,0,0,Me.width,Me.height,le,Me.data):t.compressedTexImage2D(n.TEXTURE_2D,K,_e,Me.width,Me.height,0,Me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tt?t.texSubImage2D(n.TEXTURE_2D,K,0,0,Me.width,Me.height,le,be,Me.data):t.texImage2D(n.TEXTURE_2D,K,_e,Me.width,Me.height,0,le,be,Me.data)}else if(P.isDataArrayTexture)Tt?(G&&t.texStorage3D(n.TEXTURE_2D_ARRAY,xe,_e,Z.width,Z.height,Z.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Z.width,Z.height,Z.depth,le,be,Z.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,_e,Z.width,Z.height,Z.depth,0,le,be,Z.data);else if(P.isData3DTexture)Tt?(G&&t.texStorage3D(n.TEXTURE_3D,xe,_e,Z.width,Z.height,Z.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Z.width,Z.height,Z.depth,le,be,Z.data)):t.texImage3D(n.TEXTURE_3D,0,_e,Z.width,Z.height,Z.depth,0,le,be,Z.data);else if(P.isFramebufferTexture){if(G)if(Tt)t.texStorage2D(n.TEXTURE_2D,xe,_e,Z.width,Z.height);else{let K=Z.width,he=Z.height;for(let Se=0;Se<xe;Se++)t.texImage2D(n.TEXTURE_2D,Se,_e,K,he,0,le,be,null),K>>=1,he>>=1}}else if(it.length>0&&H){Tt&&G&&t.texStorage2D(n.TEXTURE_2D,xe,_e,it[0].width,it[0].height);for(let K=0,he=it.length;K<he;K++)Me=it[K],Tt?t.texSubImage2D(n.TEXTURE_2D,K,0,0,le,be,Me):t.texImage2D(n.TEXTURE_2D,K,_e,le,be,Me);P.generateMipmaps=!1}else Tt?(G&&t.texStorage2D(n.TEXTURE_2D,xe,_e,Z.width,Z.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,le,be,Z)):t.texImage2D(n.TEXTURE_2D,0,_e,le,be,Z);E(P,H)&&M(me),Ue.__version=ge.version,P.onUpdate&&P.onUpdate(P)}k.__version=P.version}function Be(k,P,Q,me,ce,ge){const Ue=s.convert(Q.format,Q.colorSpace),ve=s.convert(Q.type),Z=b(Q.internalFormat,Ue,ve,Q.colorSpace);if(!i.get(P).__hasExternalTextures){const le=Math.max(1,P.width>>ge),be=Math.max(1,P.height>>ge);ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY?t.texImage3D(ce,ge,Z,le,be,P.depth,0,Ue,ve,null):t.texImage2D(ce,ge,Z,le,be,0,Ue,ve,null)}t.bindFramebuffer(n.FRAMEBUFFER,k),Ke(P)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,me,ce,i.get(Q).__webglTexture,0,Te(P)):(ce===n.TEXTURE_2D||ce>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ce<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,me,ce,i.get(Q).__webglTexture,ge),t.bindFramebuffer(n.FRAMEBUFFER,null)}function z(k,P,Q){if(n.bindRenderbuffer(n.RENDERBUFFER,k),P.depthBuffer&&!P.stencilBuffer){let me=n.DEPTH_COMPONENT16;if(Q||Ke(P)){const ce=P.depthTexture;ce&&ce.isDepthTexture&&(ce.type===no?me=n.DEPTH_COMPONENT32F:ce.type===to&&(me=n.DEPTH_COMPONENT24));const ge=Te(P);Ke(P)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ge,me,P.width,P.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,ge,me,P.width,P.height)}else n.renderbufferStorage(n.RENDERBUFFER,me,P.width,P.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,k)}else if(P.depthBuffer&&P.stencilBuffer){const me=Te(P);Q&&!1===Ke(P)?n.renderbufferStorageMultisample(n.RENDERBUFFER,me,n.DEPTH24_STENCIL8,P.width,P.height):Ke(P)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,me,n.DEPTH24_STENCIL8,P.width,P.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,P.width,P.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,k)}else{const me=!0===P.isWebGLMultipleRenderTargets?P.texture:[P.texture];for(let ce=0;ce<me.length;ce++){const ge=me[ce],Ue=s.convert(ge.format,ge.colorSpace),ve=s.convert(ge.type),Z=b(ge.internalFormat,Ue,ve,ge.colorSpace),H=Te(P);Q&&!1===Ke(P)?n.renderbufferStorageMultisample(n.RENDERBUFFER,H,Z,P.width,P.height):Ke(P)?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,H,Z,P.width,P.height):n.renderbufferStorage(n.RENDERBUFFER,Z,P.width,P.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ie(k){const P=i.get(k),Q=!0===k.isWebGLCubeRenderTarget;if(k.depthTexture&&!P.__autoAllocateDepthBuffer){if(Q)throw new Error("target.depthTexture not supported in Cube render targets");!function pe(k,P){if(P&&P.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,k),!P.depthTexture||!P.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(P.depthTexture).__webglTexture||P.depthTexture.image.width!==P.width||P.depthTexture.image.height!==P.height)&&(P.depthTexture.image.width=P.width,P.depthTexture.image.height=P.height,P.depthTexture.needsUpdate=!0),W(P.depthTexture,0);const me=i.get(P.depthTexture).__webglTexture,ce=Te(P);if(P.depthTexture.format===qa)Ke(P)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,me,0,ce):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,me,0);else{if(P.depthTexture.format!==Qa)throw new Error("Unknown depthTexture format");Ke(P)?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,me,0,ce):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,me,0)}}(P.__webglFramebuffer,k)}else if(Q){P.__webglDepthbuffer=[];for(let me=0;me<6;me++)t.bindFramebuffer(n.FRAMEBUFFER,P.__webglFramebuffer[me]),P.__webglDepthbuffer[me]=n.createRenderbuffer(),z(P.__webglDepthbuffer[me],k,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,P.__webglFramebuffer),P.__webglDepthbuffer=n.createRenderbuffer(),z(P.__webglDepthbuffer,k,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Te(k){return Math.min(d,k.samples)}function Ke(k){const P=i.get(k);return a&&k.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==P.__useRenderToTexture}function en(k,P){const Q=k.colorSpace,me=k.format,ce=k.type;return!0===k.isCompressedTexture||k.format===gx||Q!==_s&&Q!==Za&&(Q===lt?!1===a?!0===e.has("EXT_sRGB")&&me===Ir?(k.format=gx,k.minFilter=$t,k.generateMipmaps=!1):P=pR.sRGBToLinear(P):(me!==Ir||ce!==xi)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Q)),P}this.allocateTextureUnit=function F(){const k=O;return k>=l&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+l),O+=1,k},this.resetTextureUnits=function D(){O=0},this.setTexture2D=W,this.setTexture2DArray=function V(k,P){const Q=i.get(k);k.version>0&&Q.__version!==k.version?je(Q,k,P):t.bindTexture(n.TEXTURE_2D_ARRAY,Q.__webglTexture,n.TEXTURE0+P)},this.setTexture3D=function Y(k,P){const Q=i.get(k);k.version>0&&Q.__version!==k.version?je(Q,k,P):t.bindTexture(n.TEXTURE_3D,Q.__webglTexture,n.TEXTURE0+P)},this.setTextureCube=function $(k,P){const Q=i.get(k);k.version>0&&Q.__version!==k.version?function At(k,P,Q){if(6!==P.image.length)return;const me=Ie(k,P),ce=P.source;t.bindTexture(n.TEXTURE_CUBE_MAP,k.__webglTexture,n.TEXTURE0+Q);const ge=i.get(ce);if(ce.version!==ge.__version||!0===me){t.activeTexture(n.TEXTURE0+Q),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,P.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,P.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,P.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Ue=P.isCompressedTexture||P.image[0].isCompressedTexture,ve=P.image[0]&&P.image[0].isDataTexture,Z=[];for(let K=0;K<6;K++)Z[K]=Ue||ve?ve?P.image[K].image:P.image[K]:y(P.image[K],!1,!0,c),Z[K]=en(P,Z[K]);const H=Z[0],le=w(H)||a,be=s.convert(P.format,P.colorSpace),_e=s.convert(P.type),Me=b(P.internalFormat,be,_e,P.colorSpace),it=a&&!0!==P.isVideoTexture,Tt=void 0===ge.__version||!0===me;let xe,G=x(P,H,le);if(ye(n.TEXTURE_CUBE_MAP,P,le),Ue){it&&Tt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,G,Me,H.width,H.height);for(let K=0;K<6;K++){xe=Z[K].mipmaps;for(let he=0;he<xe.length;he++){const Se=xe[he];P.format!==Ir?null!==be?it?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,he,0,0,Se.width,Se.height,be,Se.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,he,Me,Se.width,Se.height,0,Se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,he,0,0,Se.width,Se.height,be,_e,Se.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,he,Me,Se.width,Se.height,0,be,_e,Se.data)}}}else{xe=P.mipmaps,it&&Tt&&(xe.length>0&&G++,t.texStorage2D(n.TEXTURE_CUBE_MAP,G,Me,Z[0].width,Z[0].height));for(let K=0;K<6;K++)if(ve){it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,0,0,0,Z[K].width,Z[K].height,be,_e,Z[K].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,0,Me,Z[K].width,Z[K].height,0,be,_e,Z[K].data);for(let he=0;he<xe.length;he++){const yt=xe[he].image[K].image;it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,he+1,0,0,yt.width,yt.height,be,_e,yt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,he+1,Me,yt.width,yt.height,0,be,_e,yt.data)}}else{it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,0,0,0,be,_e,Z[K]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,0,Me,be,_e,Z[K]);for(let he=0;he<xe.length;he++){const Se=xe[he];it?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,he+1,0,0,be,_e,Se.image[K]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+K,he+1,Me,be,_e,Se.image[K])}}}E(P,le)&&M(n.TEXTURE_CUBE_MAP),ge.__version=ce.version,P.onUpdate&&P.onUpdate(P)}k.__version=P.version}(Q,k,P):t.bindTexture(n.TEXTURE_CUBE_MAP,Q.__webglTexture,n.TEXTURE0+P)},this.rebindTextures=function de(k,P,Q){const me=i.get(k);void 0!==P&&Be(me.__webglFramebuffer,k,k.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==Q&&ie(k)},this.setupRenderTarget=function ae(k){const P=k.texture,Q=i.get(k),me=i.get(P);k.addEventListener("dispose",N),!0!==k.isWebGLMultipleRenderTargets&&(void 0===me.__webglTexture&&(me.__webglTexture=n.createTexture()),me.__version=P.version,o.memory.textures++);const ce=!0===k.isWebGLCubeRenderTarget,ge=!0===k.isWebGLMultipleRenderTargets,Ue=w(k)||a;if(ce){Q.__webglFramebuffer=[];for(let ve=0;ve<6;ve++)if(a&&P.mipmaps&&P.mipmaps.length>0){Q.__webglFramebuffer[ve]=[];for(let Z=0;Z<P.mipmaps.length;Z++)Q.__webglFramebuffer[ve][Z]=n.createFramebuffer()}else Q.__webglFramebuffer[ve]=n.createFramebuffer()}else{if(a&&P.mipmaps&&P.mipmaps.length>0){Q.__webglFramebuffer=[];for(let ve=0;ve<P.mipmaps.length;ve++)Q.__webglFramebuffer[ve]=n.createFramebuffer()}else Q.__webglFramebuffer=n.createFramebuffer();if(ge)if(r.drawBuffers){const ve=k.texture;for(let Z=0,H=ve.length;Z<H;Z++){const le=i.get(ve[Z]);void 0===le.__webglTexture&&(le.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&k.samples>0&&!1===Ke(k)){const ve=ge?P:[P];Q.__webglMultisampledFramebuffer=n.createFramebuffer(),Q.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Q.__webglMultisampledFramebuffer);for(let Z=0;Z<ve.length;Z++){const H=ve[Z];Q.__webglColorRenderbuffer[Z]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Q.__webglColorRenderbuffer[Z]);const le=s.convert(H.format,H.colorSpace),be=s.convert(H.type),_e=b(H.internalFormat,le,be,H.colorSpace,!0===k.isXRRenderTarget),Me=Te(k);n.renderbufferStorageMultisample(n.RENDERBUFFER,Me,_e,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Z,n.RENDERBUFFER,Q.__webglColorRenderbuffer[Z])}n.bindRenderbuffer(n.RENDERBUFFER,null),k.depthBuffer&&(Q.__webglDepthRenderbuffer=n.createRenderbuffer(),z(Q.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ce){t.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture),ye(n.TEXTURE_CUBE_MAP,P,Ue);for(let ve=0;ve<6;ve++)if(a&&P.mipmaps&&P.mipmaps.length>0)for(let Z=0;Z<P.mipmaps.length;Z++)Be(Q.__webglFramebuffer[ve][Z],k,P,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Z);else Be(Q.__webglFramebuffer[ve],k,P,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0);E(P,Ue)&&M(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ge){const ve=k.texture;for(let Z=0,H=ve.length;Z<H;Z++){const le=ve[Z],be=i.get(le);t.bindTexture(n.TEXTURE_2D,be.__webglTexture),ye(n.TEXTURE_2D,le,Ue),Be(Q.__webglFramebuffer,k,le,n.COLOR_ATTACHMENT0+Z,n.TEXTURE_2D,0),E(le,Ue)&&M(n.TEXTURE_2D)}t.unbindTexture()}else{let ve=n.TEXTURE_2D;if((k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(a?ve=k.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ve,me.__webglTexture),ye(ve,P,Ue),a&&P.mipmaps&&P.mipmaps.length>0)for(let Z=0;Z<P.mipmaps.length;Z++)Be(Q.__webglFramebuffer[Z],k,P,n.COLOR_ATTACHMENT0,ve,Z);else Be(Q.__webglFramebuffer,k,P,n.COLOR_ATTACHMENT0,ve,0);E(P,Ue)&&M(ve),t.unbindTexture()}k.depthBuffer&&ie(k)},this.updateRenderTargetMipmap=function Ne(k){const P=w(k)||a,Q=!0===k.isWebGLMultipleRenderTargets?k.texture:[k.texture];for(let me=0,ce=Q.length;me<ce;me++){const ge=Q[me];if(E(ge,P)){const Ue=k.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,ve=i.get(ge).__webglTexture;t.bindTexture(Ue,ve),M(Ue),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Ee(k){if(a&&k.samples>0&&!1===Ke(k)){const P=k.isWebGLMultipleRenderTargets?k.texture:[k.texture],Q=k.width,me=k.height;let ce=n.COLOR_BUFFER_BIT;const ge=[],Ue=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ve=i.get(k),Z=!0===k.isWebGLMultipleRenderTargets;if(Z)for(let H=0;H<P.length;H++)t.bindFramebuffer(n.FRAMEBUFFER,ve.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+H,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ve.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+H,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ve.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ve.__webglFramebuffer);for(let H=0;H<P.length;H++){ge.push(n.COLOR_ATTACHMENT0+H),k.depthBuffer&&ge.push(Ue);const le=void 0!==ve.__ignoreDepthValues&&ve.__ignoreDepthValues;if(!1===le&&(k.depthBuffer&&(ce|=n.DEPTH_BUFFER_BIT),k.stencilBuffer&&(ce|=n.STENCIL_BUFFER_BIT)),Z&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ve.__webglColorRenderbuffer[H]),!0===le&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ue]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ue])),Z){const be=i.get(P[H]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,be,0)}n.blitFramebuffer(0,0,Q,me,0,0,Q,me,ce,n.NEAREST),h&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ge)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Z)for(let H=0;H<P.length;H++){t.bindFramebuffer(n.FRAMEBUFFER,ve.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+H,n.RENDERBUFFER,ve.__webglColorRenderbuffer[H]);const le=i.get(P[H]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ve.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+H,n.TEXTURE_2D,le,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ve.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=ie,this.setupFrameBufferTexture=Be,this.useMultisampledRTT=Ke}function QZ(n,e,t){const i=t.isWebGL2;return{convert:function r(s,o=Za){let a;if(s===xi)return n.UNSIGNED_BYTE;if(s===L2)return n.UNSIGNED_SHORT_4_4_4_4;if(s===O2)return n.UNSIGNED_SHORT_5_5_5_1;if(s===QY)return n.BYTE;if(s===KY)return n.SHORT;if(s===ax)return n.UNSIGNED_SHORT;if(s===R2)return n.INT;if(s===to)return n.UNSIGNED_INT;if(s===no)return n.FLOAT;if(s===pf)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(s===ZY)return n.ALPHA;if(s===Ir)return n.RGBA;if(s===$Y)return n.LUMINANCE;if(s===JY)return n.LUMINANCE_ALPHA;if(s===qa)return n.DEPTH_COMPONENT;if(s===Qa)return n.DEPTH_STENCIL;if(s===gx)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(s===eX)return n.RED;if(s===N2)return n.RED_INTEGER;if(s===tX)return n.RG;if(s===F2)return n.RG_INTEGER;if(s===U2)return n.RGBA_INTEGER;if(s===lx||s===cx||s===ux||s===dx)if(o===lt){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(s===lx)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===cx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===ux)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===dx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(s===lx)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===cx)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===ux)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===dx)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(s===B2||s===k2||s===z2||s===H2){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(s===B2)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===k2)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===z2)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===H2)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(s===nX)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===V2||s===G2){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(s===V2)return o===lt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===G2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(s===W2||s===j2||s===Y2||s===X2||s===q2||s===Q2||s===K2||s===Z2||s===$2||s===J2||s===eR||s===tR||s===nR||s===iR){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(s===W2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===j2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Y2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===X2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===q2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Q2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===K2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Z2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===$2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===J2)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===eR)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===tR)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===nR)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===iR)return o===lt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(s===fx){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(s===fx)return o===lt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(s===iX||s===rR||s===sR||s===oR){if(a=e.get("EXT_texture_compression_rgtc"),null===a)return null;if(s===fx)return a.COMPRESSED_RED_RGTC1_EXT;if(s===rR)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===sR)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===oR)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===qo?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class KZ extends Un{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ol extends Vi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const ZZ={type:"move"};class Yx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ol,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ol,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new L,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new L),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ol,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new L,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new L),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const m of e.hand.values()){const g=t.getJointPose(m,i),v=this._getHandJoint(c,m);null!==g&&(v.matrix.fromArray(g.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=g.radius),v.visible=null!==g}const f=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(ZZ)))}return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new ol;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class cL extends xs{constructor(e,t,i,r,s,o,a,l,c,u){if((u=void 0!==u?u:qa)!==qa&&u!==Qa)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===qa&&(i=to),void 0===i&&u===Qa&&(i=qo),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:Tn,this.minFilter=void 0!==l?l:Tn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class $Z extends ws{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,p=null;const m=t.getContextAttributes();let g=null,v=null;const _=[],y=[],w=new Un;w.layers.enable(1),w.viewport=new Ot;const S=new Un;S.layers.enable(2),S.viewport=new Ot;const E=[w,S],M=new KZ;M.layers.enable(1),M.layers.enable(2);let b=null,x=null;function A(V){const Y=y.indexOf(V.inputSource);if(-1===Y)return;const $=_[Y];void 0!==$&&($.update(V.inputSource,V.frame,c||o),$.dispatchEvent({type:V.type,data:V.inputSource}))}function R(){r.removeEventListener("select",A),r.removeEventListener("selectstart",A),r.removeEventListener("selectend",A),r.removeEventListener("squeeze",A),r.removeEventListener("squeezestart",A),r.removeEventListener("squeezeend",A),r.removeEventListener("end",R),r.removeEventListener("inputsourceschange",N);for(let V=0;V<_.length;V++){const Y=y[V];null!==Y&&(y[V]=null,_[V].disconnect(Y))}b=null,x=null,e.setRenderTarget(g),h=null,f=null,d=null,r=null,v=null,W.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function N(V){for(let Y=0;Y<V.removed.length;Y++){const $=V.removed[Y],J=y.indexOf($);J>=0&&(y[J]=null,_[J].disconnect($))}for(let Y=0;Y<V.added.length;Y++){const $=V.added[Y];let J=y.indexOf($);if(-1===J){for(let Pe=0;Pe<_.length;Pe++){if(Pe>=y.length){y.push($),J=Pe;break}if(null===y[Pe]){y[Pe]=$,J=Pe;break}}if(-1===J)break}const ue=_[J];ue&&ue.connect($)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let Y=_[V];return void 0===Y&&(Y=new Yx,_[V]=Y),Y.getTargetRaySpace()},this.getControllerGrip=function(V){let Y=_[V];return void 0===Y&&(Y=new Yx,_[V]=Y),Y.getGripSpace()},this.getHand=function(V){let Y=_[V];return void 0===Y&&(Y=new Yx,_[V]=Y),Y.getHandSpace()},this.setFramebufferScaleFactor=function(V){s=V,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){a=V,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(V){c=V},this.getBaseLayer=function(){return null!==f?f:h},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var V=function _Y(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){x2(s,i,r,o,a,"next",l)}function a(l){x2(s,i,r,o,a,"throw",l)}o(void 0)})}}(function*(Y){if(r=Y,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",A),r.addEventListener("selectstart",A),r.addEventListener("selectend",A),r.addEventListener("squeeze",A),r.addEventListener("squeezestart",A),r.addEventListener("squeezeend",A),r.addEventListener("end",R),r.addEventListener("inputsourceschange",N),!0!==m.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)h=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:h}),v=new Si(h.framebufferWidth,h.framebufferHeight,{format:Ir,type:xi,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil});else{let $=null,J=null,ue=null;m.depth&&(ue=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,$=m.stencil?Qa:qa,J=m.stencil?qo:to);const Pe={colorFormat:t.RGBA8,depthFormat:ue,scaleFactor:s};d=new XRWebGLBinding(r,t),f=d.createProjectionLayer(Pe),r.updateRenderState({layers:[f]}),v=new Si(f.textureWidth,f.textureHeight,{format:Ir,type:xi,depthTexture:new cL(f.textureWidth,f.textureHeight,J,void 0,void 0,void 0,void 0,void 0,void 0,$),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0}),e.properties.get(v).__ignoreDepthValues=f.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield r.requestReferenceSpace(a),W.setContext(r),W.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(Y){return V.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const C=new L,T=new L;function O(V,Y){null===Y?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(Y.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(null===r)return;M.near=S.near=w.near=V.near,M.far=S.far=w.far=V.far,(b!==M.near||x!==M.far)&&(r.updateRenderState({depthNear:M.near,depthFar:M.far}),b=M.near,x=M.far);const Y=V.parent,$=M.cameras;O(M,Y);for(let J=0;J<$.length;J++)O($[J],Y);2===$.length?function I(V,Y,$){C.setFromMatrixPosition(Y.matrixWorld),T.setFromMatrixPosition($.matrixWorld);const J=C.distanceTo(T),ue=Y.projectionMatrix.elements,Pe=$.projectionMatrix.elements,ye=ue[14]/(ue[10]-1),Ie=ue[14]/(ue[10]+1),je=(ue[9]+1)/ue[5],At=(ue[9]-1)/ue[5],Be=(ue[8]-1)/ue[0],z=(Pe[8]+1)/Pe[0],pe=ye*Be,ie=ye*z,de=J/(-Be+z),ae=de*-Be;Y.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(ae),V.translateZ(de),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const Ne=ye+de,Ee=Ie+de;V.projectionMatrix.makePerspective(pe-ae,ie+(J-ae),je*Ie/Ee*Ne,At*Ie/Ee*Ne,Ne,Ee),V.projectionMatrixInverse.copy(V.projectionMatrix).invert()}(M,w,S):M.projectionMatrix.copy(w.projectionMatrix),function D(V,Y,$){null===$?V.matrix.copy(Y.matrixWorld):(V.matrix.copy($.matrixWorld),V.matrix.invert(),V.matrix.multiply(Y.matrixWorld)),V.matrix.decompose(V.position,V.quaternion,V.scale),V.updateMatrixWorld(!0);const J=V.children;for(let ue=0,Pe=J.length;ue<Pe;ue++)J[ue].updateMatrixWorld(!0);V.projectionMatrix.copy(Y.projectionMatrix),V.projectionMatrixInverse.copy(Y.projectionMatrixInverse),V.isPerspectiveCamera&&(V.fov=2*Bc*Math.atan(1/V.projectionMatrix.elements[5]),V.zoom=1)}(V,M,Y)},this.getCamera=function(){return M},this.getFoveation=function(){if(null!==f||null!==h)return l},this.setFoveation=function(V){l=V,null!==f&&(f.fixedFoveation=V),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=V)};let F=null;const W=new OR;W.setAnimationLoop(function B(V,Y){if(u=Y.getViewerPose(c||o),p=Y,null!==u){const $=u.views;null!==h&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let J=!1;$.length!==M.cameras.length&&(M.cameras.length=0,J=!0);for(let ue=0;ue<$.length;ue++){const Pe=$[ue];let ye=null;if(null!==h)ye=h.getViewport(Pe);else{const je=d.getViewSubImage(f,Pe);ye=je.viewport,0===ue&&(e.setRenderTargetTextures(v,je.colorTexture,f.ignoreDepthValues?void 0:je.depthStencilTexture),e.setRenderTarget(v))}let Ie=E[ue];void 0===Ie&&(Ie=new Un,Ie.layers.enable(ue),Ie.viewport=new Ot,E[ue]=Ie),Ie.matrix.fromArray(Pe.transform.matrix),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.projectionMatrix.fromArray(Pe.projectionMatrix),Ie.projectionMatrixInverse.copy(Ie.projectionMatrix).invert(),Ie.viewport.set(ye.x,ye.y,ye.width,ye.height),0===ue&&(M.matrix.copy(Ie.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),!0===J&&M.cameras.push(Ie)}}for(let $=0;$<_.length;$++){const J=y[$],ue=_[$];null!==J&&void 0!==ue&&ue.update(J,Y,c||o)}F&&F(V,Y),Y.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Y}),p=null}),this.setAnimationLoop=function(V){F=V},this.dispose=function(){}}}function JZ(n,e){function t(g,v){!0===g.matrixAutoUpdate&&g.updateMatrix(),v.value.copy(g.matrix)}function s(g,v){g.opacity.value=v.opacity,v.color&&g.diffuse.value.copy(v.color),v.emissive&&g.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(g.map.value=v.map,t(v.map,g.mapTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.bumpMap&&(g.bumpMap.value=v.bumpMap,t(v.bumpMap,g.bumpMapTransform),g.bumpScale.value=v.bumpScale,v.side===jn&&(g.bumpScale.value*=-1)),v.normalMap&&(g.normalMap.value=v.normalMap,t(v.normalMap,g.normalMapTransform),g.normalScale.value.copy(v.normalScale),v.side===jn&&g.normalScale.value.negate()),v.displacementMap&&(g.displacementMap.value=v.displacementMap,t(v.displacementMap,g.displacementMapTransform),g.displacementScale.value=v.displacementScale,g.displacementBias.value=v.displacementBias),v.emissiveMap&&(g.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,g.emissiveMapTransform)),v.specularMap&&(g.specularMap.value=v.specularMap,t(v.specularMap,g.specularMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);const _=e.get(v).envMap;if(_&&(g.envMap.value=_,g.flipEnvMap.value=_.isCubeTexture&&!1===_.isRenderTargetTexture?-1:1,g.reflectivity.value=v.reflectivity,g.ior.value=v.ior,g.refractionRatio.value=v.refractionRatio),v.lightMap){g.lightMap.value=v.lightMap;const y=!0===n._useLegacyLights?Math.PI:1;g.lightMapIntensity.value=v.lightMapIntensity*y,t(v.lightMap,g.lightMapTransform)}v.aoMap&&(g.aoMap.value=v.aoMap,g.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,g.aoMapTransform))}return{refreshFogUniforms:function i(g,v){v.color.getRGB(g.fogColor.value,LR(n)),v.isFog?(g.fogNear.value=v.near,g.fogFar.value=v.far):v.isFogExp2&&(g.fogDensity.value=v.density)},refreshMaterialUniforms:function r(g,v,_,y,w){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(g,v):v.isMeshToonMaterial?(s(g,v),function d(g,v){v.gradientMap&&(g.gradientMap.value=v.gradientMap)}(g,v)):v.isMeshPhongMaterial?(s(g,v),function u(g,v){g.specular.value.copy(v.specular),g.shininess.value=Math.max(v.shininess,1e-4)}(g,v)):v.isMeshStandardMaterial?(s(g,v),function f(g,v){g.metalness.value=v.metalness,v.metalnessMap&&(g.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,g.metalnessMapTransform)),g.roughness.value=v.roughness,v.roughnessMap&&(g.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,g.roughnessMapTransform)),e.get(v).envMap&&(g.envMapIntensity.value=v.envMapIntensity)}(g,v),v.isMeshPhysicalMaterial&&function h(g,v,_){g.ior.value=v.ior,v.sheen>0&&(g.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),g.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(g.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,g.sheenColorMapTransform)),v.sheenRoughnessMap&&(g.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,g.sheenRoughnessMapTransform))),v.clearcoat>0&&(g.clearcoat.value=v.clearcoat,g.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(g.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,g.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(g.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===jn&&g.clearcoatNormalScale.value.negate())),v.iridescence>0&&(g.iridescence.value=v.iridescence,g.iridescenceIOR.value=v.iridescenceIOR,g.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(g.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,g.iridescenceMapTransform)),v.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),v.transmission>0&&(g.transmission.value=v.transmission,g.transmissionSamplerMap.value=_.texture,g.transmissionSamplerSize.value.set(_.width,_.height),v.transmissionMap&&(g.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,g.transmissionMapTransform)),g.thickness.value=v.thickness,v.thicknessMap&&(g.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=v.attenuationDistance,g.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(g.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(g.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=v.specularIntensity,g.specularColor.value.copy(v.specularColor),v.specularColorMap&&(g.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,g.specularColorMapTransform)),v.specularIntensityMap&&(g.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,g.specularIntensityMapTransform))}(g,v,w)):v.isMeshMatcapMaterial?(s(g,v),function p(g,v){v.matcap&&(g.matcap.value=v.matcap)}(g,v)):v.isMeshDepthMaterial?s(g,v):v.isMeshDistanceMaterial?(s(g,v),function m(g,v){const _=e.get(v).light;g.referencePosition.value.setFromMatrixPosition(_.matrixWorld),g.nearDistance.value=_.shadow.camera.near,g.farDistance.value=_.shadow.camera.far}(g,v)):v.isMeshNormalMaterial?s(g,v):v.isLineBasicMaterial?(function o(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,v.map&&(g.map.value=v.map,t(v.map,g.mapTransform))}(g,v),v.isLineDashedMaterial&&function a(g,v){g.dashSize.value=v.dashSize,g.totalSize.value=v.dashSize+v.gapSize,g.scale.value=v.scale}(g,v)):v.isPointsMaterial?function l(g,v,_,y){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.size.value=v.size*_,g.scale.value=.5*y,v.map&&(g.map.value=v.map,t(v.map,g.uvTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest)}(g,v,_,y):v.isSpriteMaterial?function c(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.rotation.value=v.rotation,v.map&&(g.map.value=v.map,t(v.map,g.mapTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest)}(g,v):v.isShadowMaterial?(g.color.value.copy(v.color),g.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}}}function e$(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function h(_,y,w){const S=_.value;if(void 0===w[y]){if("number"==typeof S)w[y]=S;else{const E=Array.isArray(S)?S:[S],M=[];for(let b=0;b<E.length;b++)M.push(E[b].clone());w[y]=M}return!0}if("number"==typeof S){if(w[y]!==S)return w[y]=S,!0}else{const E=Array.isArray(w[y])?w[y]:[w[y]],M=Array.isArray(S)?S:[S];for(let b=0;b<E.length;b++){const x=E[b];if(!1===x.equals(M[b]))return x.copy(M[b]),!0}}return!1}function m(_){const y={boundary:0,storage:0};return"number"==typeof _?(y.boundary=4,y.storage=4):_.isVector2?(y.boundary=8,y.storage=8):_.isVector3||_.isColor?(y.boundary=16,y.storage=12):_.isVector4?(y.boundary=16,y.storage=16):_.isMatrix3?(y.boundary=48,y.storage=48):_.isMatrix4?(y.boundary=64,y.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),y}function g(_){const y=_.target;y.removeEventListener("dispose",g);const w=o.indexOf(y.__bindingPointIndex);o.splice(w,1),n.deleteBuffer(r[y.id]),delete r[y.id],delete s[y.id]}return{bind:function l(_,y){i.uniformBlockBinding(_,y.program)},update:function c(_,y){let w=r[_.id];void 0===w&&(function p(_){const y=_.uniforms;let w=0;let E=0;for(let M=0,b=y.length;M<b;M++){const x=y[M],A={boundary:0,storage:0},R=Array.isArray(x.value)?x.value:[x.value];for(let N=0,C=R.length;N<C;N++){const I=m(R[N]);A.boundary+=I.boundary,A.storage+=I.storage}x.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),x.__offset=w,M>0&&(E=w%16,0!==E&&16-E-A.boundary<0&&(w+=16-E,x.__offset=w)),w+=A.storage}E=w%16,E>0&&(w+=16-E),_.__size=w,_.__cache={}}(_),w=function u(_){const y=function d(){for(let _=0;_<a;_++)if(-1===o.indexOf(_))return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();_.__bindingPointIndex=y;const w=n.createBuffer(),S=_.__size,E=_.usage;return n.bindBuffer(n.UNIFORM_BUFFER,w),n.bufferData(n.UNIFORM_BUFFER,S,E),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,y,w),w}(_),r[_.id]=w,_.addEventListener("dispose",g)),i.updateUBOMapping(_,y.program);const E=e.render.frame;s[_.id]!==E&&(function f(_){const w=_.uniforms,S=_.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[_.id]);for(let E=0,M=w.length;E<M;E++){const b=w[E];if(!0===h(b,E,S)){const x=b.__offset,A=Array.isArray(b.value)?b.value:[b.value];let R=0;for(let N=0;N<A.length;N++){const C=A[N],T=m(C);"number"==typeof C?(b.__data[0]=C,n.bufferSubData(n.UNIFORM_BUFFER,x+R,b.__data)):C.isMatrix3?(b.__data[0]=C.elements[0],b.__data[1]=C.elements[1],b.__data[2]=C.elements[2],b.__data[3]=C.elements[0],b.__data[4]=C.elements[3],b.__data[5]=C.elements[4],b.__data[6]=C.elements[5],b.__data[7]=C.elements[0],b.__data[8]=C.elements[6],b.__data[9]=C.elements[7],b.__data[10]=C.elements[8],b.__data[11]=C.elements[0]):(C.toArray(b.__data,R),R+=T.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,x,b.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(_),s[_.id]=E)},dispose:function v(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}}}function t$(){const n=vf("canvas");return n.style.display="block",n}class Xx{constructor(e={}){const{canvas:t=t$(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;let f;this.isWebGLRenderer=!0,f=null!==i?i.getContextAttributes().alpha:o;const h=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const v=[],_=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=lt,this._useLegacyLights=!1,this.toneMapping=Yo,this.toneMappingExposure=1;const y=this;let w=!1,S=0,E=0,M=null,b=-1,x=null;const A=new Ot,R=new Ot;let N=null;const C=new Ce(0);let T=0,I=t.width,O=t.height,D=1,F=null,B=null;const W=new Ot(0,0,I,O),V=new Ot(0,0,I,O);let Y=!1;const $=new kx;let J=!1,ue=!1,Pe=null;const ye=new st,Ie=new ee,je=new L,At={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Be(){return null===M?D:1}let ie,de,ae,Ne,Ee,Te,Ke,wt,en,k,P,Q,me,ce,ge,Ue,ve,Z,H,le,be,_e,Me,it,z=i;function pe(U,X){for(let ne=0;ne<U.length;ne++){const te=t.getContext(U[ne],X);if(null!==te)return te}return null}try{const U={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Ic}`),t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",K,!1),t.addEventListener("webglcontextcreationerror",he,!1),null===z){const X=["webgl2","webgl","experimental-webgl"];if(!0===y.isWebGL1Renderer&&X.shift(),z=pe(X,U),null===z)throw pe(X)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===z.getShaderPrecisionFormat&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}function Tt(){ie=new pK(z),de=new lK(z,ie,e),ie.init(de),_e=new QZ(z,ie,de),ae=new XZ(z,ie,de),Ne=new vK(z),Ee=new NZ,Te=new qZ(z,ie,ae,Ee,de,_e,Ne),Ke=new uK(y),wt=new hK(y),en=new aq(z,de),Me=new oK(z,ie,en,de),k=new mK(z,en,Ne,Me),P=new xK(z,k,en,Ne),H=new wK(z,de,Te),Ue=new cK(Ee),Q=new OZ(y,Ke,wt,ie,de,Me,Ue),me=new JZ(y,Ee),ce=new UZ,ge=new GZ(ie,de),Z=new sK(y,Ke,wt,ae,P,f,l),ve=new YZ(y,P,de),it=new e$(z,Ne,de,ae),le=new aK(z,ie,Ne,de),be=new gK(z,ie,Ne,de),Ne.programs=Q.programs,y.capabilities=de,y.extensions=ie,y.properties=Ee,y.renderLists=ce,y.shadowMap=ve,y.state=ae,y.info=Ne}Tt();const G=new $Z(y,z);function xe(U){U.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function K(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const U=Ne.autoReset,X=ve.enabled,ne=ve.autoUpdate,j=ve.needsUpdate,te=ve.type;Tt(),Ne.autoReset=U,ve.enabled=X,ve.autoUpdate=ne,ve.needsUpdate=j,ve.type=te}function he(U){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",U.statusMessage)}function Se(U){const X=U.target;X.removeEventListener("dispose",Se),function yt(U){(function Ut(U){const X=Ee.get(U).programs;void 0!==X&&(X.forEach(function(ne){Q.releaseProgram(ne)}),U.isShaderMaterial&&Q.releaseShaderCache(U))})(U),Ee.remove(U)}(X)}this.xr=G,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const U=ie.get("WEBGL_lose_context");U&&U.loseContext()},this.forceContextRestore=function(){const U=ie.get("WEBGL_lose_context");U&&U.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(U){void 0!==U&&(D=U,this.setSize(I,O,!1))},this.getSize=function(U){return U.set(I,O)},this.setSize=function(U,X,ne=!0){G.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(I=U,O=X,t.width=Math.floor(U*D),t.height=Math.floor(X*D),!0===ne&&(t.style.width=U+"px",t.style.height=X+"px"),this.setViewport(0,0,U,X))},this.getDrawingBufferSize=function(U){return U.set(I*D,O*D).floor()},this.setDrawingBufferSize=function(U,X,ne){I=U,O=X,D=ne,t.width=Math.floor(U*ne),t.height=Math.floor(X*ne),this.setViewport(0,0,U,X)},this.getCurrentViewport=function(U){return U.copy(A)},this.getViewport=function(U){return U.copy(W)},this.setViewport=function(U,X,ne,j){U.isVector4?W.set(U.x,U.y,U.z,U.w):W.set(U,X,ne,j),ae.viewport(A.copy(W).multiplyScalar(D).floor())},this.getScissor=function(U){return U.copy(V)},this.setScissor=function(U,X,ne,j){U.isVector4?V.set(U.x,U.y,U.z,U.w):V.set(U,X,ne,j),ae.scissor(R.copy(V).multiplyScalar(D).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(U){ae.setScissorTest(Y=U)},this.setOpaqueSort=function(U){F=U},this.setTransparentSort=function(U){B=U},this.getClearColor=function(U){return U.copy(Z.getClearColor())},this.setClearColor=function(){Z.setClearColor.apply(Z,arguments)},this.getClearAlpha=function(){return Z.getClearAlpha()},this.setClearAlpha=function(){Z.setClearAlpha.apply(Z,arguments)},this.clear=function(U=!0,X=!0,ne=!0){let j=0;if(U){let te=!1;if(null!==M){const Oe=M.texture.format;te=Oe===U2||Oe===F2||Oe===N2}if(te){const Oe=M.texture.type,Ye=Oe===xi||Oe===to||Oe===ax||Oe===qo||Oe===L2||Oe===O2,$e=Z.getClearColor(),Je=Z.getClearAlpha(),xt=$e.r,Ze=$e.g,pt=$e.b;Ye?(h[0]=xt,h[1]=Ze,h[2]=pt,h[3]=Je,z.clearBufferuiv(z.COLOR,0,h)):(p[0]=xt,p[1]=Ze,p[2]=pt,p[3]=Je,z.clearBufferiv(z.COLOR,0,p))}else j|=z.COLOR_BUFFER_BIT}X&&(j|=z.DEPTH_BUFFER_BIT),ne&&(j|=z.STENCIL_BUFFER_BIT),z.clear(j)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",K,!1),t.removeEventListener("webglcontextcreationerror",he,!1),ce.dispose(),ge.dispose(),Ee.dispose(),Ke.dispose(),wt.dispose(),P.dispose(),Me.dispose(),it.dispose(),Q.dispose(),G.dispose(),G.removeEventListener("sessionstart",Zt),G.removeEventListener("sessionend",Cs),Pe&&(Pe.dispose(),Pe=null),Ti.stop()},this.renderBufferDirect=function(U,X,ne,j,te,Oe){null===X&&(X=At);const Ye=te.isMesh&&te.matrixWorld.determinant()<0,$e=function Ise(U,X,ne,j,te){!0!==X.isScene&&(X=At),Te.resetTextureUnits();const Oe=X.fog,$e=null===M?y.outputColorSpace:!0===M.isXRRenderTarget?M.texture.colorSpace:_s,Je=(j.isMeshStandardMaterial?wt:Ke).get(j.envMap||(j.isMeshStandardMaterial?X.environment:null)),xt=!0===j.vertexColors&&!!ne.attributes.color&&4===ne.attributes.color.itemSize,Ze=!!ne.attributes.tangent&&(!!j.normalMap||j.anisotropy>0),pt=!!ne.morphAttributes.position,gn=!!ne.morphAttributes.normal,Sn=!!ne.morphAttributes.color;let Ur=Yo;j.toneMapped&&(null===M||!0===M.isXRRenderTarget)&&(Ur=y.toneMapping);const xo=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,Pn=void 0!==xo?xo.length:0,St=Ee.get(j),ME=g.state.lights;!0!==J||!0!==ue&&U===x||Ue.setState(j,U,U===x&&j.id===b);let In=!1;j.version===St.__version?(St.needsLights&&St.lightsStateVersion!==ME.state.version||St.outputColorSpace!==$e||te.isInstancedMesh&&!1===St.instancing||!te.isInstancedMesh&&!0===St.instancing||te.isSkinnedMesh&&!1===St.skinning||!te.isSkinnedMesh&&!0===St.skinning||te.isInstancedMesh&&!0===St.instancingColor&&null===te.instanceColor||te.isInstancedMesh&&!1===St.instancingColor&&null!==te.instanceColor||St.envMap!==Je||!0===j.fog&&St.fog!==Oe||void 0!==St.numClippingPlanes&&(St.numClippingPlanes!==Ue.numPlanes||St.numIntersection!==Ue.numIntersection)||St.vertexAlphas!==xt||St.vertexTangents!==Ze||St.morphTargets!==pt||St.morphNormals!==gn||St.morphColors!==Sn||St.toneMapping!==Ur||!0===de.isWebGL2&&St.morphTargetsCount!==Pn)&&(In=!0):(In=!0,St.__version=j.version);let xl=St.currentProgram;!0===In&&(xl=pv(j,X,te));let $N=!1,eh=!1,bE=!1;const Ci=xl.getUniforms(),Sl=St.uniforms;if(ae.useProgram(xl.program)&&($N=!0,eh=!0,bE=!0),j.id!==b&&(b=j.id,eh=!0),$N||x!==U){if(Ci.setValue(z,"projectionMatrix",U.projectionMatrix),de.logarithmicDepthBuffer&&Ci.setValue(z,"logDepthBufFC",2/(Math.log(U.far+1)/Math.LN2)),x!==U&&(x=U,eh=!0,bE=!0),j.isShaderMaterial||j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshStandardMaterial||j.envMap){const pr=Ci.map.cameraPosition;void 0!==pr&&pr.setValue(z,je.setFromMatrixPosition(U.matrixWorld))}(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial)&&Ci.setValue(z,"isOrthographic",!0===U.isOrthographicCamera),(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial||j.isShadowMaterial||te.isSkinnedMesh)&&Ci.setValue(z,"viewMatrix",U.matrixWorldInverse)}if(te.isSkinnedMesh){Ci.setOptional(z,te,"bindMatrix"),Ci.setOptional(z,te,"bindMatrixInverse");const pr=te.skeleton;pr&&(de.floatVertexTextures?(null===pr.boneTexture&&pr.computeBoneTexture(),Ci.setValue(z,"boneTexture",pr.boneTexture,Te),Ci.setValue(z,"boneTextureSize",pr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const AE=ne.morphAttributes;if((void 0!==AE.position||void 0!==AE.normal||void 0!==AE.color&&!0===de.isWebGL2)&&H.update(te,ne,xl),(eh||St.receiveShadow!==te.receiveShadow)&&(St.receiveShadow=te.receiveShadow,Ci.setValue(z,"receiveShadow",te.receiveShadow)),j.isMeshGouraudMaterial&&null!==j.envMap&&(Sl.envMap.value=Je,Sl.flipEnvMap.value=Je.isCubeTexture&&!1===Je.isRenderTargetTexture?-1:1),eh&&(Ci.setValue(z,"toneMappingExposure",y.toneMappingExposure),St.needsLights&&function Rse(U,X){U.ambientLightColor.needsUpdate=X,U.lightProbe.needsUpdate=X,U.directionalLights.needsUpdate=X,U.directionalLightShadows.needsUpdate=X,U.pointLights.needsUpdate=X,U.pointLightShadows.needsUpdate=X,U.spotLights.needsUpdate=X,U.spotLightShadows.needsUpdate=X,U.rectAreaLights.needsUpdate=X,U.hemisphereLights.needsUpdate=X}(Sl,bE),Oe&&!0===j.fog&&me.refreshFogUniforms(Sl,Oe),me.refreshMaterialUniforms(Sl,j,D,O,Pe),ng.upload(z,St.uniformsList,Sl,Te)),j.isShaderMaterial&&!0===j.uniformsNeedUpdate&&(ng.upload(z,St.uniformsList,Sl,Te),j.uniformsNeedUpdate=!1),j.isSpriteMaterial&&Ci.setValue(z,"center",te.center),Ci.setValue(z,"modelViewMatrix",te.modelViewMatrix),Ci.setValue(z,"normalMatrix",te.normalMatrix),Ci.setValue(z,"modelMatrix",te.matrixWorld),j.isShaderMaterial||j.isRawShaderMaterial){const pr=j.uniformsGroups;for(let TE=0,Ose=pr.length;TE<Ose;TE++)if(de.isWebGL2){const JN=pr[TE];it.update(JN,xl),it.bind(JN,xl)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return xl}(U,X,ne,j,te);ae.setMaterial(j,Ye);let Je=ne.index,xt=1;if(!0===j.wireframe){if(Je=k.getWireframeAttribute(ne),void 0===Je)return;xt=2}const Ze=ne.drawRange,pt=ne.attributes.position;let gn=Ze.start*xt,Sn=(Ze.start+Ze.count)*xt;null!==Oe&&(gn=Math.max(gn,Oe.start*xt),Sn=Math.min(Sn,(Oe.start+Oe.count)*xt)),null!==Je?(gn=Math.max(gn,0),Sn=Math.min(Sn,Je.count)):null!=pt&&(gn=Math.max(gn,0),Sn=Math.min(Sn,pt.count));const Ur=Sn-gn;if(Ur<0||Ur===1/0)return;Me.setup(te,j,$e,ne,Je);let xo,Pn=le;if(null!==Je&&(xo=en.get(Je),Pn=be,Pn.setIndex(xo)),te.isMesh)!0===j.wireframe?(ae.setLineWidth(j.wireframeLinewidth*Be()),Pn.setMode(z.LINES)):Pn.setMode(z.TRIANGLES);else if(te.isLine){let St=j.linewidth;void 0===St&&(St=1),ae.setLineWidth(St*Be()),Pn.setMode(te.isLineSegments?z.LINES:te.isLineLoop?z.LINE_LOOP:z.LINE_STRIP)}else te.isPoints?Pn.setMode(z.POINTS):te.isSprite&&Pn.setMode(z.TRIANGLES);if(te.isInstancedMesh)Pn.renderInstances(gn,Ur,te.count);else if(ne.isInstancedBufferGeometry){const ME=Math.min(ne.instanceCount,void 0!==ne._maxInstanceCount?ne._maxInstanceCount:1/0);Pn.renderInstances(gn,Ur,ME)}else Pn.render(gn,Ur)},this.compile=function(U,X){function ne(j,te,Oe){!0===j.transparent&&j.side===sr&&!1===j.forceSinglePass?(j.side=jn,j.needsUpdate=!0,pv(j,te,Oe),j.side=eo,j.needsUpdate=!0,pv(j,te,Oe),j.side=sr):pv(j,te,Oe)}g=ge.get(U),g.init(),_.push(g),U.traverseVisible(function(j){j.isLight&&j.layers.test(X.layers)&&(g.pushLight(j),j.castShadow&&g.pushShadow(j))}),g.setupLights(y._useLegacyLights),U.traverse(function(j){const te=j.material;if(te)if(Array.isArray(te))for(let Oe=0;Oe<te.length;Oe++)ne(te[Oe],U,j);else ne(te,U,j)}),_.pop(),g=null};let Kt=null;function Zt(){Ti.stop()}function Cs(){Ti.start()}const Ti=new OR;function qN(U,X,ne,j){if(!1===U.visible)return;if(U.layers.test(X.layers))if(U.isGroup)ne=U.renderOrder;else if(U.isLOD)!0===U.autoUpdate&&U.update(X);else if(U.isLight)g.pushLight(U),U.castShadow&&g.pushShadow(U);else if(U.isSprite){if(!U.frustumCulled||$.intersectsSprite(U)){j&&je.setFromMatrixPosition(U.matrixWorld).applyMatrix4(ye);const Ye=P.update(U),$e=U.material;$e.visible&&m.push(U,Ye,$e,ne,je.z,null)}}else if((U.isMesh||U.isLine||U.isPoints)&&(!U.frustumCulled||$.intersectsObject(U))){const Ye=P.update(U),$e=U.material;if(j&&(void 0!==U.boundingSphere?(null===U.boundingSphere&&U.computeBoundingSphere(),je.copy(U.boundingSphere.center)):(null===Ye.boundingSphere&&Ye.computeBoundingSphere(),je.copy(Ye.boundingSphere.center)),je.applyMatrix4(U.matrixWorld).applyMatrix4(ye)),Array.isArray($e)){const Je=Ye.groups;for(let xt=0,Ze=Je.length;xt<Ze;xt++){const pt=Je[xt],gn=$e[pt.materialIndex];gn&&gn.visible&&m.push(U,Ye,gn,ne,je.z,pt)}}else $e.visible&&m.push(U,Ye,$e,ne,je.z,null)}const Oe=U.children;for(let Ye=0,$e=Oe.length;Ye<$e;Ye++)qN(Oe[Ye],X,ne,j)}function QN(U,X,ne,j){const te=U.opaque,Oe=U.transmissive,Ye=U.transparent;g.setupLightsView(ne),!0===J&&Ue.setGlobalState(y.clippingPlanes,ne),Oe.length>0&&function Pse(U,X,ne,j){const te=de.isWebGL2;null===Pe&&(Pe=new Si(1,1,{generateMipmaps:!0,type:ie.has("EXT_color_buffer_half_float")?pf:xi,minFilter:Xa,samples:te?4:0})),y.getDrawingBufferSize(Ie),te?Pe.setSize(Ie.x,Ie.y):Pe.setSize(Im(Ie.x),Im(Ie.y));const Oe=y.getRenderTarget();y.setRenderTarget(Pe),y.getClearColor(C),T=y.getClearAlpha(),T<1&&y.setClearColor(16777215,.5),y.clear();const Ye=y.toneMapping;y.toneMapping=Yo,hv(U,ne,j),Te.updateMultisampleRenderTarget(Pe),Te.updateRenderTargetMipmap(Pe);let $e=!1;for(let Je=0,xt=X.length;Je<xt;Je++){const Ze=X[Je],pt=Ze.object,gn=Ze.geometry,Sn=Ze.material,Ur=Ze.group;if(Sn.side===sr&&pt.layers.test(j.layers)){const xo=Sn.side;Sn.side=jn,Sn.needsUpdate=!0,KN(pt,ne,j,gn,Sn,Ur),Sn.side=xo,Sn.needsUpdate=!0,$e=!0}}!0===$e&&(Te.updateMultisampleRenderTarget(Pe),Te.updateRenderTargetMipmap(Pe)),y.setRenderTarget(Oe),y.setClearColor(C,T),y.toneMapping=Ye}(te,Oe,X,ne),j&&ae.viewport(A.copy(j)),te.length>0&&hv(te,X,ne),Oe.length>0&&hv(Oe,X,ne),Ye.length>0&&hv(Ye,X,ne),ae.buffers.depth.setTest(!0),ae.buffers.depth.setMask(!0),ae.buffers.color.setMask(!0),ae.setPolygonOffset(!1)}function hv(U,X,ne){const j=!0===X.isScene?X.overrideMaterial:null;for(let te=0,Oe=U.length;te<Oe;te++){const Ye=U[te],$e=Ye.object,Je=Ye.geometry,xt=null===j?Ye.material:j,Ze=Ye.group;$e.layers.test(ne.layers)&&KN($e,X,ne,Je,xt,Ze)}}function KN(U,X,ne,j,te,Oe){U.onBeforeRender(y,X,ne,j,te,Oe),U.modelViewMatrix.multiplyMatrices(ne.matrixWorldInverse,U.matrixWorld),U.normalMatrix.getNormalMatrix(U.modelViewMatrix),te.onBeforeRender(y,X,ne,j,U,Oe),!0===te.transparent&&te.side===sr&&!1===te.forceSinglePass?(te.side=jn,te.needsUpdate=!0,y.renderBufferDirect(ne,X,j,te,U,Oe),te.side=eo,te.needsUpdate=!0,y.renderBufferDirect(ne,X,j,te,U,Oe),te.side=sr):y.renderBufferDirect(ne,X,j,te,U,Oe),U.onAfterRender(y,X,ne,j,te,Oe)}function pv(U,X,ne){!0!==X.isScene&&(X=At);const j=Ee.get(U),te=g.state.lights,Ye=te.state.version,$e=Q.getParameters(U,te.state,g.state.shadowsArray,X,ne),Je=Q.getProgramCacheKey($e);let xt=j.programs;j.environment=U.isMeshStandardMaterial?X.environment:null,j.fog=X.fog,j.envMap=(U.isMeshStandardMaterial?wt:Ke).get(U.envMap||j.environment),void 0===xt&&(U.addEventListener("dispose",Se),xt=new Map,j.programs=xt);let Ze=xt.get(Je);if(void 0!==Ze){if(j.currentProgram===Ze&&j.lightsStateVersion===Ye)return ZN(U,$e),Ze}else $e.uniforms=Q.getUniforms(U),U.onBuild(ne,$e,y),U.onBeforeCompile($e,y),Ze=Q.acquireProgram($e,Je),xt.set(Je,Ze),j.uniforms=$e.uniforms;const pt=j.uniforms;(!U.isShaderMaterial&&!U.isRawShaderMaterial||!0===U.clipping)&&(pt.clippingPlanes=Ue.uniform),ZN(U,$e),j.needsLights=function Lse(U){return U.isMeshLambertMaterial||U.isMeshToonMaterial||U.isMeshPhongMaterial||U.isMeshStandardMaterial||U.isShadowMaterial||U.isShaderMaterial&&!0===U.lights}(U),j.lightsStateVersion=Ye,j.needsLights&&(pt.ambientLightColor.value=te.state.ambient,pt.lightProbe.value=te.state.probe,pt.directionalLights.value=te.state.directional,pt.directionalLightShadows.value=te.state.directionalShadow,pt.spotLights.value=te.state.spot,pt.spotLightShadows.value=te.state.spotShadow,pt.rectAreaLights.value=te.state.rectArea,pt.ltc_1.value=te.state.rectAreaLTC1,pt.ltc_2.value=te.state.rectAreaLTC2,pt.pointLights.value=te.state.point,pt.pointLightShadows.value=te.state.pointShadow,pt.hemisphereLights.value=te.state.hemi,pt.directionalShadowMap.value=te.state.directionalShadowMap,pt.directionalShadowMatrix.value=te.state.directionalShadowMatrix,pt.spotShadowMap.value=te.state.spotShadowMap,pt.spotLightMatrix.value=te.state.spotLightMatrix,pt.spotLightMap.value=te.state.spotLightMap,pt.pointShadowMap.value=te.state.pointShadowMap,pt.pointShadowMatrix.value=te.state.pointShadowMatrix);const gn=Ze.getUniforms(),Sn=ng.seqWithValue(gn.seq,pt);return j.currentProgram=Ze,j.uniformsList=Sn,Ze}function ZN(U,X){const ne=Ee.get(U);ne.outputColorSpace=X.outputColorSpace,ne.instancing=X.instancing,ne.instancingColor=X.instancingColor,ne.skinning=X.skinning,ne.morphTargets=X.morphTargets,ne.morphNormals=X.morphNormals,ne.morphColors=X.morphColors,ne.morphTargetsCount=X.morphTargetsCount,ne.numClippingPlanes=X.numClippingPlanes,ne.numIntersection=X.numClipIntersection,ne.vertexAlphas=X.vertexAlphas,ne.vertexTangents=X.vertexTangents,ne.toneMapping=X.toneMapping}Ti.setAnimationLoop(function ua(U){Kt&&Kt(U)}),typeof self<"u"&&Ti.setContext(self),this.setAnimationLoop=function(U){Kt=U,G.setAnimationLoop(U),null===U?Ti.stop():Ti.start()},G.addEventListener("sessionstart",Zt),G.addEventListener("sessionend",Cs),this.render=function(U,X){if(void 0===X||!0===X.isCamera){if(!0!==w){if(!0===U.matrixWorldAutoUpdate&&U.updateMatrixWorld(),null===X.parent&&!0===X.matrixWorldAutoUpdate&&X.updateMatrixWorld(),!0===G.enabled&&!0===G.isPresenting&&(!0===G.cameraAutoUpdate&&G.updateCamera(X),X=G.getCamera()),!0===U.isScene&&U.onBeforeRender(y,U,X,M),g=ge.get(U,_.length),g.init(),_.push(g),ye.multiplyMatrices(X.projectionMatrix,X.matrixWorldInverse),$.setFromProjectionMatrix(ye),ue=this.localClippingEnabled,J=Ue.init(this.clippingPlanes,ue),m=ce.get(U,v.length),m.init(),v.push(m),qN(U,X,0,y.sortObjects),m.finish(),!0===y.sortObjects&&m.sort(F,B),this.info.render.frame++,!0===J&&Ue.beginShadows(),ve.render(g.state.shadowsArray,U,X),!0===J&&Ue.endShadows(),!0===this.info.autoReset&&this.info.reset(),Z.render(m,U),g.setupLights(y._useLegacyLights),X.isArrayCamera){const j=X.cameras;for(let te=0,Oe=j.length;te<Oe;te++){const Ye=j[te];QN(m,U,Ye,Ye.viewport)}}else QN(m,U,X);null!==M&&(Te.updateMultisampleRenderTarget(M),Te.updateRenderTargetMipmap(M)),!0===U.isScene&&U.onAfterRender(y,U,X),Me.resetDefaultState(),b=-1,x=null,_.pop(),g=_.length>0?_[_.length-1]:null,v.pop(),m=v.length>0?v[v.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(U,X,ne){Ee.get(U.texture).__webglTexture=X,Ee.get(U.depthTexture).__webglTexture=ne;const j=Ee.get(U);j.__hasExternalTextures=!0,j.__hasExternalTextures&&(j.__autoAllocateDepthBuffer=void 0===ne,j.__autoAllocateDepthBuffer||!0===ie.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),j.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(U,X){const ne=Ee.get(U);ne.__webglFramebuffer=X,ne.__useDefaultFramebuffer=void 0===X},this.setRenderTarget=function(U,X=0,ne=0){M=U,S=X,E=ne;let j=!0,te=null,Oe=!1,Ye=!1;if(U){const Je=Ee.get(U);void 0!==Je.__useDefaultFramebuffer?(ae.bindFramebuffer(z.FRAMEBUFFER,null),j=!1):void 0===Je.__webglFramebuffer?Te.setupRenderTarget(U):Je.__hasExternalTextures&&Te.rebindTextures(U,Ee.get(U.texture).__webglTexture,Ee.get(U.depthTexture).__webglTexture);const xt=U.texture;(xt.isData3DTexture||xt.isDataArrayTexture||xt.isCompressedArrayTexture)&&(Ye=!0);const Ze=Ee.get(U).__webglFramebuffer;U.isWebGLCubeRenderTarget?(te=Array.isArray(Ze[X])?Ze[X][ne]:Ze[X],Oe=!0):te=de.isWebGL2&&U.samples>0&&!1===Te.useMultisampledRTT(U)?Ee.get(U).__webglMultisampledFramebuffer:Array.isArray(Ze)?Ze[ne]:Ze,A.copy(U.viewport),R.copy(U.scissor),N=U.scissorTest}else A.copy(W).multiplyScalar(D).floor(),R.copy(V).multiplyScalar(D).floor(),N=Y;if(ae.bindFramebuffer(z.FRAMEBUFFER,te)&&de.drawBuffers&&j&&ae.drawBuffers(U,te),ae.viewport(A),ae.scissor(R),ae.setScissorTest(N),Oe){const Je=Ee.get(U.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+X,Je.__webglTexture,ne)}else if(Ye){const Je=Ee.get(U.texture);z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,Je.__webglTexture,ne||0,X||0)}b=-1},this.readRenderTargetPixels=function(U,X,ne,j,te,Oe,Ye){if(!U||!U.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let $e=Ee.get(U).__webglFramebuffer;if(U.isWebGLCubeRenderTarget&&void 0!==Ye&&($e=$e[Ye]),$e){ae.bindFramebuffer(z.FRAMEBUFFER,$e);try{const Je=U.texture,xt=Je.format,Ze=Je.type;if(xt!==Ir&&_e.convert(xt)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const pt=Ze===pf&&(ie.has("EXT_color_buffer_half_float")||de.isWebGL2&&ie.has("EXT_color_buffer_float"));if(!(Ze===xi||_e.convert(Ze)===z.getParameter(z.IMPLEMENTATION_COLOR_READ_TYPE)||Ze===no&&(de.isWebGL2||ie.has("OES_texture_float")||ie.has("WEBGL_color_buffer_float"))||pt))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");X>=0&&X<=U.width-j&&ne>=0&&ne<=U.height-te&&z.readPixels(X,ne,j,te,_e.convert(xt),_e.convert(Ze),Oe)}finally{const Je=null!==M?Ee.get(M).__webglFramebuffer:null;ae.bindFramebuffer(z.FRAMEBUFFER,Je)}}},this.copyFramebufferToTexture=function(U,X,ne=0){const j=Math.pow(2,-ne),te=Math.floor(X.image.width*j),Oe=Math.floor(X.image.height*j);Te.setTexture2D(X,0),z.copyTexSubImage2D(z.TEXTURE_2D,ne,0,0,U.x,U.y,te,Oe),ae.unbindTexture()},this.copyTextureToTexture=function(U,X,ne,j=0){const te=X.image.width,Oe=X.image.height,Ye=_e.convert(ne.format),$e=_e.convert(ne.type);Te.setTexture2D(ne,0),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,ne.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,ne.unpackAlignment),X.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,j,U.x,U.y,te,Oe,Ye,$e,X.image.data):X.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,j,U.x,U.y,X.mipmaps[0].width,X.mipmaps[0].height,Ye,X.mipmaps[0].data):z.texSubImage2D(z.TEXTURE_2D,j,U.x,U.y,Ye,$e,X.image),0===j&&ne.generateMipmaps&&z.generateMipmap(z.TEXTURE_2D),ae.unbindTexture()},this.copyTextureToTexture3D=function(U,X,ne,j,te=0){if(y.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Oe=U.max.x-U.min.x+1,Ye=U.max.y-U.min.y+1,$e=U.max.z-U.min.z+1,Je=_e.convert(j.format),xt=_e.convert(j.type);let Ze;if(j.isData3DTexture)Te.setTexture3D(j,0),Ze=z.TEXTURE_3D;else{if(!j.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Te.setTexture2DArray(j,0),Ze=z.TEXTURE_2D_ARRAY}z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,j.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,j.unpackAlignment);const pt=z.getParameter(z.UNPACK_ROW_LENGTH),gn=z.getParameter(z.UNPACK_IMAGE_HEIGHT),Sn=z.getParameter(z.UNPACK_SKIP_PIXELS),Ur=z.getParameter(z.UNPACK_SKIP_ROWS),xo=z.getParameter(z.UNPACK_SKIP_IMAGES),Pn=ne.isCompressedTexture?ne.mipmaps[0]:ne.image;z.pixelStorei(z.UNPACK_ROW_LENGTH,Pn.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,Pn.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,U.min.x),z.pixelStorei(z.UNPACK_SKIP_ROWS,U.min.y),z.pixelStorei(z.UNPACK_SKIP_IMAGES,U.min.z),ne.isDataTexture||ne.isData3DTexture?z.texSubImage3D(Ze,te,X.x,X.y,X.z,Oe,Ye,$e,Je,xt,Pn.data):ne.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),z.compressedTexSubImage3D(Ze,te,X.x,X.y,X.z,Oe,Ye,$e,Je,Pn.data)):z.texSubImage3D(Ze,te,X.x,X.y,X.z,Oe,Ye,$e,Je,xt,Pn),z.pixelStorei(z.UNPACK_ROW_LENGTH,pt),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,gn),z.pixelStorei(z.UNPACK_SKIP_PIXELS,Sn),z.pixelStorei(z.UNPACK_SKIP_ROWS,Ur),z.pixelStorei(z.UNPACK_SKIP_IMAGES,xo),0===te&&j.generateMipmaps&&z.generateMipmap(Ze),ae.unbindTexture()},this.initTexture=function(U){U.isCubeTexture?Te.setTextureCube(U,0):U.isData3DTexture?Te.setTexture3D(U,0):U.isDataArrayTexture||U.isCompressedArrayTexture?Te.setTexture2DArray(U,0):Te.setTexture2D(U,0),ae.unbindTexture()},this.resetState=function(){S=0,E=0,M=null,ae.reset(),Me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ro}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===lt?io:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===io?lt:_s}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}(class n$ extends Xx{}).prototype.isWebGL1Renderer=!0;class bf extends Vi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class ur extends ho{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ce(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const bL=new L,AL=new L,TL=new st,eS=new Xc,lg=new Ss;class Lf extends Vi{constructor(e=new ft,t=new ur){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)bL.fromBufferAttribute(t,r-1),AL.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=bL.distanceTo(AL);e.setAttribute("lineDistance",new Le(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),lg.copy(i.boundingSphere),lg.applyMatrix4(r),lg.radius+=s,!1===e.ray.intersectsSphere(lg))return;TL.copy(r).invert(),eS.copy(e.ray).applyMatrix4(TL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new L,u=new L,d=new L,f=new L,h=this.isLineSegments?2:1,p=i.index,g=i.attributes.position;if(null!==p)for(let y=Math.max(0,o.start),w=Math.min(p.count,o.start+o.count)-1;y<w;y+=h){const S=p.getX(y),E=p.getX(y+1);if(c.fromBufferAttribute(g,S),u.fromBufferAttribute(g,E),eS.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const b=e.ray.origin.distanceTo(f);b<e.near||b>e.far||t.push({distance:b,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(let y=Math.max(0,o.start),w=Math.min(g.count,o.start+o.count)-1;y<w;y+=h){if(c.fromBufferAttribute(g,y),u.fromBufferAttribute(g,y+1),eS.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(f);E<e.near||E>e.far||t.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const CL=new L,DL=new L;class tS extends Lf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)CL.fromBufferAttribute(t,r),DL.fromBufferAttribute(t,r+1),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+CL.distanceTo(DL);e.setAttribute("lineDistance",new Le(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class cg extends ho{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ce(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const PL=new st,nS=new Xc,ug=new Ss,dg=new L;class iS extends Vi{constructor(e=new ft,t=new cg){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),ug.copy(i.boundingSphere),ug.applyMatrix4(r),ug.radius+=s,!1===e.ray.intersectsSphere(ug))return;PL.copy(r).invert(),nS.copy(e.ray).applyMatrix4(PL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,d=i.attributes.position;if(null!==c)for(let p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);p<m;p++){const g=c.getX(p);dg.fromBufferAttribute(d,g),IL(dg,g,l,r,e,t,this)}else for(let p=Math.max(0,o.start),m=Math.min(d.count,o.start+o.count);p<m;p++)dg.fromBufferAttribute(d,p),IL(dg,p,l,r,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function IL(n,e,t,i,r,s,o){const a=nS.distanceSqToPoint(n);if(a<t){const l=new L;nS.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}function Lr(n,e,t){return AS(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)}function cl(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function AS(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}class Eg{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(void 0===r){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rJ extends Eg{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-i;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*i-t;break;case 2402:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=.5*(i-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,p=(i-t)/(r-t),m=p*p,g=m*p,v=-f*g+2*f*m-f*p,_=(1+f)*g+(-1.5-2*f)*m+(-.5+f)*p+1,y=(-1-h)*g+(1.5+h)*m+.5*p,w=h*g-h*m;for(let S=0;S!==a;++S)s[S]=v*o[u+S]+_*o[c+S]+y*o[l+S]+w*o[d+S];return s}}class YL extends Eg{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}}class sJ extends Eg{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class bs{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=cl(t,this.TimeBufferType),this.values=cl(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:cl(e.times,Array),values:cl(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new sJ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new YL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rJ(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==o&&i[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Lr(i,s,o),this.values=Lr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==r&&AS(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Lr(this.times),t=Lr(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(r)l=!0;else{const d=a*i,f=d-i,h=d+i;for(let p=0;p!==i;++p){const m=t[d+p];if(m!==t[f+p]||m!==t[h+p]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,f=o*i;for(let h=0;h!==i;++h)t[f+h]=t[d+h]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=Lr(e,0,o),this.values=Lr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=Lr(this.times,0),t=Lr(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}bs.prototype.TimeBufferType=Float32Array,bs.prototype.ValueBufferType=Float32Array,bs.prototype.DefaultInterpolation=2301;class yu extends bs{}yu.prototype.ValueTypeName="bool",yu.prototype.ValueBufferType=Array,yu.prototype.DefaultInterpolation=2300,yu.prototype.InterpolantFactoryMethodLinear=void 0,yu.prototype.InterpolantFactoryMethodSmooth=void 0;(class XL extends bs{}).prototype.ValueTypeName="color";(class Mg extends bs{}).prototype.ValueTypeName="number";class oJ extends Eg{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Ei.slerpFlat(s,0,o,c-a,o,c,l);return s}}class zf extends bs{InterpolantFactoryMethodLinear(e){return new oJ(this.times,this.values,this.getValueSize(),e)}}zf.prototype.ValueTypeName="quaternion",zf.prototype.DefaultInterpolation=2301,zf.prototype.InterpolantFactoryMethodSmooth=void 0;class _u extends bs{}_u.prototype.ValueTypeName="string",_u.prototype.ValueBufferType=Array,_u.prototype.DefaultInterpolation=2300,_u.prototype.InterpolantFactoryMethodLinear=void 0,_u.prototype.InterpolantFactoryMethodSmooth=void 0;(class bg extends bs{}).prototype.ValueTypeName="vector";const wu={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class qL{constructor(e,t,i){const r=this;let l,s=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,!1===s&&void 0!==r.onStart&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,void 0!==r.onProgress&&r.onProgress(u,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return-1!==d&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const cJ=new qL;let QL=(()=>{class n{constructor(t){this.manager=void 0!==t?t:cJ,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const r=this;return new Promise(function(s,o){r.load(t,s,i,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();class uJ extends Error{constructor(e,t){super(e),this.response=t}}class Tg extends QL{constructor(e){super(e)}load(e,t,i,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=wu.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=vf("img");function l(){u(),wu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class KL extends QL{constructor(e){super(e)}load(e,t,i,r){const s=new xs,o=new Tg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,void 0!==t&&t(s)},i,r),s}}class RS{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=oO(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=oO();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function oO(){return(typeof performance>"u"?Date:performance).now()}const LS="\\[\\]\\.:\\/",CJ=new RegExp("["+LS+"]","g"),OS="[^"+LS+"]",DJ="[^"+LS.replace("\\.","")+"]",OJ=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",OS)+/(WCOD+)?/.source.replace("WCOD",DJ)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",OS)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",OS)+"$"),NJ=["material","materials","bones","map"];class FJ{constructor(e,t,i){const r=i||Qt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let Qt=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(CJ,"")}static parseTrackName(t){const i=OJ.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==NJ.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===i||l.uuid===i)return l;const c=r(l.children);if(c)return c}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let o=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let u=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let d=0;d<t.length;d++)if(t[d].name===u){u=d;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=FJ,n})();Qt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Qt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Qt.prototype.GetterByBindingType=[Qt.prototype._getValue_direct,Qt.prototype._getValue_array,Qt.prototype._getValue_arrayElement,Qt.prototype._getValue_toArray],Qt.prototype.SetterByBindingTypeAndVersioning=[[Qt.prototype._setValue_direct,Qt.prototype._setValue_direct_setNeedsUpdate,Qt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_array,Qt.prototype._setValue_array_setNeedsUpdate,Qt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_arrayElement,Qt.prototype._setValue_arrayElement_setNeedsUpdate,Qt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Qt.prototype._setValue_fromArray,Qt.prototype._setValue_fromArray_setNeedsUpdate,Qt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class Nt{constructor(e){this.value=e}clone(){return new Nt(void 0===this.value.clone?this.value:this.value.clone())}}class uO{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(hn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class wO extends tS{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=new ft;r.setAttribute("position",new Le(t,3)),r.setAttribute("color",new Le([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(r,new ur({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,i){const r=new Ce,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ic}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ic);const xO={type:"change"},BS={type:"start"},SO={type:"end"},Ng=new Xc,EO=new Jo,HJ=Math.cos(70*_x_DEG2RAD);class MO extends ws{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new L,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Rc.ROTATE,MIDDLE:Rc.DOLLY,RIGHT:Rc.PAN},this.touches={ONE:Lc.ROTATE,TWO:Lc.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(H){H.addEventListener("keydown",P),this._domElementKeyEvents=H},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",P),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(xO),i.update(),s=r.NONE},this.update=function(){const H=new L,le=(new Ei).setFromUnitVectors(e.up,new L(0,1,0)),be=le.clone().invert(),_e=new L,Me=new Ei,it=new L,Tt=2*Math.PI;return function(){const xe=i.object.position;H.copy(xe).sub(i.target),H.applyQuaternion(le),a.setFromVector3(H),i.autoRotate&&s===r.NONE&&R(function x(){return 2*Math.PI/60/60*i.autoRotateSpeed}()),i.enableDamping?(a.theta+=l.theta*i.dampingFactor,a.phi+=l.phi*i.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let K=i.minAzimuthAngle,he=i.maxAzimuthAngle;isFinite(K)&&isFinite(he)&&(K<-Math.PI?K+=Tt:K>Math.PI&&(K-=Tt),he<-Math.PI?he+=Tt:he>Math.PI&&(he-=Tt),a.theta=K<=he?Math.max(K,Math.min(he,a.theta)):a.theta>(K+he)/2?Math.max(K,a.theta):Math.min(he,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),!0===i.enableDamping?i.target.addScaledVector(u,i.dampingFactor):i.target.add(u),a.radius=B(i.zoomToCursor&&E||i.object.isOrthographicCamera?a.radius:a.radius*c),H.setFromSpherical(a),H.applyQuaternion(be),xe.copy(i.target).add(H),i.object.lookAt(i.target),!0===i.enableDamping?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,u.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),u.set(0,0,0));let Se=!1;if(i.zoomToCursor&&E){let yt=null;if(i.object.isPerspectiveCamera){const Ut=H.length();yt=B(Ut*c),i.object.position.addScaledVector(w,Ut-yt),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ut=new L(S.x,S.y,0);Ut.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/c)),i.object.updateProjectionMatrix(),Se=!0;const Kt=new L(S.x,S.y,0);Kt.unproject(i.object),i.object.position.sub(Kt).add(Ut),i.object.updateMatrixWorld(),yt=H.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;null!==yt&&(this.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(yt).add(i.object.position):(Ng.origin.copy(i.object.position),Ng.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Ng.direction))<HJ?e.lookAt(i.target):(EO.setFromNormalAndCoplanarPoint(i.object.up,i.target),Ng.intersectPlane(EO,i.target))))}else i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/c)),i.object.updateProjectionMatrix(),Se=!0);return c=1,E=!1,!!(Se||_e.distanceToSquared(i.object.position)>o||8*(1-Me.dot(i.object.quaternion))>o||it.distanceToSquared(i.target)>0)&&(i.dispatchEvent(xO),_e.copy(i.object.position),Me.copy(i.object.quaternion),it.copy(i.target),Se=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",ce),i.domElement.removeEventListener("pointerdown",Ee),i.domElement.removeEventListener("pointercancel",Ke),i.domElement.removeEventListener("wheel",k),i.domElement.removeEventListener("pointermove",Te),i.domElement.removeEventListener("pointerup",Ke),null!==i._domElementKeyEvents&&(i._domElementKeyEvents.removeEventListener("keydown",P),i._domElementKeyEvents=null)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new uO,l=new uO;let c=1;const u=new L,d=new ee,f=new ee,h=new ee,p=new ee,m=new ee,g=new ee,v=new ee,_=new ee,y=new ee,w=new L,S=new ee;let E=!1;const M=[],b={};function A(){return Math.pow(.95,i.zoomSpeed)}function R(H){l.theta-=H}function N(H){l.phi-=H}const C=function(){const H=new L;return function(be,_e){H.setFromMatrixColumn(_e,0),H.multiplyScalar(-be),u.add(H)}}(),T=function(){const H=new L;return function(be,_e){!0===i.screenSpacePanning?H.setFromMatrixColumn(_e,1):(H.setFromMatrixColumn(_e,0),H.crossVectors(i.object.up,H)),H.multiplyScalar(be),u.add(H)}}(),I=function(){const H=new L;return function(be,_e){const Me=i.domElement;if(i.object.isPerspectiveCamera){H.copy(i.object.position).sub(i.target);let Tt=H.length();Tt*=Math.tan(i.object.fov/2*Math.PI/180),C(2*be*Tt/Me.clientHeight,i.object.matrix),T(2*_e*Tt/Me.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(C(be*(i.object.right-i.object.left)/i.object.zoom/Me.clientWidth,i.object.matrix),T(_e*(i.object.top-i.object.bottom)/i.object.zoom/Me.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function O(H){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?c/=H:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function D(H){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?c*=H:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function F(H){if(!i.zoomToCursor)return;E=!0;const le=i.domElement.getBoundingClientRect(),_e=H.clientY-le.top,it=le.height;S.x=(H.clientX-le.left)/le.width*2-1,S.y=-_e/it*2+1,w.set(S.x,S.y,1).unproject(e).sub(e.position).normalize()}function B(H){return Math.max(i.minDistance,Math.min(i.maxDistance,H))}function W(H){d.set(H.clientX,H.clientY)}function Y(H){p.set(H.clientX,H.clientY)}function Ie(){1===M.length?d.set(M[0].pageX,M[0].pageY):d.set(.5*(M[0].pageX+M[1].pageX),.5*(M[0].pageY+M[1].pageY))}function je(){1===M.length?p.set(M[0].pageX,M[0].pageY):p.set(.5*(M[0].pageX+M[1].pageX),.5*(M[0].pageY+M[1].pageY))}function At(){const H=M[0].pageX-M[1].pageX,le=M[0].pageY-M[1].pageY,be=Math.sqrt(H*H+le*le);v.set(0,be)}function pe(H){if(1==M.length)f.set(H.pageX,H.pageY);else{const be=Z(H);f.set(.5*(H.pageX+be.x),.5*(H.pageY+be.y))}h.subVectors(f,d).multiplyScalar(i.rotateSpeed);const le=i.domElement;R(2*Math.PI*h.x/le.clientHeight),N(2*Math.PI*h.y/le.clientHeight),d.copy(f)}function ie(H){if(1===M.length)m.set(H.pageX,H.pageY);else{const le=Z(H);m.set(.5*(H.pageX+le.x),.5*(H.pageY+le.y))}g.subVectors(m,p).multiplyScalar(i.panSpeed),I(g.x,g.y),p.copy(m)}function de(H){const le=Z(H),be=H.pageX-le.x,_e=H.pageY-le.y,Me=Math.sqrt(be*be+_e*_e);_.set(0,Me),y.set(0,Math.pow(_.y/v.y,i.zoomSpeed)),O(y.y),v.copy(_)}function Ee(H){!1!==i.enabled&&(0===M.length&&(i.domElement.setPointerCapture(H.pointerId),i.domElement.addEventListener("pointermove",Te),i.domElement.addEventListener("pointerup",Ke)),function ge(H){M.push(H)}(H),"touch"===H.pointerType?function Q(H){switch(ve(H),M.length){case 1:switch(i.touches.ONE){case Lc.ROTATE:if(!1===i.enableRotate)return;Ie(),s=r.TOUCH_ROTATE;break;case Lc.PAN:if(!1===i.enablePan)return;je(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(i.touches.TWO){case Lc.DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function Be(){i.enableZoom&&At(),i.enablePan&&je()})(),s=r.TOUCH_DOLLY_PAN;break;case Lc.DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function z(){i.enableZoom&&At(),i.enableRotate&&Ie()})(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(BS)}(H):function wt(H){let le;switch(H.button){case 0:le=i.mouseButtons.LEFT;break;case 1:le=i.mouseButtons.MIDDLE;break;case 2:le=i.mouseButtons.RIGHT;break;default:le=-1}switch(le){case Rc.DOLLY:if(!1===i.enableZoom)return;(function V(H){F(H),v.set(H.clientX,H.clientY)})(H),s=r.DOLLY;break;case Rc.ROTATE:if(H.ctrlKey||H.metaKey||H.shiftKey){if(!1===i.enablePan)return;Y(H),s=r.PAN}else{if(!1===i.enableRotate)return;W(H),s=r.ROTATE}break;case Rc.PAN:if(H.ctrlKey||H.metaKey||H.shiftKey){if(!1===i.enableRotate)return;W(H),s=r.ROTATE}else{if(!1===i.enablePan)return;Y(H),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(BS)}(H))}function Te(H){!1!==i.enabled&&("touch"===H.pointerType?function me(H){switch(ve(H),s){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;pe(H),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;ie(H),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function ae(H){i.enableZoom&&de(H),i.enablePan&&ie(H)})(H),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function Ne(H){i.enableZoom&&de(H),i.enableRotate&&pe(H)})(H),i.update();break;default:s=r.NONE}}(H):function en(H){switch(s){case r.ROTATE:if(!1===i.enableRotate)return;!function $(H){f.set(H.clientX,H.clientY),h.subVectors(f,d).multiplyScalar(i.rotateSpeed);const le=i.domElement;R(2*Math.PI*h.x/le.clientHeight),N(2*Math.PI*h.y/le.clientHeight),d.copy(f),i.update()}(H);break;case r.DOLLY:if(!1===i.enableZoom)return;!function J(H){_.set(H.clientX,H.clientY),y.subVectors(_,v),y.y>0?O(A()):y.y<0&&D(A()),v.copy(_),i.update()}(H);break;case r.PAN:if(!1===i.enablePan)return;!function ue(H){m.set(H.clientX,H.clientY),g.subVectors(m,p).multiplyScalar(i.panSpeed),I(g.x,g.y),p.copy(m),i.update()}(H)}}(H))}function Ke(H){(function Ue(H){delete b[H.pointerId];for(let le=0;le<M.length;le++)if(M[le].pointerId==H.pointerId)return void M.splice(le,1)})(H),0===M.length&&(i.domElement.releasePointerCapture(H.pointerId),i.domElement.removeEventListener("pointermove",Te),i.domElement.removeEventListener("pointerup",Ke)),i.dispatchEvent(SO),s=r.NONE}function k(H){!1===i.enabled||!1===i.enableZoom||s!==r.NONE||(H.preventDefault(),i.dispatchEvent(BS),function Pe(H){F(H),H.deltaY<0?D(A()):H.deltaY>0&&O(A()),i.update()}(H),i.dispatchEvent(SO))}function P(H){!1===i.enabled||!1===i.enablePan||function ye(H){let le=!1;switch(H.code){case i.keys.UP:H.ctrlKey||H.metaKey||H.shiftKey?N(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):I(0,i.keyPanSpeed),le=!0;break;case i.keys.BOTTOM:H.ctrlKey||H.metaKey||H.shiftKey?N(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):I(0,-i.keyPanSpeed),le=!0;break;case i.keys.LEFT:H.ctrlKey||H.metaKey||H.shiftKey?R(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):I(i.keyPanSpeed,0),le=!0;break;case i.keys.RIGHT:H.ctrlKey||H.metaKey||H.shiftKey?R(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):I(-i.keyPanSpeed,0),le=!0}le&&(H.preventDefault(),i.update())}(H)}function ce(H){!1!==i.enabled&&H.preventDefault()}function ve(H){let le=b[H.pointerId];void 0===le&&(le=new ee,b[H.pointerId]=le),le.set(H.pageX,H.pageY)}function Z(H){return b[(H.pointerId===M[0].pointerId?M[1]:M[0]).pointerId]}i.domElement.addEventListener("contextmenu",ce),i.domElement.addEventListener("pointerdown",Ee),i.domElement.addEventListener("pointercancel",Ke),i.domElement.addEventListener("wheel",k,{passive:!1}),this.update()}}var na="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",bO="",vt="srgb",xu="srgb-linear",AO=Number(Ic.replace(/\D+/g,"")),kS=AO>=152,TO=new Map([[3e3,xu],[io,vt]]),jJ=new Map([[xu,3e3],[vt,io]]);function Or(n){return null===n?null:kS?n.outputColorSpace:TO.get(n.outputEncoding)}function Jt(n,e){null!==n&&(kS?n.colorSpace=e:n.encoding=jJ.get(e))}function ml(n){return AO<154?n.replace("colorspace_fragment","encodings_fragment"):n}var zn={NONE:0,DEPTH:1,CONVOLUTION:2},Dt={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},tee=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],nee=class extends bi{constructor(n=new Ot){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Nt(null),texelSize:new Nt(new Ot),scale:new Nt(1),kernel:new Nt(0)},blending:zi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.fragmentShader=ml(this.fragmentShader),this.setTexelSize(n.x,n.y),this.kernelSize=2}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.inputBuffer=n}get kernelSequence(){return tee[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(n){this.uniforms.scale.value=n}getScale(){return this.uniforms.scale.value}setScale(n){this.uniforms.scale.value=n}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(n){this.uniforms.kernel.value=n}setKernel(n){this.kernel=n}setTexelSize(n,e){this.uniforms.texelSize.value.set(n,e,.5*n,.5*e)}setSize(n,e){const t=1/n,i=1/e;this.uniforms.texelSize.value.set(t,i,.5*t,.5*i)}},kg=class extends bi{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Nt(null),opacity:new Nt(1)},blending:zi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <colorspace_fragment>\n#include <dithering_fragment>\n}",vertexShader:na}),this.fragmentShader=ml(this.fragmentShader)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}getOpacity(n){return this.uniforms.opacity.value}setOpacity(n){this.uniforms.opacity.value=n}},gee=class extends bi{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Nt(null),texelSize:new Nt(new ee)},blending:zi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#define WEIGHT_INNER 0.125\n#define WEIGHT_OUTER 0.0555555\nvarying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.fragmentShader=ml(this.fragmentShader)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},See=class extends bi{constructor(n,e,t,i,r=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:Ic.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Nt(null),depthBuffer:new Nt(null),resolution:new Nt(new ee),texelSize:new Nt(new ee),cameraNear:new Nt(.3),cameraFar:new Nt(1e3),aspect:new Nt(1),time:new Nt(0)},blending:zi,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:r}),n&&this.setShaderParts(n),e&&this.setDefines(e),t&&this.setUniforms(t),this.copyCameraSettings(i)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(n){this.uniforms.depthBuffer.value=n}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(n){this.defines.DEPTH_PACKING=n.toFixed(0),this.needsUpdate=!0}setDepthBuffer(n,e=mf){this.depthBuffer=n,this.depthPacking=e}setShaderData(n){this.setShaderParts(n.shaderParts),this.setDefines(n.defines),this.setUniforms(n.uniforms),this.setExtensions(n.extensions)}setShaderParts(n){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <colorspace_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(Dt.FRAGMENT_HEAD,n.get(Dt.FRAGMENT_HEAD)||"").replace(Dt.FRAGMENT_MAIN_UV,n.get(Dt.FRAGMENT_MAIN_UV)||"").replace(Dt.FRAGMENT_MAIN_IMAGE,n.get(Dt.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}".replace(Dt.VERTEX_HEAD,n.get(Dt.VERTEX_HEAD)||"").replace(Dt.VERTEX_MAIN_SUPPORT,n.get(Dt.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=ml(this.fragmentShader),this.needsUpdate=!0,this}setDefines(n){for(const e of n.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(n){for(const e of n.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(n){this.extensions={};for(const e of n)this.extensions[e]=!0;return this}get encodeOutput(){return void 0!==this.defines.ENCODE_OUTPUT}set encodeOutput(n){this.encodeOutput!==n&&(n?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(n){return this.encodeOutput}setOutputEncodingEnabled(n){this.encodeOutput=n}get time(){return this.uniforms.time.value}set time(n){this.uniforms.time.value=n}setDeltaTime(n){this.uniforms.time.value+=n}adoptCameraSettings(n){this.copyCameraSettings(n)}copyCameraSettings(n){n&&(this.uniforms.cameraNear.value=n.near,this.uniforms.cameraFar.value=n.far,n instanceof Un?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(n,e){const t=this.uniforms;t.resolution.value.set(n,e),t.texelSize.value.set(1/n,1/e),t.aspect.value=n/e}static get Section(){return Dt}},Dee=class extends bi{constructor(n=!1,e=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:Ic.replace(/\D+/g,"")},uniforms:{inputBuffer:new Nt(null),threshold:new Nt(0),smoothing:new Nt(1),range:new Nt(null)},blending:zi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}",vertexShader:na}),this.colorOutput=n,this.luminanceRange=e}set inputBuffer(n){this.uniforms.inputBuffer.value=n}setInputBuffer(n){this.uniforms.inputBuffer.value=n}get threshold(){return this.uniforms.threshold.value}set threshold(n){this.smoothing>0||n>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=n}getThreshold(){return this.threshold}setThreshold(n){this.threshold=n}get smoothing(){return this.uniforms.smoothing.value}set smoothing(n){this.threshold>0||n>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=n}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(n){this.smoothing=n}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(n){}get colorOutput(){return void 0!==this.defines.COLOR}set colorOutput(n){n?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(n){return this.colorOutput}setColorOutputEnabled(n){this.colorOutput=n}get useRange(){return null!==this.luminanceRange}set useRange(n){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(n){null!==n?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=n,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(n){this.luminanceRange=n}},Yee=class extends bi{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Nt(null),supportBuffer:new Nt(null),texelSize:new Nt(new ee),radius:new Nt(.85)},blending:zi,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;\n#else\nuniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;\n#endif\nuniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);\n#include <colorspace_fragment>\n}",vertexShader:"uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}"}),this.fragmentShader=ml(this.fragmentShader)}set inputBuffer(n){this.uniforms.inputBuffer.value=n}set supportBuffer(n){this.uniforms.supportBuffer.value=n}get radius(){return this.uniforms.radius.value}set radius(n){this.uniforms.radius.value=n}setSize(n,e){this.uniforms.texelSize.value.set(1/n,1/e)}},Xee=new Qm,ra=null,As=class eF{constructor(e="Pass",t=new bf,i=Xee){this.name=e,this.renderer=null,this.scene=t,this.camera=i,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.fullscreenMaterial;null!==t&&(t.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return null!==this.screen?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;null!==t?t.material=e:(t=new Wi(function qee(){if(null===ra){const n=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);void 0!==(ra=new ft).setAttribute?(ra.setAttribute("position",new pn(n,3)),ra.setAttribute("uv",new pn(e,2))):(ra.addAttribute("position",new pn(n,3)),ra.addAttribute("uv",new pn(e,2)))}return ra}(),e),t.frustumCulled=!1,null===this.scene&&(this.scene=new bf),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=mf){}render(e,t,i,r,s){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,i){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof Si||t instanceof ho||t instanceof xs||t instanceof eF)&&this[e].dispose()}}},PO=class extends As{constructor(n,e=!0){super("CopyPass"),this.fullscreenMaterial=new kg,this.needsSwap=!1,this.renderTarget=n,void 0===n&&(this.renderTarget=new Si(1,1,{minFilter:$t,magFilter:$t,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(n){this.autoResize=n}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(n){this.autoResize=n}render(n,e,t,i,r){this.fullscreenMaterial.inputBuffer=e.texture,n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){this.autoResize&&this.renderTarget.setSize(n,e)}initialize(n,e,t){void 0!==t&&(this.renderTarget.texture.type=t,t!==xi?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":Or(n)===vt&&Jt(this.renderTarget.texture,vt))}},Kee=class extends As{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(n,e,t,i,r){const s=n.state.buffers.stencil;s.setLocked(!1),s.setTest(!1)}},IO=new Ce,Eu=class extends As{constructor(n=!0,e=!0,t=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=n,this.depth=e,this.stencil=t,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(n,e,t){this.color=n,this.depth=e,this.stencil=t}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(n){this.overrideClearColor=n}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(n){this.overrideClearAlpha=n}render(n,e,t,i,r){const s=this.overrideClearColor,o=this.overrideClearAlpha,a=n.getClearAlpha(),l=null!==s,c=o>=0;l?(n.getClearColor(IO),n.setClearColor(s,c?o:a)):c&&n.setClearAlpha(o),n.setRenderTarget(this.renderToScreen?null:e),n.clear(this.color,this.depth,this.stencil),l?n.setClearColor(IO,a):c&&n.setClearAlpha(a)}},ut=class extends ws{constructor(n,e=-1,t=-1,i=1){super(),this.resizable=n,this.baseSize=new ee(1,1),this.preferredSize=new ee(e,t),this.target=this.preferredSize,this.s=i,this.effectiveSize=new ee,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const n=this.baseSize,e=this.preferredSize,t=this.effectiveSize,i=this.scale;t.width=-1!==e.width?e.width:-1!==e.height?Math.round(e.height*(n.width/Math.max(n.height,1))):Math.round(n.width*i),t.height=-1!==e.height?e.height:-1!==e.width?Math.round(e.width/Math.max(n.width/Math.max(n.height,1),1)):Math.round(n.height*i)}get width(){return this.effectiveSize.width}set width(n){this.preferredWidth=n}get height(){return this.effectiveSize.height}set height(n){this.preferredHeight=n}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(n){this.s!==n&&(this.s=n,this.preferredSize.setScalar(-1),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(n){this.scale=n}get baseWidth(){return this.baseSize.width}set baseWidth(n){this.baseSize.width!==n&&(this.baseSize.width=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(n){this.baseWidth=n}get baseHeight(){return this.baseSize.height}set baseHeight(n){this.baseSize.height!==n&&(this.baseSize.height=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(n){this.baseHeight=n}setBaseSize(n,e){(this.baseSize.width!==n||this.baseSize.height!==e)&&(this.baseSize.set(n,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(n){this.preferredSize.width!==n&&(this.preferredSize.width=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(n){this.preferredWidth=n}get preferredHeight(){return this.preferredSize.height}set preferredHeight(n){this.preferredSize.height!==n&&(this.preferredSize.height=n,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(n){this.preferredHeight=n}setPreferredSize(n,e){(this.preferredSize.width!==n||this.preferredSize.height!==e)&&(this.preferredSize.set(n,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(n){this.s=n.scale,this.baseSize.set(n.baseWidth,n.baseHeight),this.preferredSize.set(n.preferredWidth,n.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return-1}},HS=!1,RO=class{constructor(n=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(n),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case sr:t=this.materialsFlatShadedDoubleSide;break;case jn:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded}else switch(e.material.side){case sr:t=this.materialsDoubleSide;break;case jn:t=this.materialsBackSide;break;default:t=this.materials}this.originalMaterials.set(e,e.material),e.material=e.isSkinnedMesh?t[2]:e.isInstancedMesh?t[1]:t[0],++this.meshCount}}}cloneMaterial(n){if(!(n instanceof bi))return n.clone();const e=n.uniforms,t=new Map;for(const r in e){const s=e[r].value;s.isRenderTargetTexture&&(e[r].value=null,t.set(r,s))}const i=n.clone();for(const r of t)e[r[0]].value=r[1],i.uniforms[r[0]].value=r[1];return i}setMaterial(n){if(this.disposeMaterials(),this.material=n,null!==n){const e=this.materials=[this.cloneMaterial(n),this.cloneMaterial(n),this.cloneMaterial(n)];for(const t of e)t.uniforms=Object.assign({},n.uniforms),t.side=eo;e[2].skinning=!0,this.materialsBackSide=e.map(t=>{const i=this.cloneMaterial(t);return i.uniforms=Object.assign({},n.uniforms),i.side=jn,i}),this.materialsDoubleSide=e.map(t=>{const i=this.cloneMaterial(t);return i.uniforms=Object.assign({},n.uniforms),i.side=sr,i}),this.materialsFlatShaded=e.map(t=>{const i=this.cloneMaterial(t);return i.uniforms=Object.assign({},n.uniforms),i.flatShading=!0,i}),this.materialsFlatShadedBackSide=e.map(t=>{const i=this.cloneMaterial(t);return i.uniforms=Object.assign({},n.uniforms),i.flatShading=!0,i.side=jn,i}),this.materialsFlatShadedDoubleSide=e.map(t=>{const i=this.cloneMaterial(t);return i.uniforms=Object.assign({},n.uniforms),i.flatShading=!0,i.side=sr,i})}}render(n,e,t){const i=n.shadowMap.enabled;if(n.shadowMap.enabled=!1,HS){const r=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),n.render(e,t);for(const s of r)s[0].material=s[1];this.meshCount!==r.size&&r.clear()}else{const r=e.overrideMaterial;e.overrideMaterial=this.material,n.render(e,t),e.overrideMaterial=r}n.shadowMap.enabled=i}disposeMaterials(){if(null!==this.material){const n=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of n)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return HS}static set workaroundEnabled(n){HS=n}},Mu=class extends As{constructor(n,e,t=null){super("RenderPass",n,e),this.needsSwap=!1,this.clearPass=new Eu,this.overrideMaterialManager=null===t?null:new RO(t),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(n){this.scene=n}set mainCamera(n){this.camera=n}get renderToScreen(){return super.renderToScreen}set renderToScreen(n){super.renderToScreen=n,this.clearPass.renderToScreen=n}get overrideMaterial(){const n=this.overrideMaterialManager;return null!==n?n.material:null}set overrideMaterial(n){const e=this.overrideMaterialManager;null!==n?null!==e?e.setMaterial(n):this.overrideMaterialManager=new RO(n):null!==e&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(n){this.overrideMaterial=n}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getSelection(){return this.selection}setSelection(n){this.selection=n}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(n){this.ignoreBackground=n}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(n){this.skipShadowMapUpdate=n}getClearPass(){return this.clearPass}render(n,e,t,i,r){const s=this.scene,o=this.camera,a=this.selection,l=o.layers.mask,c=s.background,u=n.shadowMap.autoUpdate,d=this.renderToScreen?null:e;null!==a&&o.layers.set(a.getLayer()),this.skipShadowMapUpdate&&(n.shadowMap.autoUpdate=!1),(this.ignoreBackground||null!==this.clearPass.overrideClearColor)&&(s.background=null),this.clearPass.enabled&&this.clearPass.render(n,e),n.setRenderTarget(d),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(n,s,o):n.render(s,o),o.layers.mask=l,s.background=c,n.shadowMap.autoUpdate=u}};function OO(n,e,t){for(const i of e){const r="$1"+n+i.charAt(0).toUpperCase()+i.slice(1),s=new RegExp("([^\\.])(\\b"+i+"\\b)","g");for(const o of t.entries())null!==o[1]&&t.set(o[0],o[1].replace(s,r))}}function Jee(n,e,t){let i=e.getFragmentShader(),r=e.getVertexShader();const s=void 0!==i&&/mainImage/.test(i),o=void 0!==i&&/mainUv/.test(i);if(t.attributes|=e.getAttributes(),void 0===i)throw new Error(`Missing fragment shader (${e.name})`);if(o&&t.attributes&zn.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!s&&!o)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const a=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=t.shaderParts;let c=l.get(Dt.FRAGMENT_HEAD)||"",u=l.get(Dt.FRAGMENT_MAIN_UV)||"",d=l.get(Dt.FRAGMENT_MAIN_IMAGE)||"",f=l.get(Dt.VERTEX_HEAD)||"",h=l.get(Dt.VERTEX_MAIN_SUPPORT)||"";const p=new Set,m=new Set;if(o&&(u+=`\t${n}MainUv(UV);\n`,t.uvTransformation=!0),null!==r&&/mainSupport/.test(r)){const _=/mainSupport *\([\w\s]*?uv\s*?\)/.test(r);h+=`\t${n}MainSupport(`,h+=_?"vUv);\n":");\n";for(const y of r.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const w of y[1].split(/\s*,\s*/))t.varyings.add(w),p.add(w),m.add(w);for(const y of r.matchAll(a))m.add(y[1])}for(const _ of i.matchAll(a))m.add(_[1]);for(const _ of e.defines.keys())m.add(_.replace(/\([\w\s,]*\)/g,""));for(const _ of e.uniforms.keys())m.add(_);m.delete("while"),m.delete("for"),m.delete("if"),e.uniforms.forEach((_,y)=>t.uniforms.set(n+y.charAt(0).toUpperCase()+y.slice(1),_)),e.defines.forEach((_,y)=>t.defines.set(n+y.charAt(0).toUpperCase()+y.slice(1),_));const g=new Map([["fragment",i],["vertex",r]]);OO(n,m,t.defines),OO(n,m,g),i=g.get("fragment"),r=g.get("vertex");const v=e.blendMode;if(t.blendModes.set(v.blendFunction,v),s){null!==e.inputColorSpace&&e.inputColorSpace!==t.colorSpace&&(d+=e.inputColorSpace===vt?"color0 = LinearTosRGB(color0);\n\t":"color0 = sRGBToLinear(color0);\n\t"),e.outputColorSpace!==bO?t.colorSpace=e.outputColorSpace:null!==e.inputColorSpace&&(t.colorSpace=e.inputColorSpace),d+=`${n}MainImage(color0, UV, `,t.attributes&zn.DEPTH&&/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/.test(i)&&(d+="depth, ",t.readDepth=!0),d+="color1);\n\t";const y=n+"BlendOpacity";t.uniforms.set(y,v.opacity),d+=`color0 = blend${v.blendFunction}(color0, color1, ${y});\n\n\t`,c+=`uniform float ${y};\n\n`}if(c+=i+"\n",null!==r&&(f+=r+"\n"),l.set(Dt.FRAGMENT_HEAD,c),l.set(Dt.FRAGMENT_MAIN_UV,u),l.set(Dt.FRAGMENT_MAIN_IMAGE,d),l.set(Dt.VERTEX_HEAD,f),l.set(Dt.VERTEX_MAIN_SUPPORT,h),null!==e.extensions)for(const _ of e.extensions)t.extensions.add(_)}}new Float32Array([255/256/256**3,255/256/65536,255/256/256,255/256]);var NO=class extends As{constructor(n,...e){super("EffectPass"),this.fullscreenMaterial=new See(null,null,null,n),this.listener=t=>this.handleEvent(t),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(n){for(const e of this.effects)e.mainScene=n}set mainCamera(n){this.fullscreenMaterial.copyCameraSettings(n);for(const e of this.effects)e.mainCamera=n}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(n){this.fullscreenMaterial.encodeOutput=n}get dithering(){return this.fullscreenMaterial.dithering}set dithering(n){const e=this.fullscreenMaterial;e.dithering=n,e.needsUpdate=!0}setEffects(n){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=n.sort((e,t)=>t.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const n=new ste;let e=0;for(const o of this.effects)if(9===o.blendMode.blendFunction)n.attributes|=o.getAttributes()&zn.DEPTH;else{if(n.attributes&o.getAttributes()&zn.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${o.name})`);Jee("e"+e++,o,n)}let t=n.shaderParts.get(Dt.FRAGMENT_HEAD),i=n.shaderParts.get(Dt.FRAGMENT_MAIN_IMAGE),r=n.shaderParts.get(Dt.FRAGMENT_MAIN_UV);const s=/\bblend\b/g;for(const o of n.blendModes.values())t+=o.getShaderCode().replace(s,`blend${o.blendFunction}`)+"\n";n.attributes&zn.DEPTH?(n.readDepth&&(i="float depth = readDepth(UV);\n\n\t"+i),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,n.colorSpace===vt&&(i+="color0 = sRGBToLinear(color0);\n\t"),n.uvTransformation?(r="vec2 transformedUv = vUv;\n"+r,n.defines.set("UV","transformedUv")):n.defines.set("UV","vUv"),n.shaderParts.set(Dt.FRAGMENT_HEAD,t),n.shaderParts.set(Dt.FRAGMENT_MAIN_IMAGE,i),n.shaderParts.set(Dt.FRAGMENT_MAIN_UV,r);for(const[o,a]of n.shaderParts)null!==a&&n.shaderParts.set(o,a.trim().replace(/^#/,"\n#"));this.skipRendering=0===e,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(n)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(n,e=mf){this.fullscreenMaterial.depthBuffer=n,this.fullscreenMaterial.depthPacking=e;for(const t of this.effects)t.setDepthTexture(n,e)}render(n,e,t,i,r){for(const s of this.effects)s.update(n,e,i);if(!this.skipRendering||this.renderToScreen){const s=this.fullscreenMaterial;s.inputBuffer=e.texture,s.time+=i*this.timeScale,n.setRenderTarget(this.renderToScreen?null:t),n.render(this.scene,this.camera)}}setSize(n,e){this.fullscreenMaterial.setSize(n,e);for(const t of this.effects)t.setSize(n,e)}initialize(n,e,t){this.renderer=n;for(const i of this.effects)i.initialize(n,e,t);this.updateMaterial(),void 0!==t&&t!==xi&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const n of this.effects)n.removeEventListener("change",this.listener),n.dispose()}handleEvent(n){"change"===n.type&&this.recompile()}},Hg=class extends As{constructor({kernelSize:n=2,resolutionScale:e=.5,width:t=ut.AUTO_SIZE,height:i=ut.AUTO_SIZE,resolutionX:r=t,resolutionY:s=i}={}){super("KawaseBlurPass"),this.renderTargetA=new Si(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const o=this.resolution=new ut(this,r,s,e);o.addEventListener("change",a=>this.setSize(o.baseWidth,o.baseHeight)),this._blurMaterial=new nee,this._blurMaterial.kernelSize=n,this.copyMaterial=new kg}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(n){this._blurMaterial=n}get dithering(){return this.copyMaterial.dithering}set dithering(n){this.copyMaterial.dithering=n}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(n){this.blurMaterial.kernelSize=n}get width(){return this.resolution.width}set width(n){this.resolution.preferredWidth=n}get height(){return this.resolution.height}set height(n){this.resolution.preferredHeight=n}get scale(){return this.blurMaterial.scale}set scale(n){this.blurMaterial.scale=n}getScale(){return this.blurMaterial.scale}setScale(n){this.blurMaterial.scale=n}getKernelSize(){return this.kernelSize}setKernelSize(n){this.kernelSize=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}render(n,e,t,i,r){const s=this.scene,o=this.camera,a=this.renderTargetA,l=this.renderTargetB,c=this.blurMaterial,u=c.kernelSequence;let d=e;this.fullscreenMaterial=c;for(let f=0,h=u.length;f<h;++f){const p=1&f?l:a;c.kernel=u[f],c.inputBuffer=d.texture,n.setRenderTarget(p),n.render(s,o),d=p}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=d.texture,n.setRenderTarget(this.renderToScreen?null:t),n.render(s,o)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e);const i=t.width,r=t.height;this.renderTargetA.setSize(i,r),this.renderTargetB.setSize(i,r),this.blurMaterial.setSize(n,e)}initialize(n,e,t){void 0!==t&&(this.renderTargetA.texture.type=t,this.renderTargetB.texture.type=t,t!==xi?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):Or(n)===vt&&(Jt(this.renderTargetA.texture,vt),Jt(this.renderTargetB.texture,vt)))}static get AUTO_SIZE(){return ut.AUTO_SIZE}},FO=class extends As{constructor({renderTarget:n,luminanceRange:e,colorOutput:t,resolutionScale:i=1,width:r=ut.AUTO_SIZE,height:s=ut.AUTO_SIZE,resolutionX:o=r,resolutionY:a=s}={}){super("LuminancePass"),this.fullscreenMaterial=new Dee(t,e),this.needsSwap=!1,this.renderTarget=n,void 0===this.renderTarget&&(this.renderTarget=new Si(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const l=this.resolution=new ut(this,o,a,i);l.addEventListener("change",c=>this.setSize(l.baseWidth,l.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(n,e,t,i,r){this.fullscreenMaterial.inputBuffer=e.texture,n.setRenderTarget(this.renderToScreen?null:this.renderTarget),n.render(this.scene,this.camera)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height)}initialize(n,e,t){void 0!==t&&t!==xi&&(this.renderTarget.texture.type=t,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},ete=class extends As{constructor(n,e){super("MaskPass",n,e),this.needsSwap=!1,this.clearPass=new Eu(!1,!1,!0),this.inverse=!1}set mainScene(n){this.scene=n}set mainCamera(n){this.camera=n}get inverted(){return this.inverse}set inverted(n){this.inverse=n}get clear(){return this.clearPass.enabled}set clear(n){this.clearPass.enabled=n}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(n){this.inverted=n}render(n,e,t,i,r){const s=n.getContext(),o=n.state.buffers,a=this.scene,l=this.camera,c=this.clearPass,u=this.inverted?0:1,d=1-u;o.color.setMask(!1),o.depth.setMask(!1),o.color.setLocked(!0),o.depth.setLocked(!0),o.stencil.setTest(!0),o.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),o.stencil.setFunc(s.ALWAYS,u,4294967295),o.stencil.setClear(d),o.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(n,null):(c.render(n,e),c.render(n,t))),this.renderToScreen?(n.setRenderTarget(null),n.render(a,l)):(n.setRenderTarget(e),n.render(a,l),n.setRenderTarget(t),n.render(a,l)),o.color.setLocked(!1),o.depth.setLocked(!1),o.stencil.setLocked(!1),o.stencil.setFunc(s.EQUAL,1,4294967295),o.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),o.stencil.setLocked(!0)}},tte=class extends As{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new Si(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new gee,this.upsamplingMaterial=new Yee,this.resolution=new ee}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(n){if(this.levels!==n){const e=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let t=0;t<n;++t){const i=e.clone();i.texture.name="Downsampling.Mipmap"+t,this.downsamplingMipmaps.push(i)}this.upsamplingMipmaps.push(e);for(let t=1,i=n-1;t<i;++t){const r=e.clone();r.texture.name="Upsampling.Mipmap"+t,this.upsamplingMipmaps.push(r)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(n){this.upsamplingMaterial.radius=n}render(n,e,t,i,r){const{scene:s,camera:o}=this,{downsamplingMaterial:a,upsamplingMaterial:l}=this,{downsamplingMipmaps:c,upsamplingMipmaps:u}=this;let d=e;this.fullscreenMaterial=a;for(let f=0,h=c.length;f<h;++f){const p=c[f];a.setSize(d.width,d.height),a.inputBuffer=d.texture,n.setRenderTarget(p),n.render(s,o),d=p}this.fullscreenMaterial=l;for(let f=u.length-1;f>=0;--f){const h=u[f];l.setSize(d.width,d.height),l.inputBuffer=d.texture,l.supportBuffer=c[f].texture,n.setRenderTarget(h),n.render(s,o),d=h}}setSize(n,e){const t=this.resolution;t.set(n,e);let i=t.width,r=t.height;for(let s=0,o=this.downsamplingMipmaps.length;s<o;++s)i=Math.round(.5*i),r=Math.round(.5*r),this.downsamplingMipmaps[s].setSize(i,r),s<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[s].setSize(i,r)}initialize(n,e,t){if(void 0!==t){const i=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const r of i)r.texture.type=t;if(t!==xi)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(Or(n)===vt)for(const r of i)Jt(r.texture,vt)}}dispose(){super.dispose();for(const n of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))n.dispose()}},UO=class{constructor(n=null,{depthBuffer:e=!0,stencilBuffer:t=!1,multisampling:i=0,frameBufferType:r}={}){this.renderer=null,this.inputBuffer=this.createBuffer(e,t,r,i),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new PO,this.depthTexture=null,this.passes=[],this.timer=new class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(n){typeof document<"u"&&void 0!==document.hidden&&(n?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=n)}get delta(){return.001*this._delta}get fixedDelta(){return.001*this._fixedDelta}set fixedDelta(n){this._fixedDelta=1e3*n}get elapsed(){return.001*this._elapsed}update(n){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(void 0!==n?n:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(n){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},this.autoRenderToScreen=!0,this.setRenderer(n)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(n){const e=this.inputBuffer,t=this.multisampling;t>0&&n>0?(this.inputBuffer.samples=n,this.outputBuffer.samples=n,this.inputBuffer.dispose(),this.outputBuffer.dispose()):t!==n&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(e.depthBuffer,e.stencilBuffer,e.texture.type,n),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(n){if(this.renderer=n,null!==n){const e=n.getSize(new ee),t=n.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===xi&&Or(n)===vt&&(Jt(this.inputBuffer.texture,vt),Jt(this.outputBuffer.texture,vt),this.inputBuffer.dispose(),this.outputBuffer.dispose()),n.autoClear=!1,this.setSize(e.width,e.height);for(const r of this.passes)r.initialize(n,t,i)}}replaceRenderer(n,e=!0){const t=this.renderer,i=t.domElement.parentNode;return this.setRenderer(n),e&&null!==i&&(i.removeChild(t.domElement),i.appendChild(n.domElement)),t}createDepthTexture(){const n=this.depthTexture=new cL;return this.inputBuffer.depthTexture=n,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(n.format=Qa,n.type=qo):n.type=to,n}deleteDepthTexture(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const n of this.passes)n.setDepthTexture(null)}}createBuffer(n,e,t,i){const r=this.renderer,s=null===r?new ee:r.getDrawingBufferSize(new ee),a=new Si(s.width,s.height,{minFilter:$t,magFilter:$t,stencilBuffer:e,depthBuffer:n,type:t});return i>0&&(a.ignoreDepthForMultisampleCopy=!1,a.samples=i),t===xi&&Or(r)===vt&&Jt(a.texture,vt),a.texture.name="EffectComposer.Buffer",a.texture.generateMipmaps=!1,a}setMainScene(n){for(const e of this.passes)e.mainScene=n}setMainCamera(n){for(const e of this.passes)e.mainCamera=n}addPass(n,e){const t=this.passes,i=this.renderer,r=i.getDrawingBufferSize(new ee),s=i.getContext().getContextAttributes().alpha,o=this.inputBuffer.texture.type;if(n.setRenderer(i),n.setSize(r.width,r.height),n.initialize(i,s,o),this.autoRenderToScreen&&(t.length>0&&(t[t.length-1].renderToScreen=!1),n.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==e?t.splice(e,0,n):t.push(n),this.autoRenderToScreen&&(t[t.length-1].renderToScreen=!0),n.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){const a=this.createDepthTexture();for(n of t)n.setDepthTexture(a)}else n.setDepthTexture(this.depthTexture)}removePass(n){const e=this.passes,t=e.indexOf(n);if(-1!==t&&e.splice(t,1).length>0){if(null!==this.depthTexture){const s=(a,l)=>a||l.needsDepthTexture;e.reduce(s,!1)||(n.getDepthTexture()===this.depthTexture&&n.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&t===e.length&&(n.renderToScreen=!1,e.length>0&&(e[e.length-1].renderToScreen=!0))}}removeAllPasses(){const n=this.passes;this.deleteDepthTexture(),n.length>0&&(this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!1),this.passes=[])}render(n){const e=this.renderer,t=this.copyPass;let o,a,l,i=this.inputBuffer,r=this.outputBuffer,s=!1;void 0===n&&(this.timer.update(),n=this.timer.delta);for(const c of this.passes)c.enabled&&(c.render(e,i,r,n,s),c.needsSwap&&(s&&(t.renderToScreen=c.renderToScreen,o=e.getContext(),a=e.state.buffers.stencil,a.setFunc(o.NOTEQUAL,1,4294967295),t.render(e,i,r,n,s),a.setFunc(o.EQUAL,1,4294967295)),l=i,i=r,r=l),c instanceof ete?s=!0:c instanceof Kee&&(s=!1))}setSize(n,e,t){const i=this.renderer,r=i.getSize(new ee);(void 0===n||void 0===e)&&(n=r.width,e=r.height),(r.width!==n||r.height!==e)&&i.setSize(n,e,t);const s=i.getDrawingBufferSize(new ee);this.inputBuffer.setSize(s.width,s.height),this.outputBuffer.setSize(s.width,s.height);for(const o of this.passes)o.setSize(s.width,s.height)}reset(){const n=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=n}dispose(){for(const n of this.passes)n.dispose();this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},ste=class{constructor(){this.shaderParts=new Map([[Dt.FRAGMENT_HEAD,null],[Dt.FRAGMENT_MAIN_UV,null],[Dt.FRAGMENT_MAIN_IMAGE,null],[Dt.VERTEX_HEAD,null],[Dt.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=zn.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=xu}};Set;var kte=new Map([[0,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}"],[1,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}"],[2,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}"],[3,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[4,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}"],[5,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}"],[6,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}"],[7,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}"],[8,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}"],[9,null],[10,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}"],[11,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}"],[12,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}"],[13,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}"],[14,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}"],[15,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}"],[16,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}"],[17,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}"],[18,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}"],[19,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}"],[20,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[21,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}"],[22,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}"],[23,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}"],[24,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}"],[25,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}"],[26,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}"],[27,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[28,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}"],[29,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}"],[30,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}"],[31,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}"],[32,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}"]]),zte=class extends ws{constructor(n,e=1){super(),this._blendFunction=n,this.opacity=new Nt(e)}getOpacity(){return this.opacity.value}setOpacity(n){this.opacity.value=n}get blendFunction(){return this._blendFunction}set blendFunction(n){this._blendFunction=n,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(n){this.blendFunction=n}getShaderCode(){return kte.get(this.blendFunction)}},Hte=class extends ws{constructor(n,e,{attributes:t=zn.NONE,blendFunction:i=23,defines:r=new Map,uniforms:s=new Map,extensions:o=null,vertexShader:a=null}={}){super(),this.name=n,this.renderer=null,this.attributes=t,this.fragmentShader=e,this.vertexShader=a,this.defines=r,this.uniforms=s,this.extensions=o,this.blendMode=new zte(i),this.blendMode.addEventListener("change",l=>this.setChanged()),this._inputColorSpace=xu,this._outputColorSpace=bO}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(n){this._inputColorSpace=n,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(n){this._outputColorSpace=n,this.setChanged()}set mainScene(n){}set mainCamera(n){}getName(){return this.name}setRenderer(n){this.renderer=n}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(n){this.attributes=n,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(n){this.fragmentShader=n,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(n){this.vertexShader=n,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(n,e=mf){}update(n,e,t){}setSize(n,e){}initialize(n,e,t){}dispose(){for(const n of Object.keys(this)){const e=this[n];(e instanceof Si||e instanceof ho||e instanceof xs||e instanceof As)&&this[n].dispose()}}},zO=class extends Hte{constructor({blendFunction:n=28,luminanceThreshold:e=.9,luminanceSmoothing:t=.025,mipmapBlur:i=!1,intensity:r=1,radius:s=.85,levels:o=8,kernelSize:a=3,resolutionScale:l=.5,width:c=ut.AUTO_SIZE,height:u=ut.AUTO_SIZE,resolutionX:d=c,resolutionY:f=u}={}){super("BloomEffect","#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D map;\n#else\nuniform lowp sampler2D map;\n#endif\nuniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}",{blendFunction:n,uniforms:new Map([["map",new Nt(null)],["intensity",new Nt(r)]])}),this.renderTarget=new Si(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new Hg({kernelSize:a}),this.luminancePass=new FO({colorOutput:!0}),this.luminanceMaterial.threshold=e,this.luminanceMaterial.smoothing=t,this.mipmapBlurPass=new tte,this.mipmapBlurPass.enabled=i,this.mipmapBlurPass.radius=s,this.mipmapBlurPass.levels=o,this.uniforms.get("map").value=i?this.mipmapBlurPass.texture:this.renderTarget.texture;const h=this.resolution=new ut(this,d,f,l);h.addEventListener("change",p=>this.setSize(h.baseWidth,h.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(n){this.resolution.preferredWidth=n}get height(){return this.resolution.height}set height(n){this.resolution.preferredHeight=n}get dithering(){return this.blurPass.dithering}set dithering(n){this.blurPass.dithering=n}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(n){this.blurPass.kernelSize=n}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(n){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(n){this.uniforms.get("intensity").value=n}getIntensity(){return this.intensity}setIntensity(n){this.intensity=n}getResolutionScale(){return this.resolution.scale}setResolutionScale(n){this.resolution.scale=n}update(n,e,t){const i=this.renderTarget,r=this.luminancePass;r.enabled?(r.render(n,e),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(n,r.renderTarget):this.blurPass.render(n,r.renderTarget,i)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(n,e):this.blurPass.render(n,e,i)}setSize(n,e){const t=this.resolution;t.setBaseSize(n,e),this.renderTarget.setSize(t.width,t.height),this.blurPass.resolution.copy(t),this.luminancePass.setSize(n,e),this.mipmapBlurPass.setSize(n,e)}initialize(n,e,t){this.blurPass.initialize(n,e,t),this.luminancePass.initialize(n,e,t),this.mipmapBlurPass.initialize(n,e,t),void 0!==t&&(this.renderTarget.texture.type=t,Or(n)===vt&&Jt(this.renderTarget.texture,vt))}};function qS(n,e,t){return n+(e-n)*t}function fi(n,e,t,i){const r=qS(n,e,.75),s=qS(t,i,.75);return qS(r,s,.875)}new L,new st,new Ce,new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]),fi(0,0,0,0),new Float32Array([0,0,0,0]),fi(0,0,0,1),new Float32Array([0,0,0,1]),fi(0,0,1,0),new Float32Array([0,0,1,0]),fi(0,0,1,1),new Float32Array([0,0,1,1]),fi(0,1,0,0),new Float32Array([0,1,0,0]),fi(0,1,0,1),new Float32Array([0,1,0,1]),fi(0,1,1,0),new Float32Array([0,1,1,0]),fi(0,1,1,1),new Float32Array([0,1,1,1]),fi(1,0,0,0),new Float32Array([1,0,0,0]),fi(1,0,0,1),new Float32Array([1,0,0,1]),fi(1,0,1,0),new Float32Array([1,0,1,0]),fi(1,0,1,1),new Float32Array([1,0,1,1]),fi(1,1,0,0),new Float32Array([1,1,0,0]),fi(1,1,0,1),new Float32Array([1,1,0,1]),fi(1,1,1,0),new Float32Array([1,1,1,0]),fi(1,1,1,1),new Float32Array([1,1,1,1]),Math,new L,new L;const kne=["threejsCanvasContainer"];let zne=(()=>{class n{ngOnInit(){const i=(new KL).load("assets/images/cercle.png"),r=new bf;r.add(new wO(0));const a=new Un(75,window.innerWidth/window.innerHeight,.01,1e3);a.position.z=2,a.position.y=.5,a.position.x=.5,r.add(a);const l=new Float32Array(300),c=new Float32Array(300);for(let E=0;E<l.length;E++)l[E]=_x_randFloatSpread(4),c[E]=Math.random();const u=new ft;u.setAttribute("position",new Le(l,3)),u.setAttribute("color",new Le(c,3));const d=new cg({vertexColors:!0,size:.1,map:i,alphaTest:.01,transparent:!0}),f=new iS(u,d),h=new ol;h.add(f),r.add(h);const p=new Xx;p.setSize(window.innerWidth,window.innerHeight),p.setPixelRatio(Math.min(window.devicePixelRatio,2));const m=new MO(a,p.domElement);this.canvasContainer.nativeElement.appendChild(p.domElement);const g=new RS;let v=0;window.addEventListener("mousemove",E=>{v=E.clientX});const _=()=>{g.getElapsedTime(),requestAnimationFrame(_);const M=2*(v/window.innerWidth-.5);h.rotation.y=M*Math.PI*.3,h.rotation.x=M*Math.PI*.02,h.rotation.z=M*Math.PI*.03,p.render(r,a),w.render(),m.update()},y=new zO({luminanceThreshold:.3,luminanceSmoothing:.75,intensity:.4}),w=new UO(p),S=new NO(a,y);S.renderToScreen=!0,w.addPass(new Mu(r,a)),w.addPass(S),_(),window.addEventListener("resize",()=>{a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight),p.setPixelRatio(Math.min(window.devicePixelRatio,2))})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ku({type:n,selectors:[["app-threejs-mouse-animation"]],viewQuery:function(t,i){if(1&t&&cp(kne,7),2&t){let r;wd(r=xd())&&(i.canvasContainer=r.first)}},decls:2,vars:0,consts:[["threejsCanvasContainer",""]],template:function(t,i){1&t&&Re(0,"div",null,0)},encapsulation:2}),n})();const Hne=["threejsCanvasContainer"];let Vne=(()=>{class n{ngOnInit(){const i=(new KL).load("assets/images/cercle.png"),r=new bf;r.add(new wO(0));const a=new Un(75,window.innerWidth/window.innerHeight,.01,1e3);a.position.z=2,a.position.y=.5,a.position.x=.5,r.add(a);const l=new Float32Array(300),c=new Float32Array(300);for(let S=0;S<l.length;S++)l[S]=_x_randFloatSpread(4),c[S]=Math.random();const u=new ft;u.setAttribute("position",new Le(l,3)),u.setAttribute("color",new Le(c,3));const d=new cg({vertexColors:!0,size:.1,map:i,alphaTest:.01,transparent:!0}),f=new iS(u,d),h=new ol;h.add(f),r.add(h);const p=new Xx;p.setSize(window.innerWidth,window.innerHeight),p.setPixelRatio(Math.min(window.devicePixelRatio,2));const m=new MO(a,p.domElement);this.canvasContainer.nativeElement.appendChild(p.domElement);const g=new RS,v=()=>{const S=g.getElapsedTime();requestAnimationFrame(v),h.rotation.y=.1*S,p.render(r,a),y.render(),m.update()},_=new zO({luminanceThreshold:.3,luminanceSmoothing:.75,intensity:.4}),y=new UO(p),w=new NO(a,_);w.renderToScreen=!0,y.addPass(new Mu(r,a)),y.addPass(w),v(),window.addEventListener("resize",()=>{a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),p.setSize(window.innerWidth,window.innerHeight),p.setPixelRatio(Math.min(window.devicePixelRatio,2))})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ku({type:n,selectors:[["app-threejs-auto-animation"]],viewQuery:function(t,i){if(1&t&&cp(Hne,7),2&t){let r;wd(r=xd())&&(i.canvasContainer=r.first)}},decls:2,vars:0,consts:[["threejsCanvasContainer",""]],template:function(t,i){1&t&&Re(0,"div",null,0)},encapsulation:2}),n})();const Gne=["threejsCanvasContainer"];let Wne=(()=>{class n{constructor(){this.title="portfolioVue",this.currentText="Mon \xe9ventail de comp\xe9tences s'\xe9tend du d\xe9veloppement d'applications au DevOps, incluant la manipulation de bases de donn\xe9es et la conception de sites via des CMS."}playAnimation(){}ngOnDestroy(){}ngOnInit(){const t=new Wn(".swiper-container1",{effect:"cube",grabCursor:!0}),i=new Wn(".swiper-container",{effect:"coverflow",grabCursor:!0}),r=new Wn(".swiper-container2",{effect:"cards",grabCursor:!0,cardsEffect:{perSlideOffset:9,perSlideRotate:9,rotate:!0},pagination:{clickable:!0,bulletClass:"swiper-pagination-bullet"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),s=new Wn(".swiper-container3",{effect:"cube",grabCursor:!0,direction:"vertical"});new Wn(".swiper-container4",{virtual:{enabled:!0,addSlidesAfter:1}}),r.controller.control=[t,i,s],document.querySelectorAll(".bienvenue"),document.querySelectorAll(".prenom");const c=document.querySelectorAll(".nom"),u=document.querySelectorAll(".icon");document.querySelectorAll(".iconsocial-icons"),document.querySelector(".l1"),document.querySelector(".l2"),window.addEventListener("load",()=>{const p=d2.timeline({paused:!0});p.from(".bienvenue",{opacity:0,x:1e3,duration:1,ease:"power2.out"}).from(".stem",{opacity:0,zInde:-1,ease:"power2.out"}).from(".prenom",{opacity:0,x:1e3,duration:2,ease:"power2.out"},"-=1").staggerFrom(c,1,{opacity:0,ease:"power2.out"},.3).from(".suivez",{x:-1e3,duration:2,ease:"power2.out"},"-=2").from(u,.4,{opacity:0,transform:"scale(0)",ease:"power2.out"}).from(".cv",{y:100,duration:1,opacity:0,ease:"electric"}),p.play()})}changeText(t){this.currentText=t}longParagraphe1(){return"J'ai acquis des comp\xe9tences en automatisation du d\xe9veloppement et des d\xe9ploiements stables, en mettant l'accent sur l'int\xe9gration continue. Comp\xe9tent en Docker, Git et CI/CD, des outils cruciaux pour des livraisons rapides et fiables. J'ai \xe9galement approfondi mes comp\xe9tences en infrastructures cloud (AWS, Azure) pour concevoir des architectures s\xe9curis\xe9es et \xe9volutives. Mon principal objectif est d'optimiser les processus de d\xe9ploiement afin de renforcer l'efficacit\xe9 op\xe9rationnelle."}longParagraphe2(){return"Expert en d\xe9veloppement web, je maitrise un large \xe9ventail de technologies telles que Java EE, Python, Angular, React, JavaScript, TypeScript, Django, Spring, Hibernate, PHP, et la conception d'API REST. Mon parcours atteste de solides comp\xe9tences dans la cr\xe9ation de sites dynamiques et percutants. Pr\xeat \xe0 transformer vos id\xe9es en une pr\xe9sence en ligne exceptionnelle, je suis impatient de relever de nouveaux d\xe9fis passionnants."}longParagraphe3(){return"Passionn\xe9 par les bases de donn\xe9es et comp\xe9tent en CRM, je suis capable de concevoir et de g\xe9rer des syst\xe8mes de gestion de donn\xe9es efficaces. Ma\xeetrise des langages SQL et NoSQL pour garantir des performances optimales et une prise de d\xe9cision \xe9clair\xe9e. Transformez vos donn\xe9es en informations pr\xe9cieuses pour stimuler votre activit\xe9."}longParagraphe4(){return"Dou\xe9 dans le domaine du CMS et de l'infographie, je poss\xe8de une expertise dans la cr\xe9ation visuelle en utilisant des outils tels que Photoshop, After Effects et Premiere Pro. De plus, je suis capable de concevoir et d'administrer des sites web professionnels en utilisant WordPress, transformant des id\xe9es en designs attrayants et fonctionnels."}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ku({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&cp(Gne,7),2&t){let r;wd(r=xd())&&(i.canvasContainer=r.first)}},decls:421,vars:1,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://unpkg.com/swiper/swiper-bundle.min.css"],["id","threejs-canvas-container",1,"container","md:containerG"],[1,"pages"],[1,"page","one"],[1,"flex","w-full","h-full"],[1,"snip1374","flex","self-end","md:self-end","bg-black","items-center","w-full","md:w-1/2","md:justify-center","h-full","md:h-full","image-container"],["src","assets/images/moi.png","alt","image de moi",1,"-bottom-[40%]","-right-[10%]","md:right-[0%]","md:-bottom-[90%]"],["src","assets/images/moiorleans.gif","alt","image de moi",1,"orleans","-bottom-[30%]","md:-bottom-[90%]","md:flex","transition-opacity","duration-300","opacity-0","md:hover:opacity-100"],[1,"intro","h-3/4","w-screen","md:w-2/3","md:h-full"],[1,"flex","flex-col","-top-[30%]","md:-bottom-[90%]"],[1,"bienvenue","sm:text-2xl","md:text-xl","w-full"],[1,"tooltip"],[1,"tooltiptext"],[1,"prenom","sm:block","slow-motion"],[1,"nom"],[1,"sign","text-6xl","md:text-30xl","lg:text-50xl","w-screen"],[1,"fast-flicker"],[1,"flicker"],[1,"stem","sm:text-2xl","md:text-xl"],[1,"text-white"],[1,"text-red-500"],[1,"text-blue-500"],[1,"monstring"],[1,"greeting","en"],[1,"greeting","es"],[1,"greeting","de"],[1,"greeting","it"],[1,"closure"],["lass","flex flex-col"],["id","suivez",1,"suivez"],[1,"social-icons"],["id","facebook",1,"icon","bulle"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"w-full","h-full"],["d","M464 0h-416c-26.4 0-48 21.6-48 48v416c0 26.4 21.6 48 48 48h208v-224h-64v-64h64v-32c0-52.9 43.1-96 96-96h64v64h-64c-17.6 0-32 14.4-32 32v32h96l-16 64h-80v224h144c26.4 0 48-21.6 48-48v-416c0-26.4-21.6-48-48-48z",1,"time-3-icon"],["id","twitter",1,"icon","bulle"],["href","#","target","_blank"],["d","M512 113.2c-18.8 8.4-39.1 14-60.3 16.5 21.7-13 38.3-33.6 46.2-58.1-20.3 12-42.8 20.8-66.7 25.5-19.2-20.4-46.5-33.1-76.7-33.1-58 0-105 47-105 105 0 8.2 0.9 16.2 2.7 23.9-87.3-4.4-164.7-46.2-216.5-109.8-9 15.5-14.2 33.6-14.2 52.8 0 36.4 18.5 68.6 46.7 87.4-17.2-0.5-33.4-5.3-47.6-13.1 0 0.4 0 0.9 0 1.3 0 50.9 36.2 93.4 84.3 103-8.8 2.4-18.1 3.7-27.7 3.7-6.8 0-13.3-0.7-19.8-1.9 13.4 41.7 52.2 72.1 98.1 73-36 28.2-81.2 45-130.5 45-8.5 0-16.8-0.5-25.1-1.5 46.6 29.9 101.8 47.2 161.1 47.2 193.2 0 298.9-160.1 298.9-298.9 0-4.6-0.1-9.1-0.3-13.6 20.5-14.7 38.3-33.2 52.4-54.3z",1,"time-3-icon"],["id","linkedin",1,"icon","bulle"],["href","https://www.linkedin.com/in/patrice-simo-a81b03181/","target","_blank"],["d","M464 0h-416c-26.4 0-48 21.6-48 48v416c0 26.4 21.6 48 48 48h416c26.4 0 48-21.6 48-48v-416c0-26.4-21.6-48-48-48zM192 416h-64v-224h64v224zM160 160c-17.7 0-32-14.3-32-32s14.3-32 32-32c17.7 0 32 14.3 32 32s-14.3 32-32 32zM416 416h-64v-128c0-17.7-14.3-32-32-32s-32 14.3-32 32v128h-64v-224h64v39.7c13.2-18.1 33.4-39.7 56-39.7 39.8 0 72 35.8 72 80v144z",1,"time-3-icon"],["id","insta",1,"icon","bulle"],["href","https://instagram.com/dyeux2?utm_source=qr&igshid=MzNlNGNkZWQ4Mg%3D%3D","target","_blank"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"w-full","h-full"],["d","M256 46.1c68.4 0 76.5 0.3 103.4 1.5 25 1.1 38.5 5.3 47.5 8.8 11.9 4.6 20.5 10.2 29.4 19.1 9 9 14.5 17.5 19.2 29.4 3.5 9 7.7 22.6 8.8 47.5 1.2 27 1.5 35.1 1.5 103.4s-0.3 76.5-1.5 103.4c-1.1 25-5.3 38.5-8.8 47.5-4.6 11.9-10.2 20.5-19.1 29.4-9 9-17.5 14.5-29.4 19.2-9 3.5-22.6 7.7-47.5 8.8-27 1.2-35.1 1.5-103.4 1.5s-76.5-0.3-103.4-1.5c-25-1.1-38.5-5.3-47.5-8.8-11.9-4.6-20.5-10.2-29.4-19.1-9-9-14.5-17.5-19.2-29.4-3.5-9-7.7-22.6-8.8-47.5-1.2-27-1.5-35.1-1.5-103.4s0.3-76.5 1.5-103.4c1.1-25 5.3-38.5 8.8-47.5 4.6-11.9 10.2-20.5 19.1-29.4 9-9 17.5-14.5 29.4-19.2 9-3.5 22.6-7.7 47.5-8.8 26.9-1.2 35-1.5 103.4-1.5zM256 0c-69.5 0-78.2 0.3-105.5 1.5-27.2 1.2-45.9 5.6-62.1 11.9-16.9 6.6-31.2 15.3-45.4 29.6-14.3 14.2-23 28.5-29.6 45.3-6.3 16.3-10.7 34.9-11.9 62.1-1.2 27.4-1.5 36.1-1.5 105.6s0.3 78.2 1.5 105.5c1.2 27.2 5.6 45.9 11.9 62.1 6.6 16.9 15.3 31.2 29.6 45.4 14.2 14.2 28.5 23 45.3 29.5 16.3 6.3 34.9 10.7 62.1 11.9 27.3 1.2 36 1.5 105.5 1.5s78.2-0.3 105.5-1.5c27.2-1.2 45.9-5.6 62.1-11.9 16.8-6.5 31.1-15.3 45.3-29.5s23-28.5 29.5-45.3c6.3-16.3 10.7-34.9 11.9-62.1 1.2-27.3 1.5-36 1.5-105.5s-0.3-78.2-1.5-105.5c-1.2-27.2-5.6-45.9-11.9-62.1-6.3-17-15-31.3-29.3-45.5-14.2-14.2-28.5-23-45.3-29.5-16.3-6.3-34.9-10.7-62.1-11.9-27.4-1.3-36.1-1.6-105.6-1.6v0z",1,"time-3-icon"],["d","M256 124.5c-72.6 0-131.5 58.9-131.5 131.5s58.9 131.5 131.5 131.5 131.5-58.9 131.5-131.5c0-72.6-58.9-131.5-131.5-131.5zM256 341.3c-47.1 0-85.3-38.2-85.3-85.3s38.2-85.3 85.3-85.3c47.1 0 85.3 38.2 85.3 85.3s-38.2 85.3-85.3 85.3z",1,"time-3-icon"],["d","M423.4 119.3c0 16.955-13.745 30.7-30.7 30.7s-30.7-13.745-30.7-30.7c0-16.955 13.745-30.7 30.7-30.7s30.7 13.745 30.7 30.7z",1,"time-3-icon","bulle"],["id","git",1,"icon","bulle"],["href","https://github.com/patriceSImo","target","_blank"],["version","1.1","xmlns","http://www.w3.org/2000/svg","width","512","height","512","viewBox","0 0 512 512",1,"w-full","h-full"],["d","M256.004 6.321c-141.369 0-256.004 114.609-256.004 255.999 0 113.107 73.352 209.066 175.068 242.918 12.793 2.369 17.496-5.555 17.496-12.316 0-6.102-0.24-26.271-0.348-47.662-71.224 15.488-86.252-30.205-86.252-30.205-11.641-29.588-28.424-37.458-28.424-37.458-23.226-15.889 1.755-15.562 1.755-15.562 25.7 1.805 39.238 26.383 39.238 26.383 22.836 39.135 59.888 27.82 74.502 21.279 2.294-16.543 8.926-27.84 16.253-34.232-56.865-6.471-116.638-28.425-116.638-126.516 0-27.949 10.002-50.787 26.38-68.714-2.658-6.45-11.427-32.486 2.476-67.75 0 0 21.503-6.876 70.42 26.245 20.418-5.674 42.318-8.518 64.077-8.617 21.751 0.099 43.668 2.943 64.128 8.617 48.867-33.122 70.328-26.245 70.328-26.245 13.936 35.264 5.175 61.3 2.518 67.75 16.41 17.928 26.347 40.766 26.347 68.714 0 98.327-59.889 119.975-116.895 126.312 9.182 7.945 17.362 23.523 17.362 47.406 0 34.254-0.298 61.822-0.298 70.254 0 6.814 4.611 14.797 17.586 12.283 101.661-33.888 174.921-129.813 174.921-242.884 0-141.39-114.617-255.999-255.996-255.999z",1,"time-3-icon"],[1,"cv"],["href","assets/images/cv.pdf","target","_blank"],[1,"shiny-button"],[1,"bouton-menu"],[1,"back","menu--11a","menu"],[1,"lab--11a"],["type","checkbox","onClick","slide('next')"],["viewBox","0 0 100 100"],["cx","20","cy","20","r","10",1,"cercle"],["d","M0 40h62c18 0 18-20-17 5L31 55",1,"line--1","neon"],["d","M0 50h80",1,"line--2","neon"],["d","M0 60h62c18 0 18 20-17-5L31 45",1,"line--3","neon"],[1,"back","menu--21a","menu"],[1,"lab--21a"],["type","checkbox","onClick","slide1('next1'), play(),down()",1,"runButton"],["cx","50","cy","50","r","30"],["d","M0 40h62c18 0 18-20-17 5L31 55",1,"line--1"],["d","M0 50h80",1,"line--2"],["d","M0 60h62c18 0 18 20-17-5L31 45",1,"line--3"],[1,"page","flex","flex-col","h-full","two","relative"],[1,"app-container"],[1,"flex","justify-center","w-screen","titreC"],[1,"container22","md:flex-col","md:items-center","md:justify-center","md:text-center","grid","grid-cols-1","gap-4","sm:grid-cols-2"],[1,"leftC2","w-[75%]"],[1,"span2"],[1,"rightc2","self-start","md:self-auto","md:w-[60%]","md:h-[80%]","w-[70%]","h-[50%]"],[3,"mouseover"],["src","assets/images/devops.svg","alt","icon devops",1,"w-full","h-full"],["src","assets/images/visualc.svg","alt","",1,"icontext"],["src","assets/images/data.svg","alt","",1,"icontext"],["src","assets/images/hello.svg","alt","",1,"icontext"],[1,"background-canvas"],[1,"div--menu--2a","absolute","z-50"],[1,"back","menu--12a","menu"],[1,"lab--12a"],["type","checkbox","id","startAnimationButton","onClick","slide('prev')"],[1,"back","menu--22a","menu"],[1,"lab--22a"],["type","checkbox","id","startAnimationButton","onClick","slide4('next')"],[1,"pages1"],[1,"page","gradient","three","overflow-hidden"],["src","assets/images/moiorleans.png","alt","image de moi",1,"orleans3","flex"],[1,"bg"],[1,"bg2"],[1,"light-effect"],[1,"position3","w-full"],[1,"about"],[1,"flex","flex-col","md:flex-row","w-full"],[1,"w-full","md:w-[60%]","md:self-start","h-full"],[1,"about-section","md:w-[70%]","w-[80%]"],[1,"liste","w-full","md:w-[30%]","flex","md:self-end","h-full"],[1,"outis","h-[60%]"],[1,"ligneOutil"],[1,"tool-item0"],[1,"Tmes"],[1,"tool-item1","flex","items-center","ligneOutil"],[1,"flex"],[1,"puce"],["d","M131.070 0c-56.864 103.016-66.445 260.152 156.93 254.912v-126.912l192 192-192 192v-124.186c-267.48 6.971-297.286-236.107-156.93-387.814z",1,"time-3-icon"],[1,"flex","items-center"],[1,"tool-item2","flex","items-center","ligneOutil"],["id","linkedin",1,"puce"],[1,"tool-item3","flex","items-center","ligneOutil"],[1,"tool-item4","flex","items-center","ligneOutil"],[1,"tool-item5","flex","items-center","ligneOutil"],[1,"tool-item6","flex","items-center","ligneOutil"],[1,"back","menu--11b","menu"],[1,"lab--11b"],["type","checkbox","onClick","slide1('next')"],[1,"back","menu--21b","menu"],[1,"lab--21b"],["type","checkbox","onClick","slide2('next2')"],[1,"w-full"],[1,"page","four"],[1,"containerLast2","w-full","h-full","flex","flex-row"],[1,"flex","flex-row","petitSwipp","w-[100%]","h-[100%]"],[1,"swiper3","w-[60%]","h-[40%]","swiper-no-swiping","swiper-container3"],[1,"swiper-wrapper"],[1,"swiper-slide","titre"],[1,"swiper1","w-[40%]","h-[40%]","swiper-no-swiping","swiper-container1"],[1,"swiper-slide","expli"],["id","vibrating-div",1,"cardsP","w-[60%]","h-[100%]"],[1,"swiper2","w-[20%]","h-[70%]","swiper-container2"],[1,"swiper-slide","swipp"],[1,"color-changing-text"],[1,"cardsG","w-[90%]","h-1/2","md:w-[50%]","md:h-full","w-screen"],[1,"swiper","swiper-no-swiping","swiper-container"],[1,"swiper-slide","swip"],[1,"divnewpG","flex","flex-col","w-full","h-full","w-full"],[1,"dispoM"],[1,""],[1,"divnewp","flex","flex-coll","w-full","h-[50%]"],[1,"w-[25%]","h-[90%]","divnewpC","flex","flex-col"],["src","assets/images/telephone.png","alt","icon d'un t\xe9l\xe9phone",1,"imageContact","w-[50%]","h-[30%]"],["src","assets/images/mail.png","alt","icon mail",1,"imageContact","w-[50%]","h-[30%]"],["src","assets/images/localisation.png","alt","icon google map",1,"imageContact","w-[50%]","h-[30%]"],[1,"back","menu--12b","menu"],["type","checkbox","onClick","slide3('next3')"],[1,"back","menu--22b","menu"],[1,"lab--22b"],["type","checkbox","onClick","slide2('prev') ,play(),down()",1,"runButton"]],template:function(t,i){1&t&&(q(0,"html")(1,"head"),Re(2,"meta",0)(3,"meta",1)(4,"link",2),re(),q(5,"body")(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),Re(11,"img",8)(12,"img",9),re(),q(13,"div",10)(14,"div",11)(15,"p",12),fe(16," Bienvenue dans mon"),q(17,"span",13),fe(18,"\xa0Houseline ! "),q(19,"span",14),fe(20,"Bienvenue sur ma maison en ligne !"),re()()(),q(21,"h3",15),fe(22,"Patrice SIMO"),re(),q(23,"div",16)(24,"div",17)(25,"span",18),fe(26,"T"),re(),fe(27,"OTC"),q(28,"span",19),fe(29,"H"),re(),fe(30,"EU "),re()(),q(31,"div",20)(32,"p"),fe(33,"System"),q(34,"span",21),fe(35,"."),q(36,"span",22),fe(37,"out"),re(),fe(38,"."),re(),q(39,"span",23),fe(40,"println"),re(),fe(41,'("'),re(),q(42,"div",24)(43,"h1",25),fe(44,"Je suis"),re(),q(45,"h1",26),fe(46,"Dev FullStack"),re(),q(47,"h1",27),fe(48,"DevOPS"),re(),q(49,"h1",28),fe(50,"Etudiant M2"),re()(),q(51,"p",29),fe(52,'");'),re()()(),q(53,"div",30)(54,"div")(55,"p",31),fe(56,"Suivez moi sur : "),re()(),q(57,"div",32)(58,"div",33),Wt(),q(59,"svg",34),Re(60,"path",35),re()(),qt(),q(61,"div",36)(62,"a",37),Wt(),q(63,"svg",34),Re(64,"path",38),re()()(),qt(),q(65,"div",39)(66,"a",40),Wt(),q(67,"svg",34),Re(68,"title")(69,"path",41),re()()(),qt(),q(70,"div",42)(71,"a",43),Wt(),q(72,"svg",44),Re(73,"path",45)(74,"path",46)(75,"path",47),re()()(),qt(),q(76,"div",48)(77,"a",49),Wt(),q(78,"svg",50),Re(79,"path",51),re()()()(),qt(),q(80,"div",52)(81,"a",53)(82,"button",54),fe(83,"Afficher mon CV"),re()()()()()(),q(84,"div",55)(85,"div",56)(86,"label",57),Re(87,"input",58),Wt(),q(88,"svg",59),Re(89,"circle",60)(90,"path",61)(91,"path",62)(92,"path",63),re()()(),qt(),q(93,"div",64)(94,"label",65),Re(95,"input",66),Wt(),q(96,"svg",59),Re(97,"circle",67)(98,"path",68)(99,"path",69)(100,"path",70),re()()()()(),qt(),q(101,"div",71)(102,"div",72)(103,"h1",73),fe(104,"MES COMPETENCES"),re(),q(105,"div",74)(106,"div",75),Re(107,"br"),q(108,"span",76),fe(109),re(),Re(110,"div"),re(),q(111,"div",77)(112,"ul")(113,"li",78),Ea("mouseover",function(){return i.changeText(i.longParagraphe1())}),Re(114,"img",79),q(115,"span")(116,"strong"),fe(117,"DEVOPS"),re(),q(118,"p"),fe(119," Pour des Solutions Avanc\xe9es de Dev et de D\xe9ploiement. "),re()()(),q(120,"li",78),Ea("mouseover",function(){return i.changeText(i.longParagraphe2())}),Re(121,"img",80),q(122,"span")(123,"strong"),fe(124,"Dev d'applications"),re(),q(125,"p"),fe(126,"Cr\xe9ation Innovante \xe0 travers le D\xe9veloppement d'Applications "),re()()(),q(127,"li",78),Ea("mouseover",function(){return i.changeText(i.longParagraphe3())}),Re(128,"img",81),q(129,"span")(130,"strong"),fe(131,"Bases de donn\xe9es & CRM"),re(),q(132,"p"),fe(133,"Gestion de Bases de Donn\xe9es et Optimisation des CRM"),re()()(),q(134,"li",78),Ea("mouseover",function(){return i.changeText(i.longParagraphe4())}),Re(135,"img",82),q(136,"span")(137,"strong"),fe(138,"CMS & Infographie"),re(),q(139,"p"),fe(140,"Captiver \xe0 travers l'Art Visuel et la Cr\xe9ativit\xe9 "),re()()()()()()(),Re(141,"app-threejs-auto-animation",83),q(142,"div",84)(143,"div",85)(144,"label",86),Re(145,"input",87),Wt(),q(146,"svg",59),Re(147,"circle",60)(148,"path",61)(149,"path",62)(150,"path",63),re()()(),qt(),q(151,"div",88)(152,"label",89),Re(153,"input",90),Wt(),q(154,"svg",59),Re(155,"circle",67)(156,"path",68)(157,"path",69)(158,"path",70),re()()()()()(),qt(),q(159,"div",91)(160,"div",92),Re(161,"img",93)(162,"div",94),q(163,"div",95),Re(164,"div",96),re(),q(165,"div")(166,"div",97)(167,"h1",98),fe(168,"\xc0 propos de moi"),re(),q(169,"div",99)(170,"div",100)(171,"div",101)(172,"p"),fe(173,"\xc9tudiant en cinqui\xe8me ann\xe9e en Expertise des Syst\xe8mes Informatiques (option DevOps) \xe0 l'\xe9cole IT d'Orl\xe9ans, je suis \xe0 la recherche d'une alternance stimulante pour mettre en pratique mes comp\xe9tences vari\xe9es. En tant que D\xe9veloppeur Full Stack et Webmaster, ma passion pour la programmation et le DevOps se combine \xe0 un esprit de recherche. Ma ma\xeetrise des langages tels que Python, TypeScript, C# et Java me permet de cr\xe9er des solutions informatiques avanc\xe9es. Mon exp\xe9rience en d\xe9veloppement Full Stack et ma solide compr\xe9hension des syst\xe8mes informatiques me distinguent. Je suis impatient de contribuer \xe0 votre succ\xe8s et d'\xe9voluer dans un environnement dynamique."),re()()(),q(174,"div",102)(175,"div",103)(176,"div",104)(177,"div",105)(178,"h2",106),fe(179,"Mes outils de travail"),re()(),q(180,"div",107)(181,"div",108)(182,"div",109),Wt(),q(183,"svg",50),Re(184,"path",110),re()(),qt(),q(185,"h3"),fe(186,"Sprintboot"),re()(),q(187,"div",111)(188,"div",109),Wt(),q(189,"svg",50),Re(190,"path",110),re()(),qt(),q(191,"h3"),fe(192,"Django"),re()()(),q(193,"div",112)(194,"div",108)(195,"div",113),Wt(),q(196,"svg",50),Re(197,"path",110),re()(),qt(),q(198,"h3"),fe(199,"Angular"),re()(),q(200,"div",108)(201,"div",113),Wt(),q(202,"svg",50),Re(203,"path",110),re()(),qt(),q(204,"h3"),fe(205,"Ionic3/4"),re()()(),q(206,"div",114)(207,"div",108)(208,"div",113),Wt(),q(209,"svg",50),Re(210,"path",110),re()(),qt(),q(211,"h3"),fe(212,"Firebase"),re()(),q(213,"div",108)(214,"div",113),Wt(),q(215,"svg",50),Re(216,"path",110),re()(),qt(),q(217,"h3"),fe(218,"Laravel"),re()()(),q(219,"div",115)(220,"div",108)(221,"div",113),Wt(),q(222,"svg",50),Re(223,"path",110),re()(),qt(),q(224,"h3"),fe(225,"Docker"),re()(),q(226,"div",108)(227,"div",113),Wt(),q(228,"svg",50),Re(229,"path",110),re()(),qt(),q(230,"h3"),fe(231,"Git"),re()()(),q(232,"div",116)(233,"div",108)(234,"div",113),Wt(),q(235,"svg",50),Re(236,"path",110),re()(),qt(),q(237,"h3"),fe(238,"Python "),re()(),q(239,"div",108)(240,"div",113),Wt(),q(241,"svg",50),Re(242,"path",110),re()(),qt(),q(243,"h3"),fe(244,"Java"),re()()(),q(245,"div",117)(246,"div",108)(247,"div",113),Wt(),q(248,"svg",50),Re(249,"path",110),re()(),qt(),q(250,"h3"),fe(251,"Github "),re()(),q(252,"div",108)(253,"div",113),Wt(),q(254,"svg",50),Re(255,"path",110),re()(),qt(),q(256,"h3"),fe(257,"Html5/Sass"),re()()()()()()()()(),q(258,"div",118)(259,"label",119),Re(260,"input",120),Wt(),q(261,"svg",59),Re(262,"circle",60)(263,"path",61)(264,"path",62)(265,"path",63),re()()(),qt(),q(266,"div",121)(267,"label",122),Re(268,"input",123),Wt(),q(269,"svg",59),Re(270,"circle",67)(271,"path",68)(272,"path",69)(273,"path",70),re()()(),qt(),q(274,"footer",124),fe(275," Fait avec la \u{1f4a1} du \u2764\ufe0f || par @Patrice Simo 2023 "),re()(),q(276,"div",125),Re(277,"div",72)(278,"app-threejs-mouse-animation",83),q(279,"div",126)(280,"div",127)(281,"div",128)(282,"div",129)(283,"div",130)(284,"h1"),fe(285,"GESCO MONILE "),re()(),q(286,"div",130)(287,"h1"),fe(288,"FYVES SAP "),re()(),q(289,"div",130)(290,"h1"),fe(291,"ACAD\xc9MIQUES & PERSONNELS"),re()(),q(292,"div",130)(293,"h1"),fe(294,"NOUVEAU PROJET ?"),re()()()(),q(295,"div",131)(296,"div",129)(297,"div",132)(298,"div"),fe(299,"participation en tant que developpeur fullstack "),Re(300,"br"),fe(301," Participer de bout en bout \xe0 la conception de l'application."),Re(302,"br"),fe(303," Developper des fonctionalit\xe9s et des interfaces utilisateur"),Re(304,"br"),fe(305," Deployer la solution chez les clients et Manager l'equipe dev en place."),re()(),q(306,"div",132)(307,"div"),fe(308,"En tant que d\xe9veloppeur fullstack, j'ai particip\xe9 \xe0 la cr\xe9ation de l'application d'entreprise SAP. Mes responsabilit\xe9s comprenaient la conception et la mise en place de fonctionnalit\xe9s cl\xe9s telles que la g\xe9olocalisation et le chat, tout en assurant la maintenance continue de l'application. "),re()(),q(309,"div",132)(310,"div"),fe(311," Etudiant en 5e ann\xe9e informatique et d\xe9veloppeur fullstack, j'ai r\xe9alis\xe9 plusieurs projets illustrant ma passion pour la programmation et ma volont\xe9 de r\xe9soudre des probl\xe8mes concrets :"),Re(312,"br"),fe(313," CVth\xe8que Interactive : Cr\xe9ation d'une CVth\xe8que conviviale en utilisant HTML, CSS et JavaScript pour faciliter la gestion des curriculum vitae."),Re(314,"br"),fe(315," Portfolio Personnel : D\xe9veloppement d'un portfolio interactif (comme celui-ci) pour pr\xe9senter mes comp\xe9tences et r\xe9alisations."),Re(316,"br"),fe(317," APIs et Applications : Conception d'APIs et d'applications en JavaEE (Spring Boot, Hibernate) et Python (Django) pour r\xe9pondre \xe0 divers besoins. Application de Chat s\xe9curis\xe9e : Mise en place d'une application de chat avec authentification JWT pour des communications s\xe9curis\xe9es. "),re()(),q(318,"div",132)(319,"div"),fe(320,"Chaque nouveau projet est une opportunit\xe9 d'exploration, d'apprentissage et d'innovation."),Re(321,"br"),fe(322," Mon d\xe9sir inextinguible de d\xe9couvrir de nouveaux horizons technologiques et de relever des d\xe9fis stimulants est la force motrice qui m'anime. En qu\xeate d'une alternance qui fusionne passion et d\xe9veloppement professionnel, je suis pr\xeat \xe0 apporter ma passion, mon engagement et ma soif de connaissances pour contribuer de mani\xe8re significative \xe0 chaque initiative. L'avenir est une toile vierge o\xf9 je suis impatient d'ajouter mes couleurs, mes comp\xe9tences et ma d\xe9termination. "),re()()()(),q(323,"div",133)(324,"div",134)(325,"div",129),Re(326,"div",135)(327,"div",135)(328,"div",135)(329,"div",135),re(),q(330,"div",136)(331,"span"),fe(332,"<<<<<<<"),re(),q(333,"span"),fe(334,"F"),re(),q(335,"span"),fe(336,"a"),re(),q(337,"span"),fe(338,"i"),re(),q(339,"span"),fe(340,"t"),re(),q(341,"span"),fe(342,"e"),re(),q(343,"span"),fe(344,"s"),re(),q(345,"span"),fe(346,"\xa0"),re(),Re(347,"span"),q(348,"span"),fe(349,"g"),re(),q(350,"span"),fe(351,"l"),re(),q(352,"span"),fe(353,"i"),re(),q(354,"span"),fe(355,"s"),re(),q(356,"span"),fe(357,"s"),re(),q(358,"span"),fe(359,"e"),re(),q(360,"span"),fe(361,"r"),re(),Re(362,"span"),q(363,"span"),fe(364,"\xa0"),re(),q(365,"span"),fe(366,"i"),re(),q(367,"span"),fe(368,"c"),re(),q(369,"span"),fe(370,"i"),re(),q(371,"span"),fe(372,"<<<<<<<"),re()()()()(),q(373,"div",137)(374,"div",138)(375,"div",129),Re(376,"div",139)(377,"div",139)(378,"div",139),q(379,"div",139)(380,"div",140)(381,"div",141)(382,"h1"),fe(383,"Me contacter"),re(),q(384,"p",142),fe(385,"Je suis disponible pour toutes proposition de projet"),re()(),q(386,"div",143)(387,"div",144)(388,"h2"),fe(389,"TELEPHONE"),re(),Re(390,"img",145),q(391,"p"),fe(392,"+33 745 426 131"),re()(),q(393,"div",144)(394,"h2"),fe(395,"EMAIL"),re(),Re(396,"img",146),q(397,"p"),fe(398,"me@simopatrice.com"),re()(),q(399,"div",144)(400,"h2"),fe(401,"LOCALISATION"),re(),Re(402,"img",147),q(403,"p"),fe(404,"\xcele de france|| Orl\xe9ans"),re()()()()()()()()(),q(405,"div",148)(406,"label",119),Re(407,"input",149),Wt(),q(408,"svg",59),Re(409,"circle",60)(410,"path",61)(411,"path",62)(412,"path",63),re()()(),qt(),q(413,"div",150)(414,"label",151),Re(415,"input",152),Wt(),q(416,"svg",59),Re(417,"circle",67)(418,"path",68)(419,"path",69)(420,"path",70),re()()()()()()()()),2&t&&(function fA(n){hA(Ct(),oe(),gi()+n,!1)}(109),yy(i.currentText))},dependencies:[zne,Vne],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap";@font-face{font-family:swiper-icons;src:url(data:application/font-woff;charset=utf-8;base64,\\ d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA);font-weight:400;font-style:normal}[_ngcontent-%COMP%]:root{--swiper-theme-color: #007aff}[_nghost-%COMP%]{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;overflow:clip;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{flex-direction:column}.swiper-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function, initial);box-sizing:content-box}.swiper-android[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%], .swiper-ios[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%], .swiper-wrapper[_ngcontent-%COMP%]{transform:translateZ(0)}.swiper-horizontal[_ngcontent-%COMP%]{touch-action:pan-y}.swiper-vertical[_ngcontent-%COMP%]{touch-action:pan-x}.swiper-slide[_ngcontent-%COMP%]{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}.swiper-slide-invisible-blank[_ngcontent-%COMP%]{visibility:hidden}.swiper-autoheight[_ngcontent-%COMP%], .swiper-autoheight[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{height:auto}.swiper-autoheight[_ngcontent-%COMP%]   .swiper-wrapper[_ngcontent-%COMP%]{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode[_ngcontent-%COMP%]   .swiper-wrapper[_ngcontent-%COMP%]{perspective:1200px}.swiper-3d[_ngcontent-%COMP%]   .swiper-wrapper[_ngcontent-%COMP%]{transform-style:preserve-3d}.swiper-3d[_ngcontent-%COMP%]{perspective:1200px}.swiper-3d[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%], .swiper-3d[_ngcontent-%COMP%]   .swiper-cube-shadow[_ngcontent-%COMP%]{transform-style:preserve-3d}.swiper-css-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.swiper-css-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%] > .swiper-slide[_ngcontent-%COMP%]{scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%] > .swiper-slide[_ngcontent-%COMP%]{scroll-snap-align:none}.swiper-css-mode.swiper-centered[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]:before{content:"";flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%] > .swiper-slide[_ngcontent-%COMP%]{scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%] > .swiper-slide[_ngcontent-%COMP%]:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%] > .swiper-slide[_ngcontent-%COMP%]:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical[_ngcontent-%COMP%] > .swiper-wrapper[_ngcontent-%COMP%]:before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow[_ngcontent-%COMP%], .swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-left[_ngcontent-%COMP%], .swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-right[_ngcontent-%COMP%], .swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-top[_ngcontent-%COMP%], .swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-bottom[_ngcontent-%COMP%], .swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow[_ngcontent-%COMP%], .swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-left[_ngcontent-%COMP%], .swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-right[_ngcontent-%COMP%], .swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-top[_ngcontent-%COMP%], .swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-bottom[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow[_ngcontent-%COMP%]{background:rgba(0,0,0,.15)}.swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-left[_ngcontent-%COMP%]{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-right[_ngcontent-%COMP%]{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-top[_ngcontent-%COMP%]{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d[_ngcontent-%COMP%]   .swiper-slide-shadow-bottom[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader[_ngcontent-%COMP%]{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color, var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}.swiper[_ngcontent-%COMP%]:not(.swiper-watch-progress)   .swiper-lazy-preloader[_ngcontent-%COMP%], .swiper-watch-progress[_ngcontent-%COMP%]   .swiper-slide-visible[_ngcontent-%COMP%]   .swiper-lazy-preloader[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_swiper-preloader-spin 1s infinite linear}.swiper-lazy-preloader-white[_ngcontent-%COMP%]{--swiper-preloader-color: #fff}.swiper-lazy-preloader-black[_ngcontent-%COMP%]{--swiper-preloader-color: #000}@keyframes _ngcontent-%COMP%_swiper-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@import url(https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100;500&display=swap)[_ngcontent-%COMP%];@import url(https://fonts.googleapis.com/css2?family=Puritan:ital,wght@0,700;1[_ngcontent-%COMP%], 400&family=Roboto[_ngcontent-%COMP%] + Mono[_ngcontent-%COMP%]:wght@700&family=Roboto + Slab[_ngcontent-%COMP%]:wght@200&display=swap);@font-face{font-family:Neoneon;src:url(/assets/assets/images/Neoneon.otf) format("opentype")}h1[_ngcontent-%COMP%]{font-family:Puritan,sans-serif}.intro[_ngcontent-%COMP%]{background:transparent;left:0;padding-top:7%;padding-left:10%;color:#fff}@media (min-width: 768px){.prenom[_ngcontent-%COMP%], .sign[_ngcontent-%COMP%]{font-size:800%}}.intro[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;height:auto}.bienvenue[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center}.prenom[_ngcontent-%COMP%]{display:flex;padding-top:2%;margin-bottom:0%;font-family:Courier,sans-serif;font-size:36px;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.nom[_ngcontent-%COMP%]{display:flex;justify-content:left;margin-top:-1%}button[_ngcontent-%COMP%]{padding:8px;width:100px;border:2px solid white;background-color:transparent;color:#fff;cursor:pointer;border-radius:5px;transition:.3s ease-out}button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.canvas-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100vh;z-index:1}.container[_ngcontent-%COMP%]{width:100%;height:100vh;overflow:hidden;background-image:radial-gradient(farthest-corner at 100% 100px,rgb(32,0,126) 0%,rgb(0,0,0) 30%)}.pages[_ngcontent-%COMP%]{display:flex;width:200%;box-sizing:border-box}.three[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden}.pages1[_ngcontent-%COMP%]{display:flex;width:200%;box-sizing:border-box}.block[_ngcontent-%COMP%]{flex:1}.page[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;transition:all .7s;color:#fff}.snip1374[_ngcontent-%COMP%]{position:absolute;right:0%;overflow:hidden;background:transparent}.snip1374[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;transition:all .5s ease-out;transform:scale(2)}.snip1374[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .snip1374.hover[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1)}.orleans[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shyne 2s infinite}@keyframes _ngcontent-%COMP%_shyne{0%{filter:brightness(1.15)}60%{filter:brightness(2)}to{filter:brightness(1.14)}}.monstring[_ngcontent-%COMP%]{display:flex;z-index:-2;flex-direction:column;text-align:center;animation:_ngcontent-%COMP%_move 5s infinite}.greeting[_ngcontent-%COMP%]{position:relative;top:100%;animation:white-out 5s infinite}.stem[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;display:flex;color:#fff}.closure[_ngcontent-%COMP%]:after{content:"";z-index:-1;position:absolute;height:30%;width:50%;background:#000000;transform:translate(-80%,-98%)}.snip1374[_ngcontent-%COMP%]   .closure[_ngcontent-%COMP%]:before{opacity:.5}.closure[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;height:40%;width:50%;background:#000000;transform:translate(-70%,11%)}.en[_ngcontent-%COMP%]{color:#fa8231}.es[_ngcontent-%COMP%]{color:#fff}.de[_ngcontent-%COMP%]{color:#c678dd}.it[_ngcontent-%COMP%]{color:#a9b0bd}@keyframes _ngcontent-%COMP%_move{0%{transform:translatey(-80%);opacity:1}20%{transform:translatey(-99%);opacity:1}40%{transform:translatey(-124%)}60%{transform:translatey(-149%)}80%{transform:translatey(-174%)}}@keyframes _ngcontent-%COMP%_blink{0%,22%,36%,75%{color:#ffe6ff;text-shadow:0 0 .6rem #ffe6ff,0 0 1.5rem #ffffff,-.2rem .1rem 1rem #65fcff,.2rem .1rem 1rem #65fff5,0 -.5rem 2rem #24ffff,0 .5rem 3rem #ffffff}28%,33%{color:#fff;text-shadow:none}82%,97%{color:#fff;text-shadow:none}}.sign[_ngcontent-%COMP%]{display:flex;font-family:Neoneon;color:#e6f9ff;text-shadow:0 0 .6rem #e6f8ff,0 0 1.5rem #65ccff,-.2rem .1rem 1rem #65ceff,.2rem .1rem 1rem #65e3ff,0 -.5rem 2rem rgb(255,255,255),0 .5rem 3rem #ffffff;animation:_ngcontent-%COMP%_shine 2s forwards,flicker 3s infinite}.flicker[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shine 2s forwards,blink 3s 2s infinite}.sign[_ngcontent-%COMP%]   .fast-flicker[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shine 2s forwards,blink 10s 1s infinite}@keyframes _ngcontent-%COMP%_shine{0%{color:#186a6b;text-shadow:none}to{color:#ffffe6;text-shadow:0 0 .6rem #e6fffb,0 0 1.5rem #ffffff,-.2rem .1rem 1rem #65f2ff,.2rem .1rem 1rem #65f7ff,0 -.5rem 2rem #24f8ff,0 .5rem 3rem #24daff}}@keyframes _ngcontent-%COMP%_flicker{0%{opacity:1}4%{opacity:.9}6%{opacity:.85}8%{opacity:.95}10%{opacity:.9}11%{opacity:.922}12%{opacity:.9}14%{opacity:.95}16%{opacity:.98}17%{opacity:.9}19%{opacity:.93}20%{opacity:.99}24%{opacity:1}26%{opacity:.94}28%{opacity:.98}37%{opacity:.93}38%{opacity:.5}39%{opacity:.96}42%{opacity:1}44%{opacity:.97}46%{opacity:.94}56%{opacity:.9}58%{opacity:.9}60%{opacity:.99}68%{opacity:1}70%{opacity:.9}72%{opacity:.95}93%{opacity:.93}95%{opacity:.95}97%{opacity:.93}to{opacity:1}}.expli[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#fff;font-size:200%;font-family:Roboto Slab,serif;font-weight:400}span[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-family:Roboto Slab,serif;font-weight:700;font-size:110%}span[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto Slab,serif;font-weight:400}.container22[_ngcontent-%COMP%]   .span2[_ngcontent-%COMP%]{font-family:Roboto Slab,serif;font-weight:400;font-size:125%;margin-right:5%;text-align:justify}.container22[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1%}.titre[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:300%}@keyframes _ngcontent-%COMP%_vibrate{0%{transform:translate(0)}20%{transform:translate(-5px)}40%{transform:translate(5px)}60%{transform:translate(-5px)}80%{transform:translate(5px)}to{transform:translate(0)}}.bg[_ngcontent-%COMP%], .bg2[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute}.bg[_ngcontent-%COMP%]{clip-path:polygon(72% 74%,100% 27%,100% 100%,50% 100%);z-index:-1;background-color:#000}.bg2[_ngcontent-%COMP%]{z-index:-2;background-color:#0c0c0c;clip-path:polygon(80% 100%,100% 27%,62% 67%,4% 100%);animation:_ngcontent-%COMP%_lightEffect 1s infinite alternate}.bg2[_ngcontent-%COMP%]:hover{background-color:#000}@keyframes _ngcontent-%COMP%_lightEffect{0%{background-color:transparent}to{background-color:#0d0e00b3}}.titreC[_ngcontent-%COMP%]{position:absolute;top:5%;margin-bottom:0%;font-family:Roboto Mono,monospace;font-weight:700;font-size:200%;color:#fff;text-shadow:4px 4px 10px rgba(0,0,0,.5)}.container22[_ngcontent-%COMP%]{padding:5%;margin-left:15%}ul[_ngcontent-%COMP%]{list-style-type:none;perspective:1000px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:grid;grid-template-columns:20% auto;border-radius:10px;padding:5%;cursor:pointer;transform:rotateY(-35deg) rotateX(15deg);position:absolute;border-bottom:4px solid rgba(0,0,0,.2);border-right:4px solid rgba(0,0,0,.2);transition:.7s}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){color:#fff;background-color:#8063e1;background-image:linear-gradient(135deg,#BD7BE8,#8063E1);top:-112px;z-index:3}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){background-color:#3f58e3;background-image:linear-gradient(135deg,#7F94FC,#3F58E3);z-index:2;color:#fff}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){color:#fff;background-color:#352f64;background-image:linear-gradient(135deg,#415197,#352F64);top:112px;z-index:1}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){color:#fff;background-color:#352f64;background-image:linear-gradient(135deg,#fdf102,#e1a800);top:224px;z-index:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translateY(30px) rotateY(-35deg) rotateX(15deg) scale(1.2);z-index:3}.contenair2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px}.contenair2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em;margin-top:0}#left[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:gray;line-height:1.5em}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(100%)}to{opacity:1;transform:translate(0)}}.tooltip[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer}.tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:200px;background-color:#333;color:#fff;text-align:center;border-radius:5px;padding:10px;position:absolute;z-index:1;top:100%;left:50%;transform:translate(-50%);opacity:0;transition:opacity .3s}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}.icon[_ngcontent-%COMP%]{display:inline-block;width:2%;margin-left:2%;height:2%;stroke-width:0}.icon[_ngcontent-%COMP%]:nth-child(1){display:inline-block;width:2%;height:2%;stroke-width:0}.social-icons[_ngcontent-%COMP%]{display:flex;align-items:center}.time-3-icon[_ngcontent-%COMP%]{fill:#fff}#facebook[_ngcontent-%COMP%]:hover   .time-3-icon[_ngcontent-%COMP%]{fill:#1877f2}#twitter[_ngcontent-%COMP%]:hover   .time-3-icon[_ngcontent-%COMP%]{fill:#1da1f2}#linkedin[_ngcontent-%COMP%]:hover   .time-3-icon[_ngcontent-%COMP%]{fill:#0a66c2}#insta[_ngcontent-%COMP%]:hover   .time-3-icon[_ngcontent-%COMP%]{fill:#f46f30}#git[_ngcontent-%COMP%]:hover   .time-3-icon[_ngcontent-%COMP%]{fill:red}.shiny-button[_ngcontent-%COMP%]{background-color:#0a0906;color:#fff;border:none;padding:2%;margin-top:2%;width:25%;height:5%;font-size:100%;border-radius:5%;position:relative;overflow:hidden;transition:transform .3s,box-shadow .3s;box-shadow:0 0 10px #ffd700b3}.shiny-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-150%;left:-150%;width:200%;height:200%;background:linear-gradient(45deg,transparent 0%,rgba(255,255,255,.4) 50%,transparent 100%);opacity:0;transform:rotate(45deg);transition:opacity .3s,transform .3s;pointer-events:none}.shiny-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 4px #0003}.shiny-button[_ngcontent-%COMP%]:hover:before{opacity:1;transform:translate(50%,50%) rotate(45deg)}.position3[_ngcontent-%COMP%]{position:relative;top:-10%}.about[_ngcontent-%COMP%]{color:#fff;font-size:300%}.about-section[_ngcontent-%COMP%]{margin-left:10%}.about-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}.three[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:400%;color:#fff;margin-left:7%}.three[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:150%;color:#fff;font-family:Roboto Mono,monospace;margin-left:3%}.three[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:120%;color:#fff;font-family:Roboto Mono,monospace}.about-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:150%;font-family:Roboto Slab,serif;font-weight:400}.tool-item0[_ngcontent-%COMP%]{color:#fff;opacity:0}.tool-item1[_ngcontent-%COMP%]{color:#fffcfc;opacity:0}.tool-item2[_ngcontent-%COMP%]{color:#fff;opacity:0}.tool-item3[_ngcontent-%COMP%], .tool-item4[_ngcontent-%COMP%], .tool-item5[_ngcontent-%COMP%], .tool-item6[_ngcontent-%COMP%]{color:#fffcfc;opacity:0}.animate0[_ngcontent-%COMP%], .animate1[_ngcontent-%COMP%], .animate2[_ngcontent-%COMP%], .animate3[_ngcontent-%COMP%], .animate4[_ngcontent-%COMP%], .animate5[_ngcontent-%COMP%], .animate6[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp 2s forwards;opacity:1}.gradient[_ngcontent-%COMP%]{background:linear-gradient(to bottom,rgb(0,0,0),rgb(0,0,0));animation:_ngcontent-%COMP%_gradientTransition 2s infinite forwards}@keyframes _ngcontent-%COMP%_gradientTransition{0%{background:linear-gradient(to bottom,rgb(0,0,0),cyan)}to{background:linear-gradient(to bottom,rgb(0,0,0),black)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}.animateOleans3Start[_ngcontent-%COMP%]{animation:none}.hidden[_ngcontent-%COMP%]{display:none}.puce[_ngcontent-%COMP%]{width:7%;height:10%;fill:#fff}.ligneOutil[_ngcontent-%COMP%]{margin-bottom:5%}.orleans3[_ngcontent-%COMP%]{overflow:hidden;position:absolute;top:-165%;right:-30%;z-index:-1;scale:.4}.aniOrleans3[_ngcontent-%COMP%]{overflow:hidden;animation:_ngcontent-%COMP%_fadeIndown 10s}@keyframes _ngcontent-%COMP%_fadeIndown{0%{opacity:0;transform:translateY(1);transform:rotate(0)}50%{opacity:1;transform:translateY(85%)}75%{opacity:1;transform:translate(-40%) translateY(85%) rotate(-35deg)}99%{opacity:1;transform:translate(-250%) translateY(98%) rotate(-200deg)}to{opacity:0;transform:translate(-290%) translateY(98%) rotate(-100deg)}}.Tmes[_ngcontent-%COMP%]{margin-left:20%;margin-bottom:5%}.outis[_ngcontent-%COMP%]{left:30%}.item[_ngcontent-%COMP%]{display:block;position:absolute;background:#000;width:250px;height:200px;line-height:200px;font-size:5em;text-align:center;color:#fff;opacity:.95;border-radius:10px}.a[_ngcontent-%COMP%]{transform:rotateY(0) translateZ(250px);background:#ed1c24}.b[_ngcontent-%COMP%]{transform:rotateY(60deg) translateZ(250px);background:#0072bc}.c[_ngcontent-%COMP%]{transform:rotateY(120deg) translateZ(250px);background:#39b54a}.d[_ngcontent-%COMP%]{transform:rotateY(180deg) translateZ(250px);background:#f26522}.e[_ngcontent-%COMP%]{transform:rotateY(240deg) translateZ(250px);background:#630460}.f[_ngcontent-%COMP%]{transform:rotateY(300deg) translateZ(250px);background:#8c6239}.next[_ngcontent-%COMP%], .prev[_ngcontent-%COMP%]{color:#444;position:absolute;top:100px;padding:1em 2em;cursor:pointer;background:#CCC;border-radius:5px;border-top:1px solid #FFF;box-shadow:0 5px #999;transition:box-shadow .1s,top .1s}.next[_ngcontent-%COMP%]:hover, .prev[_ngcontent-%COMP%]:hover{color:#000}.next[_ngcontent-%COMP%]:active, .prev[_ngcontent-%COMP%]:active{top:104px;box-shadow:0 1px #999}.next[_ngcontent-%COMP%]{right:5em}.prev[_ngcontent-%COMP%]{left:5em}leftC2[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{padding:0%}.div--menu--2a[_ngcontent-%COMP%]{height:50%;width:30%;left:5%;bottom:5%}.leftC2[_ngcontent-%COMP%]{margin-left:5%;color:#fff;font-size:100%;top:5px;line-height:170%;margin-bottom:1.5%}.background-canvas[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1}.swiper[_ngcontent-%COMP%]{width:100%;height:100%}.swiper1[_ngcontent-%COMP%]{position:absolute;top:-130%;left:8%;width:50%;height:100%;padding:3%}.swiper2[_ngcontent-%COMP%]{position:absolute;right:60%}.swiper3[_ngcontent-%COMP%]{position:absolute;left:8%;top:-170%;width:50%}.swiper4[_ngcontent-%COMP%]{position:absolute}.cardsG[_ngcontent-%COMP%]{position:absolute;right:0%;bottom:0%}.swipbas[_ngcontent-%COMP%]{bottom:0%}.testdiv[_ngcontent-%COMP%]{position:absolute;bottom:0%;background-color:#fff}.color-changing-text[_ngcontent-%COMP%]{display:inline-block;font-size:70%;font-family:Roboto,sans-serif}.color-changing-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_colorChange 1.5s linear infinite}@keyframes _ngcontent-%COMP%_colorChange{0%{color:#fff;font-size:70%}to{color:red;font-size:100%}}.swiper-slide[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border-radius:5%;font-size:50%;font-weight:700;color:#fff}.swip[_ngcontent-%COMP%]:nth-child(1n){margin:0;padding:0;background-image:url(erp.6d6e6a05476cafec.png);background-size:cover;background-position:center}.swip[_ngcontent-%COMP%]:nth-child(2n){background-image:url(test1.15cc9b94a60b4043.png)}.swip[_ngcontent-%COMP%]:nth-child(3n){background-image:url(etude.0bbf61e10a317b23.png)}.swip[_ngcontent-%COMP%]:nth-child(4n){background-image:none}.divnewpG[_ngcontent-%COMP%], .divnewp[_ngcontent-%COMP%]{justify-content:center;align-items:center}.divnewpC[_ngcontent-%COMP%]{justify-content:center;align-items:center;background-color:#0000;margin:2%;transition:transform .3s,box-shadow .3s;box-shadow:0 0 10px #ffd700b3;border-radius:5%}.dispoM[_ngcontent-%COMP%]{margin-left:15%;justify-content:center;align-items:center}.dispoM[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:3%;color:#fff;font-size:300%}.dispoM[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5%;color:#fff;margin-left:-25%;font-size:150%;font-family:Roboto,sans-serif}.divnewpC[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:5%;color:#fff;font-size:250%;font-family:Roboto Mono,monospace}.divnewpC[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:3%;color:#fff;font-size:150%;font-family:Roboto,sans-serif}.divnewpC[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 4px #fff3}.divnewpC[_ngcontent-%COMP%]:hover:before{opacity:1;transform:translate(50%,50%) rotate(45deg)}.swipp[_ngcontent-%COMP%]:nth-child(1n){margin:0;padding:0;background-image:url(pt1.50d0d30f0788497d.png);background-size:cover;background-position:center}.swipp[_ngcontent-%COMP%]:nth-child(2n){margin:0;padding:0;background-image:url(pt2.bfa788d5d8b3ec1d.png);background-size:cover;background-position:center}.swipp[_ngcontent-%COMP%]:nth-child(3n){margin:0;padding:0;background-image:url(pt3.3ebcc60235255659.png);background-size:cover;background-position:center}.swipp[_ngcontent-%COMP%]:nth-child(4n){margin:0;padding:0;background-image:url(pt4.cc29ad568409c50b.png);background-size:cover;background-position:center}.petitSwipp[_ngcontent-%COMP%]{position:absolute;width:80%;height:30%;left:2%;bottom:2%;justify-content:center;align-items:center;z-index:2}.grandSwipp[_ngcontent-%COMP%]{position:absolute;width:80%;height:90%}footer[_ngcontent-%COMP%]{position:absolute;text-align:center;padding:.5%;background-color:#000;color:#fff;font-size:100%;bottom:0%;border-radius:300% 300% 0% 0%}','@charset "UTF-8";input[_ngcontent-%COMP%]{display:none}label[_ngcontent-%COMP%]{display:block;cursor:pointer;position:absolute;width:50vw;height:50vw;max-width:70px;max-height:70px}.page[_ngcontent-%COMP%]{transform:translate(0)}.menu--11a[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:fixed;right:5%;bottom:35%}.menu--12a[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{bottom:60%;left:5%}.menu--21a[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{right:15%;bottom:5%}.menu--22a[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{left:25%;bottom:5%}.menu--11b[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{right:15%;top:5%}.menu--21b[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{right:5%;top:30%}.menu--12b[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{left:15%;top:5%}.menu--22b[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{left:5%;top:30%}path[_ngcontent-%COMP%]{fill:none;stroke:#fff;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;--length: 0;--offset: -50;stroke-dasharray:var(--length) var(--total-length);stroke-dashoffset:var(--offset);transition:all .8s cubic-bezier(.645,.045,.355,1)}circle[_ngcontent-%COMP%]{fill:#fff3;opacity:0}label[_ngcontent-%COMP%]:hover{opacity:1;border-radius:50%;display:block;background:#1e2424;border:1px solid #68c4bc;box-shadow:inset 0 0 1rem #68c4bc}label[_ngcontent-%COMP%]:hover:hover{animation:_ngcontent-%COMP%_place-order-keyframes 4s linear;background-color:#1e2424}@keyframes _ngcontent-%COMP%_place-order-keyframes{0%{background-color:#004c4c;box-shadow:0 0 #68c4bccc,inset 0 0 1rem #68c4bc,inset 0 0 #68c4bc}4%,90%{background-color:#017474;box-shadow:0 0 25px 3px #68c4bccc,inset 0 0 0 2px #fff,inset 0 0 25px 10px #fff}to{background-color:#1e2424;box-shadow:0 0 #68c4bccc,inset 0 0 1rem #68c4bc,inset 0 0 #68c4bc}}.cross[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .line--1[_ngcontent-%COMP%], .cross[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .line--2[_ngcontent-%COMP%]{--length: 22.627416998}.cross[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .line--2[_ngcontent-%COMP%]{--length: 0}.back[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .line--1[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .line--3[_ngcontent-%COMP%]{--length: 8.602325267}.lab--11b[_ngcontent-%COMP%]{transform:rotate(90deg)}.lab--21b[_ngcontent-%COMP%]{transform:rotate(180deg)}.lab--22b[_ngcontent-%COMP%]{transform:rotate(0)}.lab--11a[_ngcontent-%COMP%]{transform:rotate(180deg)}.lab--21a[_ngcontent-%COMP%], .lab--22a[_ngcontent-%COMP%]{transform:rotate(270deg)}.lab--12a[_ngcontent-%COMP%]{transform:rotate(90eg)}.menu[_ngcontent-%COMP%]{background-color:#00aef6}.menu[_ngcontent-%COMP%]   .line--1[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   .line--3[_ngcontent-%COMP%]{--total-length: 126.38166809082031}.menu[_ngcontent-%COMP%]   .line--2[_ngcontent-%COMP%]{--total-length: 80}.menu[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .line--1[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .line--3[_ngcontent-%COMP%]{--offset: -109.1770175568}.menu[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + svg[_ngcontent-%COMP%]   .line--2[_ngcontent-%COMP%]{--offset: -38;--length: 24}.line--debug[_ngcontent-%COMP%]{opacity:0;stroke-dasharray:none}.container22[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:hover{animation:_ngcontent-%COMP%_place-order-keyframe 4s linear;background-color:#1e2424}@keyframes _ngcontent-%COMP%_place-order-keyframe{0%{background-image:linear-gradient(135deg,#000000,#000000);background-color:#004c4c;box-shadow:0 0 #68c4bccc,inset 0 0 1rem #68c4bc,inset 0 0 #68c4bc}4%,90%{background-image:linear-gradient(135deg,#000000,#000000);background-color:#017474;box-shadow:0 0 25px 3px #68c4bccc,inset 0 0 0 2px #fff,inset 0 0 25px 10px #fff}to{background-image:linear-gradient(135deg,#000000,#000000);background-color:#1e2424;box-shadow:0 0 #68c4bccc,inset 0 0 1rem #68c4bc,inset 0 0 #68c4bc}}@media (max-width: 1500px){.container[_ngcontent-%COMP%]{width:100%;height:100vh;overflow:hidden;background-image:radial-gradient(farthest-corner at 100% 100%,rgb(0,0,0) 0%,rgb(0,0,0) 30%)}.closure[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;height:50%;width:50%;background:#000000;transform:translate(-70%,7%)}.closure[_ngcontent-%COMP%]:after{content:"";z-index:-1;position:absolute;height:30%;width:50%;background:#000000;transform:translate(-80%,-99%)}.shiny-button[_ngcontent-%COMP%]{background-color:#0a0906;color:#fff;border:none;padding:2%;margin-top:2%;width:40%;height:5%;font-size:100%;border-radius:5%;position:relative;overflow:hidden;transition:transform .3s,box-shadow .3s;box-shadow:0 0 10px #ffd700b3}.titreC[_ngcontent-%COMP%]{font-size:130%;line-height:170%;left:3%;top:8%}.leftC2[_ngcontent-%COMP%]{position:absolute;color:#fff;font-size:60%;line-height:170%;left:10%;top:12%}.rightc2[_ngcontent-%COMP%]{position:absolute;left:20%;bottom:-10%}ul[_ngcontent-%COMP%]{list-style-type:none;perspective:500px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:grid;grid-template-columns:10% auto;border-radius:10px;padding:5%;cursor:pointer;transform:rotateY(-35deg) rotateX(15deg);position:absolute;border-bottom:4px solid rgba(0,0,0,.2);border-right:4px solid rgba(0,0,0,.2);transition:.7s}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){color:#fff;background-color:#8063e1;background-image:linear-gradient(135deg,#BD7BE8,#8063E1);top:-150px;z-index:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){background-color:#3f58e3;background-image:linear-gradient(135deg,#7F94FC,#3F58E3);z-index:1;top:-75px;color:#fff}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){color:#fff;background-color:#352f64;background-image:linear-gradient(135deg,#415197,#352F64);top:0;z-index:2}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){color:#fff;background-color:#352f64;background-image:linear-gradient(135deg,#fdf102,#e1a800);top:75px;z-index:3}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translate(20px) rotateY(-35deg) rotateX(15deg);z-index:4}#left[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:gray;line-height:1.5em}.three[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:10%;font-size:200%;color:#fff}.three[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:150%;color:#fff;font-family:Roboto Mono,monospace;margin-left:10%}.three[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:90%;color:#fff;font-family:Roboto Mono,monospace}.Tmes[_ngcontent-%COMP%]{margin-left:-10%;margin-bottom:5%;font-family:Roboto,sans-serif;margin-top:5%}.ligneOutil[_ngcontent-%COMP%]{margin-bottom:3%;margin-left:5%}.about-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffefe;font-size:80%;font-family:Roboto,sans-serif;line-height:140%}.tool-item0[_ngcontent-%COMP%]{margin-left:-5%}.position3[_ngcontent-%COMP%]{position:relative;top:-6%}.swiper1[_ngcontent-%COMP%]{display:none}.swiper2[_ngcontent-%COMP%]{position:absolute;right:20%;bottom:30%;width:60%;height:40%}.swiper3[_ngcontent-%COMP%]{position:absolute;left:10%;top:-40%;width:50%;height:30%}.cardsG[_ngcontent-%COMP%]{top:3%;margin-left:2%;z-index:-1}.cardsP[_ngcontent-%COMP%]{position:absolute;left:60%}.dispoM[_ngcontent-%COMP%]{margin-left:25%;justify-content:center;align-items:center}.dispoM[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:3%;color:#fff;font-size:250%}.dispoM[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2%;color:#fff;font-size:120%;font-family:Roboto,sans-serif}.divnewpC[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:3%;color:#fff;font-size:125%;font-family:Roboto Mono,monospace}.divnewpC[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:2%;color:#fff;font-size:75%;font-family:Roboto,sans-serif}footer[_ngcontent-%COMP%]{font-size:70%}}@media (min-width: 641px) and (max-width: 1024px){.stem[_ngcontent-%COMP%]{font-size:18px}}@media (min-width: 1025px){.stem[_ngcontent-%COMP%]{font-size:20px}}']}),n})();class JO{}class jne{}const _o="*";function eN(n,e=null){return{type:2,steps:n,options:e}}function tN(n){return{type:6,styles:n,offset:null}}function nN(n){Promise.resolve().then(n)}class qf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class iN{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?nN(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const ZS="!";function rN(n){return new se(3e3,!1)}function Aie(){return typeof window<"u"&&typeof window.document<"u"}function $S(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function aa(n){switch(n.length){case 0:return new qf;case 1:return n[0];default:return new iN(n)}}function sN(n,e,t,i,r=new Map,s=new Map){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.get("offset"),f=d==l,h=f&&c||new Map;u.forEach((p,m)=>{let g=m,v=p;if("offset"!==m)switch(g=e.normalizePropertyName(g,o),v){case ZS:v=r.get(m);break;case _o:v=s.get(m);break;default:v=e.normalizeStyleValue(m,g,v,o)}h.set(g,v)}),f||a.push(h),c=h,l=d}),o.length)throw function pie(n){return new se(3502,!1)}();return a}function JS(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&eE(t,"start",n)));break;case"done":n.onDone(()=>i(t&&eE(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&eE(t,"destroy",n)))}}function eE(n,e,t){const s=tE(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function tE(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function fr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function oN(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let nE=(n,e)=>!1,aN=(n,e,t)=>[],lN=null;function iE(n){const e=n.parentNode||n.host;return e===lN?null:e}($S()||typeof Element<"u")&&(Aie()?(lN=(()=>document.documentElement)(),nE=(n,e)=>{for(;e;){if(e===n)return!0;e=iE(e)}return!1}):nE=(n,e)=>n.contains(e),aN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let yl=null,cN=!1;const uN=nE,dN=aN;let fN=(()=>{class n{validateStyleProperty(t){return function Cie(n){yl||(yl=function Die(){return typeof document<"u"?document.body:null}()||{},cN=!!yl.style&&"WebkitAppearance"in yl.style);let e=!0;return yl.style&&!function Tie(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in yl.style,!e&&cN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in yl.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return uN(t,i)}getParentElement(t){return iE(t)}query(t,i,r){return dN(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new qf(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})(),rE=(()=>{class n{}return n.NOOP=new fN,n})();const Pie=1e3,sE="ng-enter",Yg="ng-leave",Xg="ng-trigger",qg=".ng-trigger",pN="ng-animating",oE=".ng-animating";function wo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:aE(parseFloat(e[1]),e[2])}function aE(n,e){return"s"===e?n*Pie:n}function Qg(n,e,t){return n.hasOwnProperty("duration")?n:function Rie(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(rN()),{duration:0,delay:0,easing:""};r=aE(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=aE(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function Yne(){return new se(3100,!1)}()),a=!0),s<0&&(e.push(function Xne(){return new se(3101,!1)}()),a=!0),a&&e.splice(l,0,rN())}return{duration:r,delay:s,easing:o}}(n,e,t)}function Qf(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function mN(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function la(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function vN(n,e,t){return t?e+":"+t+";":""}function yN(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=vN(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=vN(0,Fie(t),n.style[t]));n.setAttribute("style",e)}function Ts(n,e,t){n.style&&(e.forEach((i,r)=>{const s=cE(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),$S()&&yN(n))}function _l(n,e){n.style&&(e.forEach((t,i)=>{const r=cE(i);n.style[r]=""}),$S()&&yN(n))}function Kf(n){return Array.isArray(n)?1==n.length?n[0]:eN(n):n}const lE=new RegExp("{{\\s*(.+?)\\s*}}","g");function _N(n){let e=[];if("string"==typeof n){let t;for(;t=lE.exec(n);)e.push(t[1]);lE.lastIndex=0}return e}function Zf(n,e,t){const i=n.toString(),r=i.replace(lE,(s,o)=>{let a=e[o];return null==a&&(t.push(function Qne(n){return new se(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Kg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Nie=/-+([a-z0-9])/g;function cE(n){return n.replace(Nie,(...e)=>e[1].toUpperCase())}function Fie(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Kne(n){return new se(3004,!1)}()}}function wN(n,e){return window.getComputedStyle(n)[e]}const Jg="*";function Vie(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Gie(n,e,t){if(":"==n[0]){const l=function Wie(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function uie(n){return new se(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function cie(n){return new se(3015,!1)}()),e;const r=i[1],s=i[2],o=i[3];e.push(xN(r,o));"<"==s[0]&&!(r==Jg&&o==Jg)&&e.push(xN(o,r))}(i,t,e)):t.push(n),t}const ev=new Set(["true","1"]),tv=new Set(["false","0"]);function xN(n,e){const t=ev.has(n)||tv.has(n),i=ev.has(e)||tv.has(e);return(r,s)=>{let o=n==Jg||n==r,a=e==Jg||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?ev.has(n):tv.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?ev.has(e):tv.has(e)),o&&a}}const jie=new RegExp("s*:selfs*,?","g");function uE(n,e,t,i){return new Yie(n).build(e,t,i)}class Yie{constructor(e){this._driver=e}build(e,t,i){const r=new Qie(t);return this._resetContextStyleTimingState(r),hr(this,Kf(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function $ne(){return new se(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function Jne(){return new se(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{_N(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(Kg(s.values()),t.errors.push(function eie(n,e){return new se(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=hr(this,Kf(e.animation),t);return{type:1,matchers:Vie(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:wl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>hr(this,i,t)),options:wl(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=hr(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:wl(e.options)}}visitAnimate(e,t){const i=function Zie(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return dE(Qg(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=dE(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Qg(t,e);return dE(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:tN({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=tN(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===_o?i.push(a):t.errors.push(new se(3002,!1)):i.push(mN(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push(function nie(n,e,t,i,r){return new se(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),t.options&&function Oie(n,e,t){const i=e.params||{},r=_N(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function qne(n){return new se(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function iie(){return new se(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const _=this._makeStyleAst(v,t);let y=null!=_.offset?_.offset:function Kie(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(_.styles),w=0;return null!=y&&(s++,w=_.offset=y),l=l||w<0||w>1,a=a||w<c,c=w,o.push(w),_});l&&t.errors.push(function rie(){return new se(3012,!1)}()),a&&t.errors.push(function sie(){return new se(3200,!1)}());const d=e.steps.length;let f=0;s>0&&s<d?t.errors.push(function oie(){return new se(3202,!1)}()):0==s&&(f=1/(d-1));const h=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((v,_)=>{const y=f>0?_==h?1:f*_:o[_],w=y*g;t.currentTime=p+m.delay+w,m.duration=w,this._validateStyleAst(v,t),v.offset=y,i.styles.push(v)}),i}visitReference(e,t){return{type:8,animation:hr(this,Kf(e.animation),t),options:wl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:wl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:wl(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function Xie(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(jie,"")),n=n.replace(/@\*/g,qg).replace(/@\w+/g,t=>qg+"-"+t.slice(1)).replace(/:animating/g,oE),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,fr(t.collectedStyles,t.currentQuerySelector,new Map);const a=hr(this,Kf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:wl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function aie(){return new se(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Qg(e.timings,t.errors,!0);return{type:12,animation:hr(this,Kf(e.animation),t),timings:i,options:null}}}class Qie{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wl(n){return n?(n=Qf(n)).params&&(n.params=function qie(n){return n?Qf(n):null}(n.params)):n={},n}function dE(n,e,t){return{duration:n,delay:e,easing:t}}function fE(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class nv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ere=new RegExp(":enter","g"),nre=new RegExp(":leave","g");function hE(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return(new ire).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class ire{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new nv;const d=new pE(e,t,c,r,s,u,[]);d.options=l;const f=l.delay?wo(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),hr(this,i,d);const h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let m=h.length-1;m>=0;m--){const g=h[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[fE(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const o="number"==typeof s?s:wo(Zf(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?wo(i.duration):null,a=null!=i.delay?wo(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),hr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=iv);const o=wo(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>hr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?wo(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),hr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Qg(t.params?Zf(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?wo(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=iv);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),hr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;hr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const iv={};class pE{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new rv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=wo(i.duration)),null!=i.delay&&(r.delay=wo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Zf(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new pE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=iv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new rre(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(ere,"."+this._enterClassName)).replace(nre,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function lie(n){return new se(3014,!1)}()),a}}class rv{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||_o),this._currentKeyframe.set(t,_o);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},o=function sre(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,_o)}else la(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Zf(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??_o),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=la(a,new Map,this._backFill);c.forEach((u,d)=>{u===ZS?e.add(d):u===_o&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=e.size?Kg(e.values()):[],o=t.size?Kg(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return fE(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class rre extends rv{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=la(e[0]);l.set("offset",0),s.push(l);const c=la(e[0]);c.set("offset",MN(a)),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let f=la(e[d]);const h=f.get("offset");f.set("offset",MN((t+h*i)/o)),s.push(f)}i=o,t=0,r="",e=s}return fE(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function MN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mE{}const ore=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class are extends mE{normalizePropertyName(e,t){return cE(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(ore.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Zne(n,e){return new se(3005,!1)}())}return o+s}}function bN(n,e,t,i,r,s,o,a,l,c,u,d,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}const gE={};class AN{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function lre(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){const d=[],f=this.ast.options&&this.ast.options.params||gE,p=this.buildStyles(i,a&&a.params||gE,d),m=l&&l.params||gE,g=this.buildStyles(r,m,d),v=new Set,_=new Map,y=new Map,w="void"===r,S={params:cre(m,f),delay:this.ast.options?.delay},E=u?[]:hE(e,t,this.ast.animation,s,o,p,g,S,c,d);let M=0;if(E.forEach(x=>{M=Math.max(x.duration+x.delay,M)}),d.length)return bN(t,this._triggerName,i,r,w,p,g,[],[],_,y,M,d);E.forEach(x=>{const A=x.element,R=fr(_,A,new Set);x.preStyleProps.forEach(C=>R.add(C));const N=fr(y,A,new Set);x.postStyleProps.forEach(C=>N.add(C)),A!==t&&v.add(A)});const b=Kg(v.values());return bN(t,this._triggerName,i,r,w,p,g,E,b,_,y,M)}}function cre(n,e){const t=Qf(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class ure{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Qf(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Zf(o,r,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}}class fre{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new ure(r.style,r.options&&r.options.params||{},i))}),TN(this.states,"true","1"),TN(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new AN(e,r,this.states))}),this.fallbackTransition=function hre(n,e,t){return new AN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function TN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const pre=new nv;class mre{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=[],s=uE(this._driver,t,i,r);if(i.length)throw function mie(n){return new se(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=sN(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=hE(this._driver,t,s,sE,Yg,new Map,new Map,i,pre,r),o.forEach(u=>{const d=fr(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(function gie(){return new se(3300,!1)}()),o=[]),r.length)throw function vie(n){return new se(3504,!1)}();a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,_o))})});const l=o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=aa(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function yie(n){return new se(3301,!1)}();return t}listen(e,t,i,r){const s=tE(t,"","","");return JS(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const CN="ng-animate-queued",vE="ng-animate-disabled",wre=[],DN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xre={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nr="__ng_removed";class yE{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function bre(n){return n??null}(i?e.value:e),i){const s=Qf(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const $f="void",_E=new yE($f);class Sre{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Fr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function _ie(n,e){return new se(3302,!1)}();if(null==i||0==i.length)throw function wie(n){return new se(3303,!1)}();if(!function Are(n){return"start"==n||"done"==n}(i))throw function xie(n,e){return new se(3400,!1)}();const s=fr(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=fr(this._engine.statesByElement,e,new Map);return a.has(t)||(Fr(e,Xg),Fr(e,Xg+"-"+t),a.set(t,_E)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Sie(n){return new se(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new wE(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Fr(e,Xg),Fr(e,Xg+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new yE(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=_E),c.value!==$f&&l.value===c.value){if(!function Dre(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{_l(e,g),Ts(e,v)})}return}const f=fr(this._engine.playersByElement,e,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let h=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!h){if(!r)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Fr(e,CN),o.onStart(()=>{Cu(e,CN)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let v=g.indexOf(o);v>=0&&g.splice(v,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,qg,!0);i.forEach(r=>{if(r[Nr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,$f,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&aa(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||_E,u=new yE($f),d=new wE(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Nr];(!s||s===DN)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Fr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=tE(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,JS(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Ere{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Sre(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(sv(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!sv(t))return;const s=t[Nr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Fr(e,vE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cu(e,vE))}removeNode(e,t,i,r){if(sv(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Nr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return sv(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,qg,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,oE,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return aa(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Nr];if(t&&t.setForRemoval){if(e[Nr]=DN,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(vE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Fr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?aa(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Eie(n){return new se(3402,!1)}()}_flushAnimations(e,t){const i=new nv,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const D=this.driver.query(O,".ng-animate-queued",!0);for(let F=0;F<D.length;F++)u.add(D[F])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=RN(f,this.collectedEnterElements),p=new Map;let m=0;h.forEach((O,D)=>{const F=sE+m++;p.set(D,F),O.forEach(B=>Fr(B,F))});const g=[],v=new Set,_=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const D=this.collectedLeaveElements[O],F=D[Nr];F&&F.setForRemoval&&(g.push(D),v.add(D),F.hasAnimation?this.driver.query(D,".ng-star-inserted",!0).forEach(B=>v.add(B)):_.add(D))}const y=new Map,w=RN(f,Array.from(v));w.forEach((O,D)=>{const F=Yg+m++;y.set(D,F),O.forEach(B=>Fr(B,F))}),e.push(()=>{h.forEach((O,D)=>{const F=p.get(D);O.forEach(B=>Cu(B,F))}),w.forEach((O,D)=>{const F=y.get(D);O.forEach(B=>Cu(B,F))}),g.forEach(O=>{this.processLeaveNode(O)})});const S=[],E=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(F=>{const B=F.player,W=F.element;if(S.push(B),this.collectedEnterElements.length){const ye=W[Nr];if(ye&&ye.setForMove){if(ye.previousTriggersValues&&ye.previousTriggersValues.has(F.triggerName)){const Ie=ye.previousTriggersValues.get(F.triggerName),je=this.statesByElement.get(F.element);if(je&&je.has(F.triggerName)){const At=je.get(F.triggerName);At.value=Ie,je.set(F.triggerName,At)}}return void B.destroy()}}const V=!d||!this.driver.containsElement(d,W),Y=y.get(W),$=p.get(W),J=this._buildInstruction(F,i,$,Y,V);if(J.errors&&J.errors.length)return void E.push(J);if(V)return B.onStart(()=>_l(W,J.fromStyles)),B.onDestroy(()=>Ts(W,J.toStyles)),void r.push(B);if(F.isFallbackTransition)return B.onStart(()=>_l(W,J.fromStyles)),B.onDestroy(()=>Ts(W,J.toStyles)),void r.push(B);const ue=[];J.timelines.forEach(ye=>{ye.stretchStartingKeyframe=!0,this.disabledNodes.has(ye.element)||ue.push(ye)}),J.timelines=ue,i.append(W,J.timelines),o.push({instruction:J,player:B,element:W}),J.queriedElements.forEach(ye=>fr(a,ye,[]).push(B)),J.preStyleProps.forEach((ye,Ie)=>{if(ye.size){let je=l.get(Ie);je||l.set(Ie,je=new Set),ye.forEach((At,Be)=>je.add(Be))}}),J.postStyleProps.forEach((ye,Ie)=>{let je=c.get(Ie);je||c.set(Ie,je=new Set),ye.forEach((At,Be)=>je.add(Be))})});if(E.length){const O=[];E.forEach(D=>{O.push(function Mie(n,e){return new se(3505,!1)}())}),S.forEach(D=>D.destroy()),this.reportError(O)}const M=new Map,b=new Map;o.forEach(O=>{const D=O.element;i.has(D)&&(b.set(D,D),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,M))}),r.forEach(O=>{const D=O.element;this._getPreviousPlayers(D,!1,O.namespaceId,O.triggerName,null).forEach(B=>{fr(M,D,[]).push(B),B.destroy()})});const x=g.filter(O=>ON(O,l,c)),A=new Map;IN(A,this.driver,_,c,_o).forEach(O=>{ON(O,l,c)&&x.push(O)});const N=new Map;h.forEach((O,D)=>{IN(N,this.driver,new Set(O),l,ZS)}),x.forEach(O=>{const D=A.get(O),F=N.get(O);A.set(O,new Map([...Array.from(D?.entries()??[]),...Array.from(F?.entries()??[])]))});const C=[],T=[],I={};o.forEach(O=>{const{element:D,player:F,instruction:B}=O;if(i.has(D)){if(u.has(D))return F.onDestroy(()=>Ts(D,B.toStyles)),F.disabled=!0,F.overrideTotalTime(B.totalTime),void r.push(F);let W=I;if(b.size>1){let Y=D;const $=[];for(;Y=Y.parentNode;){const J=b.get(Y);if(J){W=J;break}$.push(Y)}$.forEach(J=>b.set(J,W))}const V=this._buildAnimation(F.namespaceId,B,M,s,N,A);if(F.setRealPlayer(V),W===I)C.push(F);else{const Y=this.playersByElement.get(W);Y&&Y.length&&(F.parentPlayer=aa(Y)),r.push(F)}}else _l(D,B.fromStyles),F.onDestroy(()=>Ts(D,B.toStyles)),T.push(F),u.has(D)&&r.push(F)}),T.forEach(O=>{const D=s.get(O.element);if(D&&D.length){const F=aa(D);O.setRealPlayer(F)}}),r.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<g.length;O++){const D=g[O],F=D[Nr];if(Cu(D,Yg),F&&F.hasAnimation)continue;let B=[];if(a.size){let V=a.get(D);V&&V.length&&B.push(...V);let Y=this.driver.query(D,oE,!0);for(let $=0;$<Y.length;$++){let J=a.get(Y[$]);J&&J.length&&B.push(...J)}}const W=B.filter(V=>!V.destroyed);W.length?Tre(this,D,W):this.processLeaveNode(D)}return g.length=0,C.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const D=this.players.indexOf(O);this.players.splice(D,1)}),O.play()}),C}elementContainsData(e,t){let i=!1;const r=t[Nr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==$f;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=fr(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}_l(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,f=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[Nr];if(g&&g.removedBeforeQueried)return new qf(p.duration,p.delay);const v=m!==l,_=function Cre(n){const e=[];return LN(n,e),e}((i.get(m)||wre).map(M=>M.getRealPlayer())).filter(M=>!!M.element&&M.element===m),y=s.get(m),w=o.get(m),S=sN(0,this._normalizer,0,p.keyframes,y,w),E=this._buildPlayer(p,S,_);if(p.subTimeline&&r&&d.add(m),v){const M=new wE(e,a,m);M.setRealPlayer(E),c.push(M)}return E});c.forEach(p=>{fr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Mre(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Fr(p,pN));const h=aa(f);return h.onDestroy(()=>{u.forEach(p=>Cu(p,pN)),Ts(l,t.toStyles)}),d.forEach(p=>{fr(r,p,[]).push(h)}),h}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new qf(e.duration,e.delay)}}class wE{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new qf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>JS(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sv(n){return n&&1===n.nodeType}function PN(n,e){const t=n.style.display;return n.style.display=e??"none",t}function IN(n,e,t,i,r){const s=[];t.forEach(l=>s.push(PN(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const f=e.computeStyle(c,d,r);u.set(d,f),(!f||0==f.length)&&(c[Nr]=xre,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>PN(l,s[a++])),o}function RN(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?i:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);l!==i&&t.get(l).push(a)}),t}function Fr(n,e){n.classList?.add(e)}function Cu(n,e){n.classList?.remove(e)}function Tre(n,e,t){aa(t).onDone(()=>n.processLeaveNode(e))}function LN(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof iN?LN(i.players,e):e.push(i)}}function ON(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class ov{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Ere(e,t,i),this._timelineEngine=new mre(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=[],u=uE(this._driver,s,l,c);if(l.length)throw function hie(n,e){return new se(3404,!1)}();a=function dre(n,e,t){return new fre(n,e,t)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=oN(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=oN(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ire=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ts(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ts(this._element,this._initialStyles),this._endStyles&&(Ts(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_l(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_l(this._element,this._endStyles),this._endStyles=null),Ts(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xE(n){let e=null;return n.forEach((t,i)=>{(function Rre(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class NN{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:wN(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Lre{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return uN(e,t)}getParentElement(e){return iE(e)}query(e,t,i){return dN(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(h=>h instanceof NN);(function Uie(n,e){return 0===n||0===e})(i,r)&&u.forEach(h=>{h.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function Lie(n){return n.length?n[0]instanceof Map?n:n.map(e=>mN(e)):[]}(t).map(h=>la(h));d=function Bie(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,wN(n,a)))}}return e}(e,d,c);const f=function Pre(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=xE(e[0]),e.length>1&&(i=xE(e[e.length-1]))):e instanceof Map&&(t=xE(e)),t||i?new Ire(n,t,i):null}(e,d);return new NN(e,d,l,f)}}let Ore=(()=>{class n extends JO{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:kr.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?eN(t):t;return FN(this._renderer,null,i,"register",[r]),new Nre(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Fe(ad),Fe(ii))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class Nre extends jne{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Fre(this._id,e,t||{},this._renderer)}}class Fre{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return FN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function FN(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const UN="@.disabled";let Ure=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new BN("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new Bre(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Fe(ad),Fe(ov),Fe(nn))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();class BN{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==UN?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Bre extends BN{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==UN?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function kre(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function zre(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let Hre=(()=>{class n extends ov{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Fe(ii),Fe(rE),Fe(mE),Fe(Md))},n.\u0275prov=ke({token:n,factory:n.\u0275fac}),n})();const kN=[{provide:JO,useClass:Ore},{provide:mE,useFactory:function Vre(){return new are}},{provide:ov,useClass:Hre},{provide:ad,useFactory:function Gre(n,e,t){return new Ure(n,e,t)},deps:[Lp,ov,nn]}],SE=[{provide:rE,useFactory:()=>new Lre},{provide:mC,useValue:"BrowserAnimations"},...kN],zN=[{provide:rE,useClass:fN},{provide:mC,useValue:"NoopAnimations"},...kN];let Wre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?zN:SE}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mo({type:n}),n.\u0275inj=Is({providers:SE,imports:[LD]}),n})(),jre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Mo({type:n,bootstrap:[Wne]}),n.\u0275inj=Is({imports:[LD,z9,Wre]}),n})();function EE(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!t[r]&&!0===t.auto){let s=ci(n.el,`.${i[r]}`)[0];s||(s=$r("div",i[r]),s.className=i[r],n.el.append(s)),t[r]=s,e[r]=s}}),t}function ca(n){return void 0===n&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function lse(n){const e=this,{params:t,slidesEl:i}=e;t.loop&&e.loopDestroy();const r=s=>{if("string"==typeof s){const o=document.createElement("div");o.innerHTML=s,i.append(o.children[0]),o.innerHTML=""}else i.append(s)};if("object"==typeof n&&"length"in n)for(let s=0;s<n.length;s+=1)n[s]&&r(n[s]);else r(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update()}function cse(n){const e=this,{params:t,activeIndex:i,slidesEl:r}=e;t.loop&&e.loopDestroy();let s=i+1;const o=a=>{if("string"==typeof a){const l=document.createElement("div");l.innerHTML=a,r.prepend(l.children[0]),l.innerHTML=""}else r.prepend(a)};if("object"==typeof n&&"length"in n){for(let a=0;a<n.length;a+=1)n[a]&&o(n[a]);s=i+n.length}else o(n);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(s,0,!1)}function use(n,e){const t=this,{params:i,activeIndex:r,slidesEl:s}=t;let o=r;i.loop&&(o-=t.loopedSlides,t.loopDestroy(),t.recalcSlides());const a=t.slides.length;if(n<=0)return void t.prependSlide(e);if(n>=a)return void t.appendSlide(e);let l=o>n?o+1:o;const c=[];for(let u=a-1;u>=n;u-=1){const d=t.slides[u];d.remove(),c.unshift(d)}if("object"==typeof e&&"length"in e){for(let u=0;u<e.length;u+=1)e[u]&&s.append(e[u]);l=o>n?o+e.length:o}else s.append(e);for(let u=0;u<c.length;u+=1)s.append(c[u]);t.recalcSlides(),i.loop&&t.loopCreate(),(!i.observer||t.isElement)&&t.update(),t.slideTo(i.loop?l+t.loopedSlides:l,0,!1)}function dse(n){const e=this,{params:t,activeIndex:i}=e;let r=i;t.loop&&(r-=e.loopedSlides,e.loopDestroy());let o,s=r;if("object"==typeof n&&"length"in n){for(let a=0;a<n.length;a+=1)o=n[a],e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1);s=Math.max(s,0)}else o=n,e.slides[o]&&e.slides[o].remove(),o<s&&(s-=1),s=Math.max(s,0);e.recalcSlides(),t.loop&&e.loopCreate(),(!t.observer||e.isElement)&&e.update(),e.slideTo(t.loop?s+e.loopedSlides:s,0,!1)}function fse(){const n=this,e=[];for(let t=0;t<n.slides.length;t+=1)e.push(t);n.removeSlide(e)}function Du(n){const{effect:e,swiper:t,on:i,setTranslate:r,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=n;let u;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),a&&a()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(t.params,d),Object.assign(t.originalParams,d)}),i("setTranslate",()=>{t.params.effect===e&&r()}),i("setTransition",(d,f)=>{t.params.effect===e&&s(f)}),i("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>f.remove())}),l()}}),i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(u=!0),requestAnimationFrame(()=>{u&&t.slides&&t.slides.length&&(r(),u=!1)}))})}function Jf(n,e){const t=Wa(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function lv(n){let{swiper:e,duration:t,transformElements:i,allSlides:r}=n;const{activeIndex:s}=e;if(e.params.virtualTranslate&&0!==t){let l,a=!1;l=r?i:i.filter(c=>{const u=c.classList.contains("swiper-slide-transform")?(a=>a.parentElement?a.parentElement:e.slides.filter(c=>c.shadowRoot&&c.shadowRoot===a.parentNode)[0])(c):c;return e.getSlideIndex(u)===s}),l.forEach(c=>{ff(c,()=>{if(a||!e||e.destroyed)return;a=!0,e.animating=!1;const u=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(u)})})}}function Pu(n,e,t){const i=`swiper-slide-shadow${t?`-${t}`:""}${n?` swiper-slide-shadow-${n}`:""}`,r=Wa(e);let s=r.querySelector(`.${i.split(" ").join(".")}`);return s||(s=$r("div",i.split(" ")),r.append(s)),s}const wse=[function Yre(n){let s,{swiper:e,extendParams:t,on:i,emit:r}=n;t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const o=li();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const a=o.createElement("div");function l(p,m){const g=e.params.virtual;if(g.cache&&e.virtual.cache[m])return e.virtual.cache[m];let v;return g.renderSlide?(v=g.renderSlide.call(e,p,m),"string"==typeof v&&(a.innerHTML=v,v=a.children[0])):v=e.isElement?$r("swiper-slide"):$r("div",e.params.slideClass),v.setAttribute("data-swiper-slide-index",m),g.renderSlide||(v.innerHTML=p),g.cache&&(e.virtual.cache[m]=v),v}function c(p){const{slidesPerView:m,slidesPerGroup:g,centeredSlides:v,loop:_}=e.params,{addSlidesBefore:y,addSlidesAfter:w}=e.params.virtual,{from:S,to:E,slides:M,slidesGrid:b,offset:x}=e.virtual;e.params.cssMode||e.updateActiveIndex();const A=e.activeIndex||0;let R,N,C;R=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",v?(N=Math.floor(m/2)+g+w,C=Math.floor(m/2)+g+y):(N=m+(g-1)+w,C=(_?m:g)+y);let T=A-C,I=A+N;_||(T=Math.max(T,0),I=Math.min(I,M.length-1));let O=(e.slidesGrid[T]||0)-(e.slidesGrid[0]||0);function D(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),r("virtualUpdate")}if(_&&A>=C?(T-=C,v||(O+=e.slidesGrid[0])):_&&A<C&&(T=-C,v&&(O+=e.slidesGrid[0])),Object.assign(e.virtual,{from:T,to:I,offset:O,slidesGrid:e.slidesGrid,slidesBefore:C,slidesAfter:N}),S===T&&E===I&&!p)return e.slidesGrid!==b&&O!==x&&e.slides.forEach($=>{$.style[R]=O-Math.abs(e.cssOverflowAdjustment())+"px"}),e.updateProgress(),void r("virtualUpdate");if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:O,from:T,to:I,slides:function(){const J=[];for(let ue=T;ue<=I;ue+=1)J.push(M[ue]);return J}()}),void(e.params.virtual.renderExternalUpdate?D():r("virtualUpdate"));const F=[],B=[],W=$=>{let J=$;return $<0?J=M.length+$:J>=M.length&&(J-=M.length),J};if(p)e.slidesEl.querySelectorAll(`.${e.params.slideClass}, swiper-slide`).forEach($=>{$.remove()});else for(let $=S;$<=E;$+=1)if($<T||$>I){const J=W($);e.slidesEl.querySelectorAll(`.${e.params.slideClass}[data-swiper-slide-index="${J}"], swiper-slide[data-swiper-slide-index="${J}"]`).forEach(ue=>{ue.remove()})}const Y=_?2*M.length:M.length;for(let $=_?-M.length:0;$<Y;$+=1)if($>=T&&$<=I){const J=W($);typeof E>"u"||p?B.push(J):($>E&&B.push(J),$<S&&F.push(J))}if(B.forEach($=>{e.slidesEl.append(l(M[$],$))}),_)for(let $=F.length-1;$>=0;$-=1){const J=F[$];e.slidesEl.prepend(l(M[J],J))}else F.sort(($,J)=>J-$),F.forEach($=>{e.slidesEl.prepend(l(M[$],$))});ci(e.slidesEl,".swiper-slide, swiper-slide").forEach($=>{$.style[R]=O-Math.abs(e.cssOverflowAdjustment())+"px"}),D()}i("beforeInit",()=>{if(!e.params.virtual.enabled)return;let p;if(typeof e.passedParams.virtual.slides>"u"){const m=[...e.slidesEl.children].filter(g=>g.matches(`.${e.params.slideClass}, swiper-slide`));m&&m.length&&(e.virtual.slides=[...m],p=!0,m.forEach((g,v)=>{g.setAttribute("data-swiper-slide-index",v),e.virtual.cache[v]=g,g.remove()}))}p||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,e.params.initialSlide||c()}),i("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(s),s=setTimeout(()=>{c()},100)):c())}),i("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&uf(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:function u(p){if("object"==typeof p&&"length"in p)for(let m=0;m<p.length;m+=1)p[m]&&e.virtual.slides.push(p[m]);else e.virtual.slides.push(p);c(!0)},prependSlide:function d(p){const m=e.activeIndex;let g=m+1,v=1;if(Array.isArray(p)){for(let _=0;_<p.length;_+=1)p[_]&&e.virtual.slides.unshift(p[_]);g=m+p.length,v=p.length}else e.virtual.slides.unshift(p);if(e.params.virtual.cache){const _=e.virtual.cache,y={};Object.keys(_).forEach(w=>{const S=_[w],E=S.getAttribute("data-swiper-slide-index");E&&S.setAttribute("data-swiper-slide-index",parseInt(E,10)+v),y[parseInt(w,10)+v]=S}),e.virtual.cache=y}c(!0),e.slideTo(g,0)},removeSlide:function f(p){if(typeof p>"u"||null===p)return;let m=e.activeIndex;if(Array.isArray(p))for(let g=p.length-1;g>=0;g-=1)e.virtual.slides.splice(p[g],1),e.params.virtual.cache&&delete e.virtual.cache[p[g]],p[g]<m&&(m-=1),m=Math.max(m,0);else e.virtual.slides.splice(p,1),e.params.virtual.cache&&delete e.virtual.cache[p],p<m&&(m-=1),m=Math.max(m,0);c(!0),e.slideTo(m,0)},removeAllSlides:function h(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),c(!0),e.slideTo(0,0)},update:c})},function Xre(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=li(),o=fn();function a(u){if(!e.enabled)return;const{rtlTranslate:d}=e;let f=u;f.originalEvent&&(f=f.originalEvent);const h=f.keyCode||f.charCode,p=e.params.keyboard.pageUpDown,m=p&&33===h,g=p&&34===h,v=37===h,_=39===h,y=38===h,w=40===h;if(!e.allowSlideNext&&(e.isHorizontal()&&_||e.isVertical()&&w||g)||!e.allowSlidePrev&&(e.isHorizontal()&&v||e.isVertical()&&y||m))return!1;if(!(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey||s.activeElement&&s.activeElement.nodeName&&("input"===s.activeElement.nodeName.toLowerCase()||"textarea"===s.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(m||g||v||_||y||w)){let S=!1;if(ja(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&0===ja(e.el,`.${e.params.slideActiveClass}`).length)return;const E=e.el,M=E.clientWidth,b=E.clientHeight,x=o.innerWidth,A=o.innerHeight,R=vm(E);d&&(R.left-=E.scrollLeft);const N=[[R.left,R.top],[R.left+M,R.top],[R.left,R.top+b],[R.left+M,R.top+b]];for(let C=0;C<N.length;C+=1){const T=N[C];if(T[0]>=0&&T[0]<=x&&T[1]>=0&&T[1]<=A){if(0===T[0]&&0===T[1])continue;S=!0}}if(!S)return}e.isHorizontal()?((m||g||v||_)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),((g||_)&&!d||(m||v)&&d)&&e.slideNext(),((m||v)&&!d||(g||_)&&d)&&e.slidePrev()):((m||g||y||w)&&(f.preventDefault?f.preventDefault():f.returnValue=!1),(g||w)&&e.slideNext(),(m||y)&&e.slidePrev()),r("keyPress",h)}}function l(){e.keyboard.enabled||(s.addEventListener("keydown",a),e.keyboard.enabled=!0)}function c(){e.keyboard.enabled&&(s.removeEventListener("keydown",a),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),i("init",()=>{e.params.keyboard.enabled&&l()}),i("destroy",()=>{e.keyboard.enabled&&c()}),Object.assign(e.keyboard,{enable:l,disable:c})},function qre(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=fn();t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let o,l,a=Pr();const c=[];function d(){e.enabled&&(e.mouseEntered=!0)}function f(){e.enabled&&(e.mouseEntered=!1)}function h(y){return!(e.params.mousewheel.thresholdDelta&&y.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&Pr()-a<e.params.mousewheel.thresholdTime)&&(y.delta>=6&&Pr()-a<60||(y.direction<0?(!e.isEnd||e.params.loop)&&!e.animating&&(e.slideNext(),r("scroll",y.raw)):(!e.isBeginning||e.params.loop)&&!e.animating&&(e.slidePrev(),r("scroll",y.raw)),a=(new s.Date).getTime(),!1))}function m(y){let w=y,S=!0;if(!e.enabled||y.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const E=e.params.mousewheel;e.params.cssMode&&w.preventDefault();let M=e.el;"container"!==e.params.mousewheel.eventsTarget&&(M=document.querySelector(e.params.mousewheel.eventsTarget));const b=M&&M.contains(w.target);if(!e.mouseEntered&&!b&&!E.releaseOnEdges)return!0;w.originalEvent&&(w=w.originalEvent);let x=0;const A=e.rtlTranslate?-1:1,R=function u(y){let M=0,b=0,x=0,A=0;return"detail"in y&&(b=y.detail),"wheelDelta"in y&&(b=-y.wheelDelta/120),"wheelDeltaY"in y&&(b=-y.wheelDeltaY/120),"wheelDeltaX"in y&&(M=-y.wheelDeltaX/120),"axis"in y&&y.axis===y.HORIZONTAL_AXIS&&(M=b,b=0),x=10*M,A=10*b,"deltaY"in y&&(A=y.deltaY),"deltaX"in y&&(x=y.deltaX),y.shiftKey&&!x&&(x=A,A=0),(x||A)&&y.deltaMode&&(1===y.deltaMode?(x*=40,A*=40):(x*=800,A*=800)),x&&!M&&(M=x<1?-1:1),A&&!b&&(b=A<1?-1:1),{spinX:M,spinY:b,pixelX:x,pixelY:A}}(w);if(E.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(R.pixelX)>Math.abs(R.pixelY)))return!0;x=-R.pixelX*A}else{if(!(Math.abs(R.pixelY)>Math.abs(R.pixelX)))return!0;x=-R.pixelY}else x=Math.abs(R.pixelX)>Math.abs(R.pixelY)?-R.pixelX*A:-R.pixelY;if(0===x)return!0;E.invert&&(x=-x);let N=e.getTranslate()+x*E.sensitivity;if(N>=e.minTranslate()&&(N=e.minTranslate()),N<=e.maxTranslate()&&(N=e.maxTranslate()),S=!!e.params.loop||!(N===e.minTranslate()||N===e.maxTranslate()),S&&e.params.nested&&w.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const C={time:Pr(),delta:Math.abs(x),direction:Math.sign(x)},T=l&&C.time<l.time+500&&C.delta<=l.delta&&C.direction===l.direction;if(!T){l=void 0;let I=e.getTranslate()+x*E.sensitivity;const O=e.isBeginning,D=e.isEnd;if(I>=e.minTranslate()&&(I=e.minTranslate()),I<=e.maxTranslate()&&(I=e.maxTranslate()),e.setTransition(0),e.setTranslate(I),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!O&&e.isBeginning||!D&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:C.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(o),o=void 0,c.length>=15&&c.shift();const F=c.length?c[c.length-1]:void 0,B=c[0];if(c.push(C),F&&(C.delta>F.delta||C.direction!==F.direction))c.splice(0);else if(c.length>=15&&C.time-B.time<500&&B.delta-C.delta>=1&&C.delta<=6){const W=x>0?.8:.2;l=C,c.splice(0),o=Ga(()=>{e.slideToClosest(e.params.speed,!0,void 0,W)},0)}o||(o=Ga(()=>{l=C,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(T||r("scroll",w),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),E.releaseOnEdges&&(I===e.minTranslate()||I===e.maxTranslate()))return!0}}else{const C={time:Pr(),delta:Math.abs(x),direction:Math.sign(x),raw:y};c.length>=2&&c.shift();const T=c.length?c[c.length-1]:void 0;if(c.push(C),T?(C.direction!==T.direction||C.delta>T.delta||C.time>T.time+150)&&h(C):h(C),function p(y){const w=e.params.mousewheel;if(y.direction<0){if(e.isEnd&&!e.params.loop&&w.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&w.releaseOnEdges)return!0;return!1}(C))return!0}return w.preventDefault?w.preventDefault():w.returnValue=!1,!1}function g(y){let w=e.el;"container"!==e.params.mousewheel.eventsTarget&&(w=document.querySelector(e.params.mousewheel.eventsTarget)),w[y]("mouseenter",d),w[y]("mouseleave",f),w[y]("wheel",m)}function v(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",m),!0):!e.mousewheel.enabled&&(g("addEventListener"),e.mousewheel.enabled=!0,!0)}function _(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,m),!0):!!e.mousewheel.enabled&&(g("removeEventListener"),e.mousewheel.enabled=!1,!0)}i("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&_(),e.params.mousewheel.enabled&&v()}),i("destroy",()=>{e.params.cssMode&&v(),e.mousewheel.enabled&&_()}),Object.assign(e.mousewheel,{enable:v,disable:_})},function Qre(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const s=m=>(Array.isArray(m)?m:[m]).filter(g=>!!g);function o(m){let g;return m&&"string"==typeof m&&e.isElement&&(g=e.el.querySelector(m),g)?g:(m&&("string"==typeof m&&(g=[...document.querySelectorAll(m)]),e.params.uniqueNavElements&&"string"==typeof m&&g.length>1&&1===e.el.querySelectorAll(m).length&&(g=e.el.querySelector(m))),m&&!g?m:g)}function a(m,g){const v=e.params.navigation;(m=s(m)).forEach(_=>{_&&(_.classList[g?"add":"remove"](...v.disabledClass.split(" ")),"BUTTON"===_.tagName&&(_.disabled=g),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](v.lockClass))})}function l(){const{nextEl:m,prevEl:g}=e.navigation;if(e.params.loop)return a(g,!1),void a(m,!1);a(g,e.isBeginning&&!e.params.rewind),a(m,e.isEnd&&!e.params.rewind)}function c(m){m.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function u(m){m.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const m=e.params.navigation;if(e.params.navigation=EE(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!m.nextEl&&!m.prevEl)return;let g=o(m.nextEl),v=o(m.prevEl);Object.assign(e.navigation,{nextEl:g,prevEl:v}),g=s(g),v=s(v);const _=(y,w)=>{y&&y.addEventListener("click","next"===w?u:c),!e.enabled&&y&&y.classList.add(...m.lockClass.split(" "))};g.forEach(y=>_(y,"next")),v.forEach(y=>_(y,"prev"))}function f(){let{nextEl:m,prevEl:g}=e.navigation;m=s(m),g=s(g);const v=(_,y)=>{_.removeEventListener("click","next"===y?u:c),_.classList.remove(...e.params.navigation.disabledClass.split(" "))};m.forEach(_=>v(_,"next")),g.forEach(_=>v(_,"prev"))}i("init",()=>{!1===e.params.navigation.enabled?p():(d(),l())}),i("toEdge fromEdge lock unlock",()=>{l()}),i("destroy",()=>{f()}),i("enable disable",()=>{let{nextEl:m,prevEl:g}=e.navigation;m=s(m),g=s(g),[...m,...g].filter(v=>!!v).forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.navigation.lockClass))}),i("click",(m,g)=>{let{nextEl:v,prevEl:_}=e.navigation;v=s(v),_=s(_);const y=g.target;if(e.params.navigation.hideOnClick&&!_.includes(y)&&!v.includes(y)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===y||e.pagination.el.contains(y)))return;let w;v.length?w=v[0].classList.contains(e.params.navigation.hiddenClass):_.length&&(w=_[0].classList.contains(e.params.navigation.hiddenClass)),r(!0===w?"navigationShow":"navigationHide"),[...v,..._].filter(S=>!!S).forEach(S=>S.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},disable:p,update:l,init:d,destroy:f})},function Kre(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:_=>_,formatFractionTotal:_=>_,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;const l=_=>(Array.isArray(_)?_:[_]).filter(y=>!!y);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function u(_,y){const{bulletActiveClass:w}=e.params.pagination;_&&(_=_[("prev"===y?"previous":"next")+"ElementSibling"])&&(_.classList.add(`${w}-${y}`),(_=_[("prev"===y?"previous":"next")+"ElementSibling"])&&_.classList.add(`${w}-${y}-${y}`))}function d(_){const y=_.target.closest(ca(e.params.pagination.bulletClass));if(!y)return;_.preventDefault();const w=df(y)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===w)return;const S=e.getSlideIndexByData(w),E=e.getSlideIndexByData(e.realIndex);S>e.slides.length-e.loopedSlides&&e.loopFix({direction:S>E?"next":"prev",activeSlideIndex:S,slideTo:!1}),e.slideToLoop(w)}else e.slideTo(w)}function f(){const _=e.rtl,y=e.params.pagination;if(c())return;let S,E,w=e.pagination.el;w=l(w);const b=e.params.loop?Math.ceil((e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(E=e.previousRealIndex||0,S=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(S=e.snapIndex,E=e.previousSnapIndex):(E=e.previousIndex||0,S=e.activeIndex||0),"bullets"===y.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const x=e.pagination.bullets;let A,R,N;if(y.dynamicBullets&&(o=Qw(x[0],e.isHorizontal()?"width":"height",!0),w.forEach(C=>{C.style[e.isHorizontal()?"width":"height"]=o*(y.dynamicMainBullets+4)+"px"}),y.dynamicMainBullets>1&&void 0!==E&&(a+=S-(E||0),a>y.dynamicMainBullets-1?a=y.dynamicMainBullets-1:a<0&&(a=0)),A=Math.max(S-a,0),R=A+(Math.min(x.length,y.dynamicMainBullets)-1),N=(R+A)/2),x.forEach(C=>{const T=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(I=>`${y.bulletActiveClass}${I}`)].map(I=>"string"==typeof I&&I.includes(" ")?I.split(" "):I).flat();C.classList.remove(...T)}),w.length>1)x.forEach(C=>{const T=df(C);T===S?C.classList.add(...y.bulletActiveClass.split(" ")):e.isElement&&C.setAttribute("part","bullet"),y.dynamicBullets&&(T>=A&&T<=R&&C.classList.add(...`${y.bulletActiveClass}-main`.split(" ")),T===A&&u(C,"prev"),T===R&&u(C,"next"))});else{const C=x[S];if(C&&C.classList.add(...y.bulletActiveClass.split(" ")),e.isElement&&x.forEach((T,I)=>{T.setAttribute("part",I===S?"bullet-active":"bullet")}),y.dynamicBullets){const T=x[A],I=x[R];for(let O=A;O<=R;O+=1)x[O]&&x[O].classList.add(...`${y.bulletActiveClass}-main`.split(" "));u(T,"prev"),u(I,"next")}}if(y.dynamicBullets){const C=Math.min(x.length,y.dynamicMainBullets+4),T=(o*C-o)/2-N*o,I=_?"right":"left";x.forEach(O=>{O.style[e.isHorizontal()?I:"top"]=`${T}px`})}}w.forEach((x,A)=>{if("fraction"===y.type&&(x.querySelectorAll(ca(y.currentClass)).forEach(R=>{R.textContent=y.formatFractionCurrent(S+1)}),x.querySelectorAll(ca(y.totalClass)).forEach(R=>{R.textContent=y.formatFractionTotal(b)})),"progressbar"===y.type){let R;R=y.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const N=(S+1)/b;let C=1,T=1;"horizontal"===R?C=N:T=N,x.querySelectorAll(ca(y.progressbarFillClass)).forEach(I=>{I.style.transform=`translate3d(0,0,0) scaleX(${C}) scaleY(${T})`,I.style.transitionDuration=`${e.params.speed}ms`})}"custom"===y.type&&y.renderCustom?(x.innerHTML=y.renderCustom(e,S+1,b),0===A&&r("paginationRender",x)):(0===A&&r("paginationRender",x),r("paginationUpdate",x)),e.params.watchOverflow&&e.enabled&&x.classList[e.isLocked?"add":"remove"](y.lockClass)})}function h(){const _=e.params.pagination;if(c())return;const y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let w=e.pagination.el;w=l(w);let S="";if("bullets"===_.type){let E=e.params.loop?Math.ceil(y/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&E>y&&(E=y);for(let M=0;M<E;M+=1)S+=_.renderBullet?_.renderBullet.call(e,M,_.bulletClass):`<${_.bulletElement} ${e.isElement?'part="bullet"':""} class="${_.bulletClass}"></${_.bulletElement}>`}"fraction"===_.type&&(S=_.renderFraction?_.renderFraction.call(e,_.currentClass,_.totalClass):`<span class="${_.currentClass}"></span> / <span class="${_.totalClass}"></span>`),"progressbar"===_.type&&(S=_.renderProgressbar?_.renderProgressbar.call(e,_.progressbarFillClass):`<span class="${_.progressbarFillClass}"></span>`),e.pagination.bullets=[],w.forEach(E=>{"custom"!==_.type&&(E.innerHTML=S||""),"bullets"===_.type&&e.pagination.bullets.push(...E.querySelectorAll(ca(_.bulletClass)))}),"custom"!==_.type&&r("paginationRender",w[0])}function p(){e.params.pagination=EE(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const _=e.params.pagination;if(!_.el)return;let y;"string"==typeof _.el&&e.isElement&&(y=e.el.querySelector(_.el)),!y&&"string"==typeof _.el&&(y=[...document.querySelectorAll(_.el)]),y||(y=_.el),y&&0!==y.length&&(e.params.uniqueNavElements&&"string"==typeof _.el&&Array.isArray(y)&&y.length>1&&(y=[...e.el.querySelectorAll(_.el)],y.length>1&&(y=y.filter(w=>ja(w,".swiper")[0]===e.el)[0])),Array.isArray(y)&&1===y.length&&(y=y[0]),Object.assign(e.pagination,{el:y}),y=l(y),y.forEach(w=>{"bullets"===_.type&&_.clickable&&w.classList.add(_.clickableClass),w.classList.add(_.modifierClass+_.type),w.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass),"bullets"===_.type&&_.dynamicBullets&&(w.classList.add(`${_.modifierClass}${_.type}-dynamic`),a=0,_.dynamicMainBullets<1&&(_.dynamicMainBullets=1)),"progressbar"===_.type&&_.progressbarOpposite&&w.classList.add(_.progressbarOppositeClass),_.clickable&&w.addEventListener("click",d),e.enabled||w.classList.add(_.lockClass)}))}function m(){const _=e.params.pagination;if(c())return;let y=e.pagination.el;y&&(y=l(y),y.forEach(w=>{w.classList.remove(_.hiddenClass),w.classList.remove(_.modifierClass+_.type),w.classList.remove(e.isHorizontal()?_.horizontalClass:_.verticalClass),_.clickable&&w.removeEventListener("click",d)})),e.pagination.bullets&&e.pagination.bullets.forEach(w=>w.classList.remove(..._.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const _=e.params.pagination;let{el:y}=e.pagination;y=l(y),y.forEach(w=>{w.classList.remove(_.horizontalClass,_.verticalClass),w.classList.add(e.isHorizontal()?_.horizontalClass:_.verticalClass)})}),i("init",()=>{!1===e.params.pagination.enabled?v():(p(),h(),f())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),i("snapIndexChange",()=>{f()}),i("snapGridLengthChange",()=>{h(),f()}),i("destroy",()=>{m()}),i("enable disable",()=>{let{el:_}=e.pagination;_&&(_=l(_),_.forEach(y=>y.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{f()}),i("click",(_,y)=>{const w=y.target,S=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&S&&S.length>0&&!w.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&w===e.navigation.nextEl||e.navigation.prevEl&&w===e.navigation.prevEl))return;const E=S[0].classList.contains(e.params.pagination.hiddenClass);r(!0===E?"paginationShow":"paginationHide"),S.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const v=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=l(_),_.forEach(y=>y.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:_}=e.pagination;_&&(_=l(_),_.forEach(y=>y.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},disable:v,render:h,update:f,init:p,destroy:m})},function Zre(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=li();let c,u,d,f,o=!1,a=null,l=null;function h(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:N,rtlTranslate:C}=e,{dragEl:T,el:I}=N,O=e.params.scrollbar;let F=u,B=(d-u)*(e.params.loop?e.progressLoop:e.progress);C?(B=-B,B>0?(F=u-B,B=0):-B+u>d&&(F=d+B)):B<0?(F=u+B,B=0):B+u>d&&(F=d-B),e.isHorizontal()?(T.style.transform=`translate3d(${B}px, 0, 0)`,T.style.width=`${F}px`):(T.style.transform=`translate3d(0px, ${B}px, 0)`,T.style.height=`${F}px`),O.hide&&(clearTimeout(a),I.style.opacity=1,a=setTimeout(()=>{I.style.opacity=0,I.style.transitionDuration="400ms"},1e3))}function m(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:N}=e,{dragEl:C,el:T}=N;C.style.width="",C.style.height="",d=e.isHorizontal()?T.offsetWidth:T.offsetHeight,f=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),u="auto"===e.params.scrollbar.dragSize?d*f:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?C.style.width=`${u}px`:C.style.height=`${u}px`,T.style.display=f>=1?"none":"",e.params.scrollbar.hide&&(T.style.opacity=0),e.params.watchOverflow&&e.enabled&&N.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function g(N){return e.isHorizontal()?N.clientX:N.clientY}function v(N){const{scrollbar:C,rtlTranslate:T}=e,{el:I}=C;let O;O=(g(N)-vm(I)[e.isHorizontal()?"left":"top"]-(null!==c?c:u/2))/(d-u),O=Math.max(Math.min(O,1),0),T&&(O=1-O);const D=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*O;e.updateProgress(D),e.setTranslate(D),e.updateActiveIndex(),e.updateSlidesClasses()}function _(N){const C=e.params.scrollbar,{scrollbar:T,wrapperEl:I}=e,{el:O,dragEl:D}=T;o=!0,c=N.target===D?g(N)-N.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,N.preventDefault(),N.stopPropagation(),I.style.transitionDuration="100ms",D.style.transitionDuration="100ms",v(N),clearTimeout(l),O.style.transitionDuration="0ms",C.hide&&(O.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),r("scrollbarDragStart",N)}function y(N){const{scrollbar:C,wrapperEl:T}=e,{el:I,dragEl:O}=C;o&&(N.preventDefault?N.preventDefault():N.returnValue=!1,v(N),T.style.transitionDuration="0ms",I.style.transitionDuration="0ms",O.style.transitionDuration="0ms",r("scrollbarDragMove",N))}function w(N){const C=e.params.scrollbar,{scrollbar:T,wrapperEl:I}=e,{el:O}=T;o&&(o=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",I.style.transitionDuration=""),C.hide&&(clearTimeout(l),l=Ga(()=>{O.style.opacity=0,O.style.transitionDuration="400ms"},1e3)),r("scrollbarDragEnd",N),C.snapOnRelease&&e.slideToClosest())}function S(N){const{scrollbar:C,params:T}=e,I=C.el;if(!I)return;const D=!!T.passiveListeners&&{passive:!1,capture:!1},F=!!T.passiveListeners&&{passive:!0,capture:!1};if(!I)return;const B="on"===N?"addEventListener":"removeEventListener";I[B]("pointerdown",_,D),s[B]("pointermove",y,D),s[B]("pointerup",w,F)}function b(){const{scrollbar:N,el:C}=e;e.params.scrollbar=EE(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const T=e.params.scrollbar;if(!T.el)return;let I,O;"string"==typeof T.el&&e.isElement&&(I=e.el.querySelector(T.el)),I||"string"!=typeof T.el?I||(I=T.el):I=s.querySelectorAll(T.el),e.params.uniqueNavElements&&"string"==typeof T.el&&I.length>1&&1===C.querySelectorAll(T.el).length&&(I=C.querySelector(T.el)),I.length>0&&(I=I[0]),I.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass),I&&(O=I.querySelector(`.${e.params.scrollbar.dragClass}`),O||(O=$r("div",e.params.scrollbar.dragClass),I.append(O))),Object.assign(N,{el:I,dragEl:O}),T.draggable&&function E(){!e.params.scrollbar.el||!e.scrollbar.el||S("on")}(),I&&I.classList[e.enabled?"remove":"add"](e.params.scrollbar.lockClass)}function x(){const N=e.params.scrollbar,C=e.scrollbar.el;C&&C.classList.remove(e.isHorizontal()?N.horizontalClass:N.verticalClass),function M(){!e.params.scrollbar.el||!e.scrollbar.el||S("off")}()}t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null},i("init",()=>{!1===e.params.scrollbar.enabled?R():(b(),m(),h())}),i("update resize observerUpdate lock unlock",()=>{m()}),i("setTranslate",()=>{h()}),i("setTransition",(N,C)=>{!function p(N){!e.params.scrollbar.el||!e.scrollbar.el||(e.scrollbar.dragEl.style.transitionDuration=`${N}ms`)}(C)}),i("enable disable",()=>{const{el:N}=e.scrollbar;N&&N.classList[e.enabled?"remove":"add"](e.params.scrollbar.lockClass)}),i("destroy",()=>{x()});const R=()=>{e.el.classList.add(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.el&&e.scrollbar.el.classList.add(e.params.scrollbar.scrollbarDisabledClass),x()};Object.assign(e.scrollbar,{enable:()=>{e.el.classList.remove(e.params.scrollbar.scrollbarDisabledClass),e.scrollbar.el&&e.scrollbar.el.classList.remove(e.params.scrollbar.scrollbarDisabledClass),b(),m(),h()},disable:R,updateSize:m,setTranslate:h,init:b,destroy:x})},function $re(n){let{swiper:e,extendParams:t,on:i}=n;t({parallax:{enabled:!1}});const r=(a,l)=>{const{rtl:c}=e,u=c?-1:1,d=a.getAttribute("data-swiper-parallax")||"0";let f=a.getAttribute("data-swiper-parallax-x"),h=a.getAttribute("data-swiper-parallax-y");const p=a.getAttribute("data-swiper-parallax-scale"),m=a.getAttribute("data-swiper-parallax-opacity"),g=a.getAttribute("data-swiper-parallax-rotate");if(f||h?(f=f||"0",h=h||"0"):e.isHorizontal()?(f=d,h="0"):(h=d,f="0"),f=f.indexOf("%")>=0?parseInt(f,10)*l*u+"%":f*l*u+"px",h=h.indexOf("%")>=0?parseInt(h,10)*l+"%":h*l+"px",typeof m<"u"&&null!==m){const _=m-(m-1)*(1-Math.abs(l));a.style.opacity=_}let v=`translate3d(${f}, ${h}, 0px)`;typeof p<"u"&&null!==p&&(v+=` scale(${p-(p-1)*(1-Math.abs(l))})`),g&&typeof g<"u"&&null!==g&&(v+=` rotate(${g*l*-1}deg)`),a.style.transform=v},s=()=>{const{el:a,slides:l,progress:c,snapGrid:u}=e;ci(a,"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").forEach(d=>{r(d,c)}),l.forEach((d,f)=>{let h=d.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(h+=Math.ceil(f/2)-c*(u.length-1)),h=Math.min(Math.max(h,-1),1),d.querySelectorAll("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale], [data-swiper-parallax-rotate]").forEach(p=>{r(p,h)})})};i("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),i("init",()=>{e.params.parallax.enabled&&s()}),i("setTranslate",()=>{e.params.parallax.enabled&&s()}),i("setTransition",(a,l)=>{e.params.parallax.enabled&&function(a){void 0===a&&(a=e.params.speed);const{el:l}=e;l.querySelectorAll("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").forEach(c=>{let u=parseInt(c.getAttribute("data-swiper-parallax-duration"),10)||a;0===a&&(u=0),c.style.transitionDuration=`${u}ms`})}(l)})},function Jre(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=fn();t({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let l,c,o=1,a=!1;const u=[],d={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},f={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},h={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let p=1;function m(){return u.length<2?1:Math.sqrt((u[1].pageX-u[0].pageX)**2+(u[1].pageY-u[0].pageY)**2)}function _(D){const F=function v(){return e.isElement?"swiper-slide":`.${e.params.slideClass}`}();return!!(D.target.matches(F)||e.slides.filter(B=>B.contains(D.target)).length>0)}function w(D){if("mouse"===D.pointerType&&u.splice(0,u.length),!_(D))return;const F=e.params.zoom;if(l=!1,c=!1,u.push(D),!(u.length<2)){if(l=!0,d.scaleStart=m(),!d.slideEl){d.slideEl=D.target.closest(`.${e.params.slideClass}, swiper-slide`),d.slideEl||(d.slideEl=e.slides[e.activeIndex]);let B=d.slideEl.querySelector(`.${F.containerClass}`);if(B&&(B=B.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=B,d.imageWrapEl=B?ja(d.imageEl,`.${F.containerClass}`)[0]:void 0,!d.imageWrapEl)return void(d.imageEl=void 0);d.maxRatio=d.imageWrapEl.getAttribute("data-swiper-zoom")||F.maxRatio}if(d.imageEl){const[B,W]=function g(){if(u.length<2)return{x:null,y:null};const D=d.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-D.x)/o,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-D.y)/o]}();d.originX=B,d.originY=W,d.imageEl.style.transitionDuration="0ms"}a=!0}}function S(D){if(!_(D))return;const F=e.params.zoom,B=e.zoom,W=u.findIndex(V=>V.pointerId===D.pointerId);W>=0&&(u[W]=D),!(u.length<2)&&(c=!0,d.scaleMove=m(),d.imageEl&&(B.scale=d.scaleMove/d.scaleStart*o,B.scale>d.maxRatio&&(B.scale=d.maxRatio-1+(B.scale-d.maxRatio+1)**.5),B.scale<F.minRatio&&(B.scale=F.minRatio+1-(F.minRatio-B.scale+1)**.5),d.imageEl.style.transform=`translate3d(0,0,0) scale(${B.scale})`))}function E(D){if(!_(D)||"mouse"===D.pointerType&&"pointerout"===D.type)return;const F=e.params.zoom,B=e.zoom,W=u.findIndex(V=>V.pointerId===D.pointerId);W>=0&&u.splice(W,1),l&&c&&(l=!1,c=!1,d.imageEl&&(B.scale=Math.max(Math.min(B.scale,d.maxRatio),F.minRatio),d.imageEl.style.transitionDuration=`${e.params.speed}ms`,d.imageEl.style.transform=`translate3d(0,0,0) scale(${B.scale})`,o=B.scale,a=!1,B.scale>1&&d.slideEl?d.slideEl.classList.add(`${F.zoomedSlideClass}`):B.scale<=1&&d.slideEl&&d.slideEl.classList.remove(`${F.zoomedSlideClass}`),1===B.scale&&(d.originX=0,d.originY=0,d.slideEl=void 0)))}function b(D){if(!_(D)||!function y(D){const F=`.${e.params.zoom.containerClass}`;return!!(D.target.matches(F)||[...e.hostEl.querySelectorAll(F)].filter(B=>B.contains(D.target)).length>0)}(D))return;const F=e.zoom;if(!d.imageEl||!f.isTouched||!d.slideEl)return;f.isMoved||(f.width=d.imageEl.offsetWidth,f.height=d.imageEl.offsetHeight,f.startX=qw(d.imageWrapEl,"x")||0,f.startY=qw(d.imageWrapEl,"y")||0,d.slideWidth=d.slideEl.offsetWidth,d.slideHeight=d.slideEl.offsetHeight,d.imageWrapEl.style.transitionDuration="0ms");const B=f.width*F.scale,W=f.height*F.scale;if(B<d.slideWidth&&W<d.slideHeight)return;if(f.minX=Math.min(d.slideWidth/2-B/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-W/2,0),f.maxY=-f.minY,f.touchesCurrent.x=u.length>0?u[0].pageX:D.pageX,f.touchesCurrent.y=u.length>0?u[0].pageY:D.pageY,Math.max(Math.abs(f.touchesCurrent.x-f.touchesStart.x),Math.abs(f.touchesCurrent.y-f.touchesStart.y))>5&&(e.allowClick=!1),!f.isMoved&&!a){if(e.isHorizontal()&&(Math.floor(f.minX)===Math.floor(f.startX)&&f.touchesCurrent.x<f.touchesStart.x||Math.floor(f.maxX)===Math.floor(f.startX)&&f.touchesCurrent.x>f.touchesStart.x))return void(f.isTouched=!1);if(!e.isHorizontal()&&(Math.floor(f.minY)===Math.floor(f.startY)&&f.touchesCurrent.y<f.touchesStart.y||Math.floor(f.maxY)===Math.floor(f.startY)&&f.touchesCurrent.y>f.touchesStart.y))return void(f.isTouched=!1)}D.cancelable&&D.preventDefault(),D.stopPropagation(),f.isMoved=!0;const Y=(F.scale-o)/(d.maxRatio-e.params.zoom.minRatio),{originX:$,originY:J}=d;f.currentX=f.touchesCurrent.x-f.touchesStart.x+f.startX+Y*(f.width-2*$),f.currentY=f.touchesCurrent.y-f.touchesStart.y+f.startY+Y*(f.height-2*J),f.currentX<f.minX&&(f.currentX=f.minX+1-(f.minX-f.currentX+1)**.8),f.currentX>f.maxX&&(f.currentX=f.maxX-1+(f.currentX-f.maxX+1)**.8),f.currentY<f.minY&&(f.currentY=f.minY+1-(f.minY-f.currentY+1)**.8),f.currentY>f.maxY&&(f.currentY=f.maxY-1+(f.currentY-f.maxY+1)**.8),h.prevPositionX||(h.prevPositionX=f.touchesCurrent.x),h.prevPositionY||(h.prevPositionY=f.touchesCurrent.y),h.prevTime||(h.prevTime=Date.now()),h.x=(f.touchesCurrent.x-h.prevPositionX)/(Date.now()-h.prevTime)/2,h.y=(f.touchesCurrent.y-h.prevPositionY)/(Date.now()-h.prevTime)/2,Math.abs(f.touchesCurrent.x-h.prevPositionX)<2&&(h.x=0),Math.abs(f.touchesCurrent.y-h.prevPositionY)<2&&(h.y=0),h.prevPositionX=f.touchesCurrent.x,h.prevPositionY=f.touchesCurrent.y,h.prevTime=Date.now(),d.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}function A(){const D=e.zoom;d.slideEl&&e.activeIndex!==e.slides.indexOf(d.slideEl)&&(d.imageEl&&(d.imageEl.style.transform="translate3d(0,0,0) scale(1)"),d.imageWrapEl&&(d.imageWrapEl.style.transform="translate3d(0,0,0)"),d.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),D.scale=1,o=1,d.slideEl=void 0,d.imageEl=void 0,d.imageWrapEl=void 0,d.originX=0,d.originY=0)}function R(D){const F=e.zoom,B=e.params.zoom;if(!d.slideEl){D&&D.target&&(d.slideEl=D.target.closest(`.${e.params.slideClass}, swiper-slide`)),d.slideEl||(d.slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?ci(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:e.slides[e.activeIndex]);let Te=d.slideEl.querySelector(`.${B.containerClass}`);Te&&(Te=Te.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=Te,d.imageWrapEl=Te?ja(d.imageEl,`.${B.containerClass}`)[0]:void 0}if(!d.imageEl||!d.imageWrapEl)return;let W,V,Y,$,J,ue,Pe,ye,Ie,je,At,Be,z,pe,ie,de,ae,Ne;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),d.slideEl.classList.add(`${B.zoomedSlideClass}`),typeof f.touchesStart.x>"u"&&D?(W=D.pageX,V=D.pageY):(W=f.touchesStart.x,V=f.touchesStart.y);const Ee="number"==typeof D?D:null;1===o&&Ee&&(W=void 0,V=void 0),F.scale=Ee||d.imageWrapEl.getAttribute("data-swiper-zoom")||B.maxRatio,o=Ee||d.imageWrapEl.getAttribute("data-swiper-zoom")||B.maxRatio,!D||1===o&&Ee?(Pe=0,ye=0):(ae=d.slideEl.offsetWidth,Ne=d.slideEl.offsetHeight,Y=vm(d.slideEl).left+s.scrollX,$=vm(d.slideEl).top+s.scrollY,J=Y+ae/2-W,ue=$+Ne/2-V,Ie=d.imageEl.offsetWidth,je=d.imageEl.offsetHeight,At=Ie*F.scale,Be=je*F.scale,z=Math.min(ae/2-At/2,0),pe=Math.min(Ne/2-Be/2,0),ie=-z,de=-pe,Pe=J*F.scale,ye=ue*F.scale,Pe<z&&(Pe=z),Pe>ie&&(Pe=ie),ye<pe&&(ye=pe),ye>de&&(ye=de)),Ee&&1===F.scale&&(d.originX=0,d.originY=0),d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform=`translate3d(${Pe}px, ${ye}px,0)`,d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform=`translate3d(0,0,0) scale(${F.scale})`}function N(){const D=e.zoom,F=e.params.zoom;if(!d.slideEl){d.slideEl=e.params.virtual&&e.params.virtual.enabled&&e.virtual?ci(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:e.slides[e.activeIndex];let B=d.slideEl.querySelector(`.${F.containerClass}`);B&&(B=B.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),d.imageEl=B,d.imageWrapEl=B?ja(d.imageEl,`.${F.containerClass}`)[0]:void 0}!d.imageEl||!d.imageWrapEl||(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),D.scale=1,o=1,d.imageWrapEl.style.transitionDuration="300ms",d.imageWrapEl.style.transform="translate3d(0,0,0)",d.imageEl.style.transitionDuration="300ms",d.imageEl.style.transform="translate3d(0,0,0) scale(1)",d.slideEl.classList.remove(`${F.zoomedSlideClass}`),d.slideEl=void 0,d.originX=0,d.originY=0)}function C(D){const F=e.zoom;F.scale&&1!==F.scale?N():R(D)}function T(){return{passiveListener:!!e.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!e.params.passiveListeners||{passive:!1,capture:!0}}}function I(){const D=e.zoom;if(D.enabled)return;D.enabled=!0;const{passiveListener:F,activeListenerWithCapture:B}=T();e.wrapperEl.addEventListener("pointerdown",w,F),e.wrapperEl.addEventListener("pointermove",S,B),["pointerup","pointercancel","pointerout"].forEach(W=>{e.wrapperEl.addEventListener(W,E,F)}),e.wrapperEl.addEventListener("pointermove",b,B)}function O(){const D=e.zoom;if(!D.enabled)return;D.enabled=!1;const{passiveListener:F,activeListenerWithCapture:B}=T();e.wrapperEl.removeEventListener("pointerdown",w,F),e.wrapperEl.removeEventListener("pointermove",S,B),["pointerup","pointercancel","pointerout"].forEach(W=>{e.wrapperEl.removeEventListener(W,E,F)}),e.wrapperEl.removeEventListener("pointermove",b,B)}Object.defineProperty(e.zoom,"scale",{get:()=>p,set(D){p!==D&&r("zoomChange",D,d.imageEl,d.slideEl),p=D}}),i("init",()=>{e.params.zoom.enabled&&I()}),i("destroy",()=>{O()}),i("touchStart",(D,F)=>{e.zoom.enabled&&function M(D){if(!d.imageEl||f.isTouched)return;e.device.android&&D.cancelable&&D.preventDefault(),f.isTouched=!0;const B=u.length>0?u[0]:D;f.touchesStart.x=B.pageX,f.touchesStart.y=B.pageY}(F)}),i("touchEnd",(D,F)=>{e.zoom.enabled&&function x(){const D=e.zoom;if(!d.imageEl)return;if(!f.isTouched||!f.isMoved)return f.isTouched=!1,void(f.isMoved=!1);f.isTouched=!1,f.isMoved=!1;let F=300,B=300;const V=f.currentX+h.x*F,$=f.currentY+h.y*B;0!==h.x&&(F=Math.abs((V-f.currentX)/h.x)),0!==h.y&&(B=Math.abs(($-f.currentY)/h.y));const J=Math.max(F,B);f.currentX=V,f.currentY=$;const Pe=f.height*D.scale;f.minX=Math.min(d.slideWidth/2-f.width*D.scale/2,0),f.maxX=-f.minX,f.minY=Math.min(d.slideHeight/2-Pe/2,0),f.maxY=-f.minY,f.currentX=Math.max(Math.min(f.currentX,f.maxX),f.minX),f.currentY=Math.max(Math.min(f.currentY,f.maxY),f.minY),d.imageWrapEl.style.transitionDuration=`${J}ms`,d.imageWrapEl.style.transform=`translate3d(${f.currentX}px, ${f.currentY}px,0)`}()}),i("doubleTap",(D,F)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&C(F)}),i("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&A()}),i("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&A()}),Object.assign(e.zoom,{enable:I,disable:O,in:R,out:N,toggle:C})},function ese(n){let{swiper:e,extendParams:t,on:i}=n;function r(c,u){const d=function(){let m,g,v;return(_,y)=>{for(g=-1,m=_.length;m-g>1;)v=m+g>>1,_[v]<=y?g=v:m=v;return m}}();let f,h;return this.x=c,this.y=u,this.lastIndex=c.length-1,this.interpolate=function(m){return m?(h=d(this.x,m),f=h-1,(m-this.x[f])*(this.y[h]-this.y[f])/(this.x[h]-this.x[f])+this.y[f]):0},this}function l(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},i("beforeInit",()=>{if(typeof window<"u"&&("string"==typeof e.params.controller.control||e.params.controller.control instanceof HTMLElement)){const c=document.querySelector(e.params.controller.control);if(c&&c.swiper)e.controller.control=c.swiper;else if(c){const u=d=>{e.controller.control=d.detail[0],e.update(),c.removeEventListener("init",u)};c.addEventListener("init",u)}}else e.controller.control=e.params.controller.control}),i("update",()=>{l()}),i("resize",()=>{l()}),i("observerUpdate",()=>{l()}),i("setTranslate",(c,u,d)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTranslate(u,d)}),i("setTransition",(c,u,d)=>{!e.controller.control||e.controller.control.destroyed||e.controller.setTransition(u,d)}),Object.assign(e.controller,{setTranslate:function o(c,u){const d=e.controller.control;let f,h;const p=e.constructor;function m(g){if(g.destroyed)return;const v=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(function s(c){e.controller.spline=e.params.loop?new r(e.slidesGrid,c.slidesGrid):new r(e.snapGrid,c.snapGrid)}(g),h=-e.controller.spline.interpolate(-v)),(!h||"container"===e.params.controller.by)&&(f=(g.maxTranslate()-g.minTranslate())/(e.maxTranslate()-e.minTranslate()),(Number.isNaN(f)||!Number.isFinite(f))&&(f=1),h=(v-e.minTranslate())*f+g.minTranslate()),e.params.controller.inverse&&(h=g.maxTranslate()-h),g.updateProgress(h),g.setTranslate(h,e),g.updateActiveIndex(),g.updateSlidesClasses()}if(Array.isArray(d))for(let g=0;g<d.length;g+=1)d[g]!==u&&d[g]instanceof p&&m(d[g]);else d instanceof p&&u!==d&&m(d)},setTransition:function a(c,u){const d=e.constructor,f=e.controller.control;let h;function p(m){m.destroyed||(m.setTransition(c,e),0!==c&&(m.transitionStart(),m.params.autoHeight&&Ga(()=>{m.updateAutoHeight()}),ff(m.wrapperEl,()=>{f&&m.transitionEnd()})))}if(Array.isArray(f))for(h=0;h<f.length;h+=1)f[h]!==u&&f[h]instanceof d&&p(f[h]);else f instanceof d&&u!==f&&p(f)}})},function tse(n){let{swiper:e,extendParams:t,on:i}=n;t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),e.a11y={clicked:!1};let r=null;function s(T){const I=r;0!==I.length&&(I.innerHTML="",I.innerHTML=T)}const o=T=>(Array.isArray(T)?T:[T]).filter(I=>!!I);function l(T){(T=o(T)).forEach(I=>{I.setAttribute("tabIndex","0")})}function c(T){(T=o(T)).forEach(I=>{I.setAttribute("tabIndex","-1")})}function u(T,I){(T=o(T)).forEach(O=>{O.setAttribute("role",I)})}function d(T,I){(T=o(T)).forEach(O=>{O.setAttribute("aria-roledescription",I)})}function h(T,I){(T=o(T)).forEach(O=>{O.setAttribute("aria-label",I)})}function g(T){(T=o(T)).forEach(I=>{I.setAttribute("aria-disabled",!0)})}function v(T){(T=o(T)).forEach(I=>{I.setAttribute("aria-disabled",!1)})}function _(T){if(13!==T.keyCode&&32!==T.keyCode)return;const I=e.params.a11y,O=T.target;e.pagination&&e.pagination.el&&(O===e.pagination.el||e.pagination.el.contains(T.target))&&!T.target.matches(ca(e.params.pagination.bulletClass))||(e.navigation&&e.navigation.nextEl&&O===e.navigation.nextEl&&(e.isEnd&&!e.params.loop||e.slideNext(),s(e.isEnd?I.lastSlideMessage:I.nextSlideMessage)),e.navigation&&e.navigation.prevEl&&O===e.navigation.prevEl&&(e.isBeginning&&!e.params.loop||e.slidePrev(),s(e.isBeginning?I.firstSlideMessage:I.prevSlideMessage)),e.pagination&&O.matches(ca(e.params.pagination.bulletClass))&&O.click())}function w(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function S(){return w()&&e.params.pagination.clickable}const M=(T,I,O)=>{l(T),"BUTTON"!==T.tagName&&(u(T,"button"),T.addEventListener("keydown",_)),h(T,O),function f(T,I){(T=o(T)).forEach(O=>{O.setAttribute("aria-controls",I)})}(T,I)},b=()=>{e.a11y.clicked=!0},x=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},A=T=>{if(e.a11y.clicked)return;const I=T.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!I||!e.slides.includes(I))return;const O=e.slides.indexOf(I)===e.activeIndex,D=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(I);O||D||T.sourceCapabilities&&T.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,e.slideTo(e.slides.indexOf(I),0))},R=()=>{const T=e.params.a11y;T.itemRoleDescriptionMessage&&d(e.slides,T.itemRoleDescriptionMessage),T.slideRole&&u(e.slides,T.slideRole);const I=e.slides.length;T.slideLabelMessage&&e.slides.forEach((O,D)=>{const F=e.params.loop?parseInt(O.getAttribute("data-swiper-slide-index"),10):D;h(O,T.slideLabelMessage.replace(/\{\{index\}\}/,F+1).replace(/\{\{slidesLength\}\}/,I))})};i("beforeInit",()=>{r=$r("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),i("afterInit",()=>{e.params.a11y.enabled&&(()=>{const T=e.params.a11y;e.el.append(r);const I=e.el;T.containerRoleDescriptionMessage&&d(I,T.containerRoleDescriptionMessage),T.containerMessage&&h(I,T.containerMessage);const O=e.wrapperEl,D=T.id||O.getAttribute("id")||`swiper-wrapper-${function a(T){return void 0===T&&(T=16),"x".repeat(T).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`,F=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";(function p(T,I){(T=o(T)).forEach(O=>{O.setAttribute("id",I)})})(O,D),function m(T,I){(T=o(T)).forEach(O=>{O.setAttribute("aria-live",I)})}(O,F),R();let{nextEl:B,prevEl:W}=e.navigation?e.navigation:{};B=o(B),W=o(W),B&&B.forEach(V=>M(V,D,T.nextSlideMessage)),W&&W.forEach(V=>M(V,D,T.prevSlideMessage)),S()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(Y=>{Y.addEventListener("keydown",_)}),e.el.addEventListener("focus",A,!0),e.el.addEventListener("pointerdown",b,!0),e.el.addEventListener("pointerup",x,!0)})()}),i("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&R()}),i("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&function y(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:T,prevEl:I}=e.navigation;I&&(e.isBeginning?(g(I),c(I)):(v(I),l(I))),T&&(e.isEnd?(g(T),c(T)):(v(T),l(T)))}()}),i("paginationUpdate",()=>{e.params.a11y.enabled&&function E(){const T=e.params.a11y;w()&&e.pagination.bullets.forEach(I=>{e.params.pagination.clickable&&(l(I),e.params.pagination.renderBullet||(u(I,"button"),h(I,T.paginationBulletMessage.replace(/\{\{index\}\}/,df(I)+1)))),I.matches(ca(e.params.pagination.bulletActiveClass))?I.setAttribute("aria-current","true"):I.removeAttribute("aria-current")})}()}),i("destroy",()=>{e.params.a11y.enabled&&function C(){r&&r.remove();let{nextEl:T,prevEl:I}=e.navigation?e.navigation:{};T=o(T),I=o(I),T&&T.forEach(O=>O.removeEventListener("keydown",_)),I&&I.forEach(O=>O.removeEventListener("keydown",_)),S()&&(Array.isArray(e.pagination.el)?e.pagination.el:[e.pagination.el]).forEach(D=>{D.removeEventListener("keydown",_)}),e.el.removeEventListener("focus",A,!0),e.el.removeEventListener("pointerdown",b,!0),e.el.removeEventListener("pointerup",x,!0)}()})},function nse(n){let{swiper:e,extendParams:t,on:i}=n;t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let r=!1,s={};const o=h=>h.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),a=h=>{const p=fn();let m;m=h?new URL(h):p.location;const g=m.pathname.slice(1).split("/").filter(w=>""!==w),v=g.length;return{key:g[v-2],value:g[v-1]}},l=(h,p)=>{const m=fn();if(!r||!e.params.history.enabled)return;let g;g=e.params.url?new URL(e.params.url):m.location;let _=o(e.slides[p].getAttribute("data-history"));if(e.params.history.root.length>0){let w=e.params.history.root;"/"===w[w.length-1]&&(w=w.slice(0,w.length-1)),_=`${w}/${h?`${h}/`:""}${_}`}else g.pathname.includes(h)||(_=`${h?`${h}/`:""}${_}`);e.params.history.keepQuery&&(_+=g.search);const y=m.history.state;y&&y.value===_||(e.params.history.replaceState?m.history.replaceState({value:_},null,_):m.history.pushState({value:_},null,_))},c=(h,p,m)=>{if(p)for(let g=0,v=e.slides.length;g<v;g+=1){const _=e.slides[g];if(o(_.getAttribute("data-history"))===p){const w=e.getSlideIndex(_);e.slideTo(w,h,m)}}else e.slideTo(0,h,m)},u=()=>{s=a(e.params.url),c(e.params.speed,s.value,!1)};i("init",()=>{e.params.history.enabled&&(()=>{const h=fn();if(e.params.history){if(!h.history||!h.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);if(r=!0,s=a(e.params.url),!s.key&&!s.value)return void(e.params.history.replaceState||h.addEventListener("popstate",u));c(0,s.value,e.params.runCallbacksOnInit),e.params.history.replaceState||h.addEventListener("popstate",u)}})()}),i("destroy",()=>{e.params.history.enabled&&(()=>{const h=fn();e.params.history.replaceState||h.removeEventListener("popstate",u)})()}),i("transitionEnd _freeModeNoMomentumRelease",()=>{r&&l(e.params.history.key,e.activeIndex)}),i("slideChange",()=>{r&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})},function ise(n){let{swiper:e,extendParams:t,emit:i,on:r}=n,s=!1;const o=li(),a=fn();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(f,h){if(e.virtual&&e.params.virtual.enabled){const p=e.slides.filter(g=>g.getAttribute("data-hash")===h)[0];return p?parseInt(p.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(ci(e.slidesEl,`.${e.params.slideClass}[data-hash="${h}"], swiper-slide[data-hash="${h}"]`)[0])}}});const l=()=>{i("hashChange");const f=o.location.hash.replace("#",""),h=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex];if(f!==(h?h.getAttribute("data-hash"):"")){const m=e.params.hashNavigation.getSlideIndex(e,f);if(typeof m>"u"||Number.isNaN(m))return;e.slideTo(m)}},c=()=>{if(!s||!e.params.hashNavigation.enabled)return;const f=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],h=f?f.getAttribute("data-hash")||f.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&a.history&&a.history.replaceState?(a.history.replaceState(null,null,`#${h}`||""),i("hashSet")):(o.location.hash=h||"",i("hashSet"))};r("init",()=>{e.params.hashNavigation.enabled&&(()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;s=!0;const f=o.location.hash.replace("#","");if(f){const p=e.params.hashNavigation.getSlideIndex(e,f);e.slideTo(p||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&a.addEventListener("hashchange",l)})()}),r("destroy",()=>{e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&a.removeEventListener("hashchange",l)}),r("transitionEnd _freeModeNoMomentumRelease",()=>{s&&c()}),r("slideChange",()=>{s&&e.params.cssMode&&c()})},function rse(n){let{swiper:e,extendParams:t,on:i,emit:r,params:s}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,u,f,h,p,m,g,v,l=s&&s.autoplay?s.autoplay.delay:3e3,c=s&&s.autoplay?s.autoplay.delay:3e3,d=(new Date).getTime;function _(D){!e||e.destroyed||!e.wrapperEl||D.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",_),x())}const y=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=u,f=!1);const D=e.autoplay.paused?u:d+c-(new Date).getTime();e.autoplay.timeLeft=D,r("autoplayTimeLeft",D,D/l),a=requestAnimationFrame(()=>{y()})},S=D=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),y();let F=typeof D>"u"?e.params.autoplay.delay:D;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const B=(()=>{let D;return D=e.virtual&&e.params.virtual.enabled?e.slides.filter(B=>B.classList.contains("swiper-slide-active"))[0]:e.slides[e.activeIndex],D?parseInt(D.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(B)&&B>0&&typeof D>"u"&&(F=B,l=B,c=B),u=F;const W=e.params.speed,V=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(W,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,W,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(W,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,W,!0,!0),r("autoplay")),e.params.cssMode&&(d=(new Date).getTime(),requestAnimationFrame(()=>{S()})))};return F>0?(clearTimeout(o),o=setTimeout(()=>{V()},F)):requestAnimationFrame(()=>{V()}),F},E=()=>{e.autoplay.running=!0,S(),r("autoplayStart")},M=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),r("autoplayStop")},b=(D,F)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),D||(v=!0);const B=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",_):x()};if(e.autoplay.paused=!0,F)return g&&(u=e.params.autoplay.delay),g=!1,void B();u=(u||e.params.autoplay.delay)-((new Date).getTime()-d),(!(e.isEnd&&u<0)||e.params.loop)&&(u<0&&(u=0),B())},x=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=(new Date).getTime(),v?(v=!1,S(u)):S(),e.autoplay.paused=!1,r("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const D=li();"hidden"===D.visibilityState&&(v=!0,b(!0)),"visible"===D.visibilityState&&x()},R=D=>{"mouse"===D.pointerType&&(v=!0,b(!0))},N=D=>{"mouse"===D.pointerType&&e.autoplay.paused&&x()};i("init",()=>{e.params.autoplay.enabled&&(e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",R),e.el.addEventListener("pointerleave",N)),li().addEventListener("visibilitychange",A),d=(new Date).getTime(),E())}),i("destroy",()=>{e.el.removeEventListener("pointerenter",R),e.el.removeEventListener("pointerleave",N),li().removeEventListener("visibilitychange",A),e.autoplay.running&&M()}),i("beforeTransitionStart",(D,F,B)=>{e.destroyed||!e.autoplay.running||(B||!e.params.autoplay.disableOnInteraction?b(!0,!0):M())}),i("sliderFirstMove",()=>{if(!e.destroyed&&e.autoplay.running){if(e.params.autoplay.disableOnInteraction)return void M();h=!0,p=!1,v=!1,m=setTimeout(()=>{v=!0,p=!0,b(!0)},200)}}),i("touchEnd",()=>{if(!e.destroyed&&e.autoplay.running&&h){if(clearTimeout(m),clearTimeout(o),e.params.autoplay.disableOnInteraction)return p=!1,void(h=!1);p&&e.params.cssMode&&x(),p=!1,h=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(g=!0)}),Object.assign(e.autoplay,{start:E,stop:M,pause:b,resume:x})},function sse(n){let{swiper:e,extendParams:t,on:i}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,s=!1;function o(){const c=e.thumbs.swiper;if(!c||c.destroyed)return;const u=c.clickedIndex,d=c.clickedSlide;if(d&&d.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof u>"u"||null===u)return;let f;f=c.params.loop?parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):u,e.params.loop?e.slideToLoop(f):e.slideTo(f)}function a(){const{thumbs:c}=e.params;if(r)return!1;r=!0;const u=e.constructor;if(c.swiper instanceof u)e.thumbs.swiper=c.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(cf(c.swiper)){const d=Object.assign({},c.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new u(d),s=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",o),!0}function l(c){const u=e.thumbs.swiper;if(!u||u.destroyed)return;const d="auto"===u.params.slidesPerView?u.slidesPerViewDynamic():u.params.slidesPerView;let f=1;const h=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(f=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),u.slides.forEach(g=>g.classList.remove(h)),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let g=0;g<f;g+=1)ci(u.slidesEl,`[data-swiper-slide-index="${e.realIndex+g}"]`).forEach(v=>{v.classList.add(h)});else for(let g=0;g<f;g+=1)u.slides[e.realIndex+g]&&u.slides[e.realIndex+g].classList.add(h);const p=e.params.thumbs.autoScrollOffset,m=p&&!u.params.loop;if(e.realIndex!==u.realIndex||m){const g=u.activeIndex;let v,_;if(u.params.loop){const y=u.slides.filter(w=>w.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];v=u.slides.indexOf(y),_=e.activeIndex>e.previousIndex?"next":"prev"}else v=e.realIndex,_=v>e.previousIndex?"next":"prev";m&&(v+="next"===_?p:-1*p),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(v)<0&&(u.params.centeredSlides&&(v=v>g?v-Math.floor(d/2)+1:v+Math.floor(d/2)-1),u.slideTo(v,c?0:void 0))}}e.thumbs={swiper:null},i("beforeInit",()=>{const{thumbs:c}=e.params;if(c&&c.swiper)if("string"==typeof c.swiper||c.swiper instanceof HTMLElement){const u=li(),d=()=>{const h="string"==typeof c.swiper?u.querySelector(c.swiper):c.swiper;if(h&&h.swiper)c.swiper=h.swiper,a(),l(!0);else if(h){const p=m=>{c.swiper=m.detail[0],h.removeEventListener("init",p),a(),l(!0),c.swiper.update(),e.update()};h.addEventListener("init",p)}return h},f=()=>{e.destroyed||d()||requestAnimationFrame(f)};requestAnimationFrame(f)}else a(),l(!0)}),i("slideChange update resize observerUpdate",()=>{l()}),i("setTransition",(c,u)=>{const d=e.thumbs.swiper;!d||d.destroyed||d.setTransition(u)}),i("beforeDestroy",()=>{const c=e.thumbs.swiper;!c||c.destroyed||s&&c.destroy()}),Object.assign(e.thumbs,{init:a,update:l})},function ose(n){let{swiper:e,extendParams:t,emit:i,once:r}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:function s(){if(e.params.cssMode)return;const l=e.getTranslate();e.setTranslate(l),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})},onTouchMove:function o(){if(e.params.cssMode)return;const{touchEventsData:l,touches:c}=e;0===l.velocities.length&&l.velocities.push({position:c[e.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[e.isHorizontal()?"currentX":"currentY"],time:Pr()})},onTouchEnd:function a(l){let{currentPos:c}=l;if(e.params.cssMode)return;const{params:u,wrapperEl:d,rtlTranslate:f,snapGrid:h,touchEventsData:p}=e,g=Pr()-p.touchStartTime;if(c<-e.minTranslate())e.slideTo(e.activeIndex);else if(c>-e.maxTranslate())e.slideTo(e.slides.length<h.length?h.length-1:e.slides.length-1);else{if(u.freeMode.momentum){if(p.velocities.length>1){const b=p.velocities.pop(),x=p.velocities.pop(),R=b.time-x.time;e.velocity=(b.position-x.position)/R,e.velocity/=2,Math.abs(e.velocity)<u.freeMode.minimumVelocity&&(e.velocity=0),(R>150||Pr()-b.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=u.freeMode.momentumVelocityRatio,p.velocities.length=0;let v=1e3*u.freeMode.momentumRatio,y=e.translate+e.velocity*v;f&&(y=-y);let S,w=!1;const E=20*Math.abs(e.velocity)*u.freeMode.momentumBounceRatio;let M;if(y<e.maxTranslate())u.freeMode.momentumBounce?(y+e.maxTranslate()<-E&&(y=e.maxTranslate()-E),S=e.maxTranslate(),w=!0,p.allowMomentumBounce=!0):y=e.maxTranslate(),u.loop&&u.centeredSlides&&(M=!0);else if(y>e.minTranslate())u.freeMode.momentumBounce?(y-e.minTranslate()>E&&(y=e.minTranslate()+E),S=e.minTranslate(),w=!0,p.allowMomentumBounce=!0):y=e.minTranslate(),u.loop&&u.centeredSlides&&(M=!0);else if(u.freeMode.sticky){let b;for(let x=0;x<h.length;x+=1)if(h[x]>-y){b=x;break}y=Math.abs(h[b]-y)<Math.abs(h[b-1]-y)||"next"===e.swipeDirection?h[b]:h[b-1],y=-y}if(M&&r("transitionEnd",()=>{e.loopFix()}),0!==e.velocity){if(v=f?Math.abs((-y-e.translate)/e.velocity):Math.abs((y-e.translate)/e.velocity),u.freeMode.sticky){const b=Math.abs((f?-y:y)-e.translate),x=e.slidesSizesGrid[e.activeIndex];v=b<x?u.speed:b<2*x?1.5*u.speed:2.5*u.speed}}else if(u.freeMode.sticky)return void e.slideToClosest();u.freeMode.momentumBounce&&w?(e.updateProgress(S),e.setTransition(v),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating=!0,ff(d,()=>{!e||e.destroyed||!p.allowMomentumBounce||(i("momentumBounce"),e.setTransition(u.speed),setTimeout(()=>{e.setTranslate(S),ff(d,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(y),e.setTransition(v),e.setTranslate(y),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,ff(d,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(y),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(u.freeMode.sticky)return void e.slideToClosest();u.freeMode&&i("_freeModeNoMomentumRelease")}(!u.freeMode.momentum||g>=u.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})},function ase(n){let i,r,s,{swiper:e,extendParams:t}=n;t({grid:{rows:1,fill:"column"}});const o=()=>{let u=e.params.spaceBetween;return"string"==typeof u&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*e.size:"string"==typeof u&&(u=parseFloat(u)),u};e.grid={initSlides:u=>{const{slidesPerView:d}=e.params,{rows:f,fill:h}=e.params.grid;s=Math.floor(u/f),i=Math.floor(u/f)===u/f?u:Math.ceil(u/f)*f,"auto"!==d&&"row"===h&&(i=Math.max(i,d*f)),r=i/f},updateSlide:(u,d,f,h)=>{const{slidesPerGroup:p}=e.params,m=o(),{rows:g,fill:v}=e.params.grid;let _,y,w;if("row"===v&&p>1){const S=Math.floor(u/(p*g)),E=u-g*p*S,M=0===S?p:Math.min(Math.ceil((f-S*g*p)/g),p);w=Math.floor(E/M),y=E-w*M+S*p,_=y+w*i/g,d.style.order=_}else"column"===v?(y=Math.floor(u/g),w=u-y*g,(y>s||y===s&&w===g-1)&&(w+=1,w>=g&&(w=0,y+=1))):(w=Math.floor(u/r),y=u-w*r);d.row=w,d.column=y,d.style[h("margin-top")]=0!==w?m&&`${m}px`:""},updateWrapperSize:(u,d,f)=>{const{centeredSlides:h,roundLengths:p}=e.params,m=o(),{rows:g}=e.params.grid;if(e.virtualSize=(u+m)*i,e.virtualSize=Math.ceil(e.virtualSize/g)-m,e.wrapperEl.style[f("width")]=`${e.virtualSize+m}px`,h){const v=[];for(let _=0;_<d.length;_+=1){let y=d[_];p&&(y=Math.floor(y)),d[_]<e.virtualSize+d[0]&&v.push(y)}d.splice(0,d.length),d.push(...v)}}}},function hse(n){let{swiper:e}=n;Object.assign(e,{appendSlide:lse.bind(e),prependSlide:cse.bind(e),addSlide:use.bind(e),removeSlide:dse.bind(e),removeAllSlides:fse.bind(e)})},function pse(n){let{swiper:e,extendParams:t,on:i}=n;t({fadeEffect:{crossFade:!1}}),Du({effect:"fade",swiper:e,on:i,setTranslate:()=>{const{slides:o}=e;for(let l=0;l<o.length;l+=1){const c=e.slides[l];let d=-c.swiperSlideOffset;e.params.virtualTranslate||(d-=e.translate);let f=0;e.isHorizontal()||(f=d,d=0);const h=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),p=Jf(0,c);p.style.opacity=h,p.style.transform=`translate3d(${d}px, ${f}px, 0px)`}},setTransition:o=>{const a=e.slides.map(l=>Wa(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`}),lv({swiper:e,duration:o,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function mse(n){let{swiper:e,extendParams:t,on:i}=n;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(l,c,u)=>{let d=l.querySelector(u?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),f=l.querySelector(u?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");d||(d=$r("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(u?"left":"top")).split(" ")),l.append(d)),f||(f=$r("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(u?"right":"bottom")).split(" ")),l.append(f)),d&&(d.style.opacity=Math.max(-c,0)),f&&(f.style.opacity=Math.max(c,0))};Du({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:l,wrapperEl:c,slides:u,width:d,height:f,rtlTranslate:h,size:p,browser:m}=e,g=e.params.cubeEffect,v=e.isHorizontal(),_=e.virtual&&e.params.virtual.enabled;let w,y=0;g.shadow&&(v?(w=e.wrapperEl.querySelector(".swiper-cube-shadow"),w||(w=$r("div","swiper-cube-shadow"),e.wrapperEl.append(w)),w.style.height=`${d}px`):(w=l.querySelector(".swiper-cube-shadow"),w||(w=$r("div","swiper-cube-shadow"),l.append(w))));for(let E=0;E<u.length;E+=1){const M=u[E];let b=E;_&&(b=parseInt(M.getAttribute("data-swiper-slide-index"),10));let x=90*b,A=Math.floor(x/360);h&&(x=-x,A=Math.floor(-x/360));const R=Math.max(Math.min(M.progress,1),-1);let N=0,C=0,T=0;b%4==0?(N=4*-A*p,T=0):(b-1)%4==0?(N=0,T=4*-A*p):(b-2)%4==0?(N=p+4*A*p,T=p):(b-3)%4==0&&(N=-p,T=3*p+4*p*A),h&&(N=-N),v||(C=N,N=0),R<=1&&R>-1&&(y=90*b+90*R,h&&(y=90*-b-90*R)),M.style.transform=`rotateX(${v?0:-x}deg) rotateY(${v?x:0}deg) translate3d(${N}px, ${C}px, ${T}px)`,g.slideShadows&&r(M,R,v)}if(c.style.transformOrigin=`50% 50% -${p/2}px`,c.style["-webkit-transform-origin"]=`50% 50% -${p/2}px`,g.shadow)if(v)w.style.transform=`translate3d(0px, ${d/2+g.shadowOffset}px, ${-d/2}px) rotateX(90deg) rotateZ(0deg) scale(${g.shadowScale})`;else{const E=Math.abs(y)-90*Math.floor(Math.abs(y)/90),M=1.5-(Math.sin(2*E*Math.PI/360)/2+Math.cos(2*E*Math.PI/360)/2),x=g.shadowScale/M;w.style.transform=`scale3d(${g.shadowScale}, 1, ${x}) translate3d(0px, ${f/2+g.shadowOffset}px, ${-f/2/x}px) rotateX(-90deg)`}const S=(m.isSafari||m.isWebView)&&m.needPerspectiveFix?-p/2:0;c.style.transform=`translate3d(0px,0,${S}px) rotateX(${e.isHorizontal()?0:y}deg) rotateY(${e.isHorizontal()?-y:0}deg)`,c.style.setProperty("--swiper-cube-translate-z",`${S}px`)},setTransition:l=>{const{el:c,slides:u}=e;if(u.forEach(d=>{d.style.transitionDuration=`${l}ms`,d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(f=>{f.style.transitionDuration=`${l}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const d=c.querySelector(".swiper-cube-shadow");d&&(d.style.transitionDuration=`${l}ms`)}},recreateShadows:()=>{const l=e.isHorizontal();e.slides.forEach(c=>{const u=Math.max(Math.min(c.progress,1),-1);r(c,u,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function gse(n){let{swiper:e,extendParams:t,on:i}=n;t({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(l,c)=>{let u=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),d=e.isHorizontal()?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");u||(u=Pu("flip",l,e.isHorizontal()?"left":"top")),d||(d=Pu("flip",l,e.isHorizontal()?"right":"bottom")),u&&(u.style.opacity=Math.max(-c,0)),d&&(d.style.opacity=Math.max(c,0))};Du({effect:"flip",swiper:e,on:i,setTranslate:()=>{const{slides:l,rtlTranslate:c}=e,u=e.params.flipEffect;for(let d=0;d<l.length;d+=1){const f=l[d];let h=f.progress;e.params.flipEffect.limitRotation&&(h=Math.max(Math.min(f.progress,1),-1));const p=f.swiperSlideOffset;let g=-180*h,v=0,_=e.params.cssMode?-p-e.translate:-p,y=0;e.isHorizontal()?c&&(g=-g):(y=_,_=0,v=-g,g=0),f.style.zIndex=-Math.abs(Math.round(h))+l.length,u.slideShadows&&r(f,h);const w=`translate3d(${_}px, ${y}px, 0px) rotateX(${v}deg) rotateY(${g}deg)`;Jf(0,f).style.transform=w}},setTransition:l=>{const c=e.slides.map(u=>Wa(u));c.forEach(u=>{u.style.transitionDuration=`${l}ms`,u.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(d=>{d.style.transitionDuration=`${l}ms`})}),lv({swiper:e,duration:l,transformElements:c})},recreateShadows:()=>{e.slides.forEach(l=>{let c=l.progress;e.params.flipEffect.limitRotation&&(c=Math.max(Math.min(l.progress,1),-1)),r(l,c)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function vse(n){let{swiper:e,extendParams:t,on:i}=n;t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),Du({effect:"coverflow",swiper:e,on:i,setTranslate:()=>{const{width:o,height:a,slides:l,slidesSizesGrid:c}=e,u=e.params.coverflowEffect,d=e.isHorizontal(),f=e.translate,h=d?o/2-f:a/2-f,p=d?u.rotate:-u.rotate,m=u.depth;for(let g=0,v=l.length;g<v;g+=1){const _=l[g],y=c[g],S=(h-_.swiperSlideOffset-y/2)/y,E="function"==typeof u.modifier?u.modifier(S):S*u.modifier;let M=d?p*E:0,b=d?0:p*E,x=-m*Math.abs(E),A=u.stretch;"string"==typeof A&&-1!==A.indexOf("%")&&(A=parseFloat(u.stretch)/100*y);let R=d?0:A*E,N=d?A*E:0,C=1-(1-u.scale)*Math.abs(E);Math.abs(N)<.001&&(N=0),Math.abs(R)<.001&&(R=0),Math.abs(x)<.001&&(x=0),Math.abs(M)<.001&&(M=0),Math.abs(b)<.001&&(b=0),Math.abs(C)<.001&&(C=0);const T=`translate3d(${N}px,${R}px,${x}px)  rotateX(${b}deg) rotateY(${M}deg) scale(${C})`;if(Jf(0,_).style.transform=T,_.style.zIndex=1-Math.abs(Math.round(E)),u.slideShadows){let O=_.querySelector(d?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),D=_.querySelector(d?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");O||(O=Pu("coverflow",_,d?"left":"top")),D||(D=Pu("coverflow",_,d?"right":"bottom")),O&&(O.style.opacity=E>0?E:0),D&&(D.style.opacity=-E>0?-E:0)}}},setTransition:o=>{e.slides.map(l=>Wa(l)).forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${o}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function yse(n){let{swiper:e,extendParams:t,on:i}=n;t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const r=a=>"string"==typeof a?a:`${a}px`;Du({effect:"creative",swiper:e,on:i,setTranslate:()=>{const{slides:a,wrapperEl:l,slidesSizesGrid:c}=e,u=e.params.creativeEffect,{progressMultiplier:d}=u,f=e.params.centeredSlides;f&&(l.style.transform=`translateX(calc(50% - ${c[0]/2-e.params.slidesOffsetBefore||0}px))`);for(let h=0;h<a.length;h+=1){const p=a[h],m=p.progress,g=Math.min(Math.max(p.progress,-u.limitProgress),u.limitProgress);let v=g;f||(v=Math.min(Math.max(p.originalProgress,-u.limitProgress),u.limitProgress));const _=p.swiperSlideOffset,y=[e.params.cssMode?-_-e.translate:-_,0,0],w=[0,0,0];let S=!1;e.isHorizontal()||(y[1]=y[0],y[0]=0);let E={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};g<0?(E=u.next,S=!0):g>0&&(E=u.prev,S=!0),y.forEach((C,T)=>{y[T]=`calc(${C}px + (${r(E.translate[T])} * ${Math.abs(g*d)}))`}),w.forEach((C,T)=>{w[T]=E.rotate[T]*Math.abs(g*d)}),p.style.zIndex=-Math.abs(Math.round(m))+a.length;const M=y.join(", "),A=v<0?1+(1-E.opacity)*v*d:1-(1-E.opacity)*v*d,R=`translate3d(${M}) rotateX(${w[0]}deg) rotateY(${w[1]}deg) rotateZ(${w[2]}deg) ${v<0?`scale(${1+(1-E.scale)*v*d})`:`scale(${1-(1-E.scale)*v*d})`}`;if(S&&E.shadow||!S){let C=p.querySelector(".swiper-slide-shadow");!C&&E.shadow&&(C=Pu("creative",p)),C&&(C.style.opacity=Math.min(Math.max(Math.abs(u.shadowPerProgress?g*(1/u.limitProgress):g),0),1))}const N=Jf(0,p);N.style.transform=R,N.style.opacity=A,E.origin&&(N.style.transformOrigin=E.origin)}},setTransition:a=>{const l=e.slides.map(c=>Wa(c));l.forEach(c=>{c.style.transitionDuration=`${a}ms`,c.querySelectorAll(".swiper-slide-shadow").forEach(u=>{u.style.transitionDuration=`${a}ms`})}),lv({swiper:e,duration:a,transformElements:l,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})},function _se(n){let{swiper:e,extendParams:t,on:i}=n;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),Du({effect:"cards",swiper:e,on:i,setTranslate:()=>{const{slides:o,activeIndex:a,rtlTranslate:l}=e,c=e.params.cardsEffect,{startTranslate:u,isTouched:d}=e.touchEventsData,f=l?-e.translate:e.translate;for(let h=0;h<o.length;h+=1){const p=o[h],m=p.progress,g=Math.min(Math.max(m,-4),4);let v=p.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(v-=o[0].swiperSlideOffset);let _=e.params.cssMode?-v-e.translate:-v,y=0;const w=-100*Math.abs(g);let S=1,E=-c.perSlideRotate*g,M=c.perSlideOffset-.75*Math.abs(g);const b=e.virtual&&e.params.virtual.enabled?e.virtual.from+h:h;if((b===a||b===a-1)&&g>0&&g<1&&(d||e.params.cssMode)&&f<u||(b===a||b===a+1)&&g<0&&g>-1&&(d||e.params.cssMode)&&f>u){const T=(1-Math.abs((Math.abs(g)-.5)/.5))**.5;E+=-28*g*T,S+=-.5*T,M+=96*T,y=-25*T*Math.abs(g)+"%"}if(_=g<0?`calc(${_}px ${l?"-":"+"} (${M*Math.abs(g)}%))`:g>0?`calc(${_}px ${l?"-":"+"} (-${M*Math.abs(g)}%))`:`${_}px`,!e.isHorizontal()){const T=y;y=_,_=T}const N=`\n        translate3d(${_}, ${y}, ${w}px)\n        rotateZ(${c.rotate?l?-E:E:0}deg)\n        scale(${g<0?""+(1+(1-S)*g):""+(1-(1-S)*g)})\n      `;if(c.slideShadows){let T=p.querySelector(".swiper-slide-shadow");T||(T=Pu("cards",p)),T&&(T.style.opacity=Math.min(Math.max((Math.abs(g)-.5)/.5,0),1))}p.style.zIndex=-Math.abs(Math.round(m))+o.length,Jf(0,p).style.transform=N}},setTransition:o=>{const a=e.slides.map(l=>Wa(l));a.forEach(l=>{l.style.transitionDuration=`${o}ms`,l.querySelectorAll(".swiper-slide-shadow").forEach(c=>{c.style.transitionDuration=`${o}ms`})}),lv({swiper:e,duration:o,transformElements:a})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}];Wn.use(wse);const cv=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function uv(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function dv(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:uv(e[i])&&uv(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:dv(n[i],e[i]):n[i]=e[i]})}function fv(n){return void 0===n&&(n=""),n.replace(/-[a-z]/g,e=>e.toUpperCase().replace("-",""))}const HN=n=>{if(parseFloat(n)===Number(n))return Number(n);if("true"===n||""===n)return!0;if("false"===n)return!1;if("null"===n)return null;if("undefined"!==n){if("string"==typeof n&&n.includes("{")&&n.includes("}")&&n.includes('"')){let e;try{e=JSON.parse(n)}catch{e=n}return e}return n}},VN=["a11y","autoplay","controller","cards-effect","coverflow-effect","creative-effect","cube-effect","fade-effect","flip-effect","free-mode","grid","hash-navigation","history","keyboard","mousewheel","navigation","pagination","parallax","scrollbar","thumbs","virtual","zoom"];function GN(n,e,t){const i={},r={};dv(i,tx);const s=[...cv,"on"],o=s.map(l=>l.replace(/_/,""));s.forEach(l=>{l=l.replace("_",""),typeof n[l]<"u"&&(r[l]=n[l])});const a=[...n.attributes];return"string"==typeof e&&typeof t<"u"&&a.push({name:e,value:t}),a.forEach(l=>{const c=VN.filter(u=>0===l.name.indexOf(`${u}-`))[0];if(c){const u=fv(c),d=fv(l.name.split(`${c}-`)[1]);typeof r[u]>"u"&&(r[u]={}),!0===r[u]&&(r[u]={enabled:!0}),r[u][d]=HN(l.value)}else{const u=fv(l.name);if(!o.includes(u))return;const d=HN(l.value);r[u]&&VN.includes(l.name)?(r[u].constructor!==Object&&(r[u]={}),r[u].enabled=d):r[u]=d}}),dv(i,r),i.navigation?i.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next",...!0!==i.navigation?i.navigation:{}}:!1===i.navigation&&delete i.navigation,i.scrollbar?i.scrollbar={el:".swiper-scrollbar",...!0!==i.scrollbar?i.scrollbar:{}}:!1===i.scrollbar&&delete i.scrollbar,i.pagination?i.pagination={el:".swiper-pagination",...!0!==i.pagination?i.pagination:{}}:!1===i.pagination&&delete i.pagination,{params:i,passedParams:r}}const bse=":host{--swiper-theme-color:#007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{width:100%;height:100%;margin-left:auto;margin-right:auto;position:relative;overflow:hidden;overflow:clip;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function,initial);box-sizing:content-box}.swiper-android ::slotted(swiper-slide),.swiper-ios ::slotted(swiper-slide),.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}::slotted(swiper-slide){flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}::slotted(.swiper-slide-invisible-blank){visibility:hidden}.swiper-autoheight,.swiper-autoheight ::slotted(swiper-slide){height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden ::slotted(swiper-slide){transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d ::slotted(swiper-slide){transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode ::slotted(swiper-slide){scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode ::slotted(swiper-slide){scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered ::slotted(swiper-slide){scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal ::slotted(swiper-slide):first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical ::slotted(swiper-slide):first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-virtual ::slotted(swiper-slide){-webkit-backface-visibility:hidden;transform:translateZ(0)}.swiper-virtual.swiper-css-mode .swiper-wrapper::after{content:'';position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper::after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper::after{width:1px;height:var(--swiper-virtual-size)}:host{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:var(--swiper-navigation-top-offset,50%);width:calc(var(--swiper-navigation-size)/ 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size)/ 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next svg,.swiper-button-prev svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-next svg,.swiper-rtl .swiper-button-prev svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset,10px);right:auto}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset,10px);left:auto}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translate3d(0,0,0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:var(--swiper-pagination-bottom,8px);top:var(--swiper-pagination-top,auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius,50%);background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:var(--swiper-pagination-right,8px);left:var(--swiper-pagination-left,auto);top:50%;transform:translate3d(0px,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color,inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color,rgba(0,0,0,.25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size,4px);left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:var(--swiper-pagination-progressbar-size,4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:var(--swiper-scrollbar-border-radius,10px);position:relative;-ms-touch-action:none;background:var(--swiper-scrollbar-bg-color,rgba(0,0,0,.1))}.swiper-scrollbar-disabled>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-disabled{display:none!important}.swiper-horizontal>.swiper-scrollbar,.swiper-scrollbar.swiper-scrollbar-horizontal{position:absolute;left:var(--swiper-scrollbar-sides-offset,1%);bottom:var(--swiper-scrollbar-bottom,4px);top:var(--swiper-scrollbar-top,auto);z-index:50;height:var(--swiper-scrollbar-size,4px);width:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar.swiper-scrollbar-vertical,.swiper-vertical>.swiper-scrollbar{position:absolute;left:var(--swiper-scrollbar-left,auto);right:var(--swiper-scrollbar-right,4px);top:var(--swiper-scrollbar-sides-offset,1%);z-index:50;width:var(--swiper-scrollbar-size,4px);height:calc(100% - 2 * var(--swiper-scrollbar-sides-offset,1%))}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:var(--swiper-scrollbar-drag-bg-color,rgba(0,0,0,.5));border-radius:var(--swiper-scrollbar-border-radius,10px);left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}::slotted(.swiper-slide-zoomed){cursor:move;touch-action:none}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode ::slotted(swiper-slide){transition-timing-function:ease-out}.swiper-fade ::slotted(swiper-slide){pointer-events:none;transition-property:opacity}.swiper-fade ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-fade ::slotted(.swiper-slide-active),.swiper-fade ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-cube.swiper-rtl ::slotted(swiper-slide){transform-origin:100% 0}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-cube ::slotted(.swiper-slide-active),.swiper-cube ::slotted(.swiper-slide-next),.swiper-cube ::slotted(.swiper-slide-prev){pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0px;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:'';background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube ::slotted(.swiper-slide-next)+::slotted(swiper-slide){pointer-events:auto;visibility:visible}.swiper-flip{overflow:visible}.swiper-flip ::slotted(swiper-slide){pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip ::slotted(swiper-slide) ::slotted(swiper-slide){pointer-events:none}.swiper-flip ::slotted(.swiper-slide-active),.swiper-flip ::slotted(.swiper-slide-active) ::slotted(.swiper-slide-active){pointer-events:auto}.swiper-creative ::slotted(swiper-slide){-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards ::slotted(swiper-slide){transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}",WN=typeof window>"u"||typeof HTMLElement>"u"?class Tse{}:HTMLElement,jN='<svg width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>\n    ',YN=(n,e)=>{if(typeof CSSStyleSheet<"u"&&n.adoptedStyleSheets){const t=new CSSStyleSheet;t.replaceSync(e),n.adoptedStyleSheets=[t]}else{const t=document.createElement("style");t.rel="stylesheet",t.textContent=e,n.appendChild(t)}};class XN extends WN{constructor(){super(),this.attachShadow({mode:"open"})}static get nextButtonSvg(){return jN}static get prevButtonSvg(){return jN.replace("/></svg>",' transform-origin="center" transform="rotate(180)"/></svg>')}cssStyles(){return[bse,...this.injectStyles&&Array.isArray(this.injectStyles)?this.injectStyles:[]].join("\n")}cssLinks(){return this.injectStylesUrls||[]}calcSlideSlots(){const e=this.slideSlots||0,t=[...this.querySelectorAll("[slot^=slide-]")].map(i=>parseInt(i.getAttribute("slot").split("slide-")[1],10));if(this.slideSlots=t.length?Math.max(...t)+1:0,this.rendered)if(this.slideSlots>e)for(let i=e;i<this.slideSlots;i+=1){const r=document.createElement("swiper-slide");r.setAttribute("part",`slide slide-${i+1}`);const s=document.createElement("slot");s.setAttribute("name",`slide-${i+1}`),r.appendChild(s),this.shadowRoot.querySelector(".swiper-wrapper").appendChild(r)}else if(this.slideSlots<e){const i=this.swiper.slides;for(let r=i.length-1;r>=0;r-=1)r>this.slideSlots&&i[r].remove()}}render(){if(this.rendered)return;this.calcSlideSlots();let e=this.cssStyles();this.slideSlots>0&&(e=e.replace(/::slotted\(([a-z-0-9.]*)\)/g,"$1")),e.length&&YN(this.shadowRoot,e),this.cssLinks().forEach(i=>{if(this.shadowRoot.querySelector(`link[href="${i}"]`))return;const s=document.createElement("link");s.rel="stylesheet",s.href=i,this.shadowRoot.appendChild(s)});const t=document.createElement("div");t.classList.add("swiper"),t.part="container",t.innerHTML=`\n      <slot name="container-start"></slot>\n      <div class="swiper-wrapper" part="wrapper">\n        <slot></slot>\n        ${Array.from({length:this.slideSlots}).map((i,r)=>`\n        <swiper-slide part="slide slide-${r}">\n          <slot name="slide-${r}"></slot>\n        </swiper-slide>\n        `).join("")}\n      </div>\n      <slot name="container-end"></slot>\n      ${function xse(n){return void 0===n&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}(this.passedParams)?`\n        <div part="button-prev" class="swiper-button-prev">${this.constructor.prevButtonSvg}</div>\n        <div part="button-next" class="swiper-button-next">${this.constructor.nextButtonSvg}</div>\n      `:""}\n      ${function Sse(n){return void 0===n&&(n={}),n.pagination&&typeof n.pagination.el>"u"}(this.passedParams)?'\n        <div part="pagination" class="swiper-pagination"></div>\n      ':""}\n      ${function Ese(n){return void 0===n&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}(this.passedParams)?'\n        <div part="scrollbar" class="swiper-scrollbar"></div>\n      ':""}\n    `,this.shadowRoot.appendChild(t),this.rendered=!0}initialize(){var e=this;if(this.initialized)return;this.initialized=!0;const{params:t,passedParams:i}=GN(this);this.swiperParams=t,this.passedParams=i,delete this.swiperParams.init,this.render(),this.swiper=new Wn(this.shadowRoot.querySelector(".swiper"),{...t.virtual?{}:{observer:!0,observeSlideChildren:this.slideSlots>0},...t,touchEventsTarget:"container",onAny:function(r){"observerUpdate"===r&&e.calcSlideSlots();const s=t.eventsPrefix?`${t.eventsPrefix}${r.toLowerCase()}`:r.toLowerCase();for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const c=new CustomEvent(s,{detail:a,bubbles:!0,cancelable:!0});e.dispatchEvent(c)}})}connectedCallback(){this.initialized&&this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||!1===this.init||"false"===this.getAttribute("init")||this.initialize()}disconnectedCallback(){this.nested&&this.closest("swiper-slide")&&this.closest("swiper-slide").swiperLoopMoveDOM||(this.swiper&&this.swiper.destroy&&this.swiper.destroy(),this.initialized=!1)}updateSwiperOnPropChange(e,t){const{params:i,passedParams:r}=GN(this,e,t);this.passedParams=r,this.swiperParams=i,function Mse(n){let{swiper:e,slides:t,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=n;const c=r.filter(x=>"children"!==x&&"direction"!==x&&"wrapperClass"!==x),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let g,v,_,y,w,S,E,M;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(g=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(v=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||!1===u.pagination)&&d&&!d.el&&(_=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||!1===u.scrollbar)&&h&&!h.el&&(y=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(u.navigation||!1===u.navigation)&&f&&!f.prevEl&&!f.nextEl&&(w=!0);const b=x=>{e[x]&&(e[x].destroy(),"navigation"===x?(e.isElement&&(e[x].prevEl.remove(),e[x].nextEl.remove()),u[x].prevEl=void 0,u[x].nextEl=void 0,e[x].prevEl=void 0,e[x].nextEl=void 0):(e.isElement&&e[x].el.remove(),u[x].el=void 0,e[x].el=void 0))};r.includes("loop")&&e.isElement&&(u.loop&&!i.loop?S=!0:!u.loop&&i.loop?E=!0:M=!0),c.forEach(x=>{if(uv(u[x])&&uv(i[x]))dv(u[x],i[x]),("navigation"===x||"pagination"===x||"scrollbar"===x)&&"enabled"in i[x]&&!i[x].enabled&&b(x);else{const A=i[x];!0!==A&&!1!==A||"navigation"!==x&&"pagination"!==x&&"scrollbar"!==x?u[x]=i[x]:!1===A&&b(x)}}),c.includes("controller")&&!v&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),r.includes("children")&&t&&p&&u.virtual.enabled&&(p.slides=t,p.update(!0)),r.includes("children")&&t&&u.loop&&(M=!0),g&&m.init()&&m.update(!0),v&&(e.controller.control=u.controller.control),_&&(e.isElement&&(!l||"string"==typeof l)&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),y&&(e.isElement&&(!a||"string"==typeof a)&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),h.init(),h.updateSize(),h.setTranslate()),w&&(e.isElement&&((!s||"string"==typeof s)&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.nextButtonSvg,e.el.appendChild(s)),(!o||"string"==typeof o)&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),s.innerHTML=e.hostEl.prevButtonSvg,e.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),f.init(),f.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(S||M)&&e.loopDestroy(),(E||M)&&e.loopCreate(),e.update()}({swiper:this.swiper,passedParams:this.passedParams,changedParams:[fv(e)],..."navigation"===e&&r[e]?{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}:{},..."pagination"===e&&r[e]?{paginationEl:".swiper-pagination"}:{},..."scrollbar"===e&&r[e]?{scrollbarEl:".swiper-scrollbar"}:{}})}attributeChangedCallback(e,t,i){this.initialized&&("true"===t&&null===i&&(i=!1),this.updateSwiperOnPropChange(e,i))}static get observedAttributes(){return cv.filter(t=>t.includes("_")).map(t=>t.replace(/[A-Z]/g,i=>`-${i}`).replace("_","").toLowerCase())}}cv.forEach(n=>{"init"!==n&&(n=n.replace("_",""),Object.defineProperty(XN.prototype,n,{configurable:!0,get(){return(this.passedParams||{})[n]},set(e){this.passedParams||(this.passedParams={}),this.passedParams[n]=e,this.initialized&&this.updateSwiperOnPropChange(n)}}))});typeof window<"u"&&(window.SwiperElementRegisterParams=n=>{cv.push(...n)}),typeof window>"u"||(window.customElements.get("swiper-container")||window.customElements.define("swiper-container",XN),window.customElements.get("swiper-slide")||window.customElements.define("swiper-slide",class Cse extends WN{constructor(){super(),this.attachShadow({mode:"open"})}render(){const e=this.lazy||""===this.getAttribute("lazy")||"true"===this.getAttribute("lazy");if(YN(this.shadowRoot,"::slotted(.swiper-slide-shadow),::slotted(.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-top){position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}::slotted(.swiper-slide-shadow){background:rgba(0,0,0,.15)}::slotted(.swiper-slide-shadow-left){background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-right){background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-top){background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-slide-shadow-bottom){background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}::slotted(.swiper-lazy-preloader){animation:swiper-preloader-spin 1s infinite linear;width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}@keyframes swiper-preloader-spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-cube.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-bottom),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-left),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-right),::slotted(.swiper-slide-shadow-flip.swiper-slide-shadow-top){z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}::slotted(.swiper-zoom-container){width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}::slotted(.swiper-zoom-container)>canvas,::slotted(.swiper-zoom-container)>img,::slotted(.swiper-zoom-container)>svg{max-width:100%;max-height:100%;object-fit:contain}"),this.shadowRoot.appendChild(document.createElement("slot")),e){const t=document.createElement("div");t.classList.add("swiper-lazy-preloader"),this.appendChild(t)}}initialize(){this.render()}connectedCallback(){this.initialize()}})),q8().bootstrapModule(jre).catch(n=>console.error(n))}},Vt=>{Vt(Vt.s=310)}]);